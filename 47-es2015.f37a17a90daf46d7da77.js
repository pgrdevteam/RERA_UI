(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{"9JQn":function(e,t,n){"use strict";n.r(t),t.default=""},M4hY:function(e,t,n){"use strict";n.r(t),t.default=""},N7xX:function(e,t,n){"use strict";n.r(t);var o=n("mrSG"),r=n("8Y7J"),s=n("SVse"),a=n("s7LF"),i=n("ybvR"),l=n("iInd"),c=n("yfuv"),d=n("vTBr"),p=n("FvaC");let m=class{constructor(e,t){this._apiURL=e,this._reraService=t,this._reraService=t,this.apiUrl=e.formTwoApi}postData(e){return this._reraService.securepost(this._apiURL.projectExtensionApi+"secure/insert-project-ext-details",e)}getProjectDtl(e){return this._reraService.get(this._apiURL.projectRegAPI+"project-app/alldatabyprojectid/"+e)}getExtDetailsByProjectId(e){return this._reraService.secureget(this._apiURL.projectExtensionApi+"secure/getproject-ext-details/"+e)}getExtDetailsLetestByProjectId(e){return this._reraService.secureget(this._apiURL.projectExtensionApi+"dsecure/get-latest-by-prj-i/"+e)}getExtLetestByProjectId(e){return this._reraService.secureget(this._apiURL.projectExtensionApi+"secure/get-latestExte-by-prj-id/"+e)}getExtensionByExtId(e){return this._reraService.secureget(this._apiURL.projectExtensionApi+"secure/getproject-ext-details-byid"+e)}getAltDetailsByProjectId(e){return this._reraService.secureget(this._apiURL.projectAltAPI+"secure/getByproject/"+e)}getTotalProjectDetailsByProjectId(e){return this._reraService.secureget(this._apiURL.projectRegAPI+"project-app/alldatabyprojectid/"+e)}getAddedJointDeveloper(e){return this._reraService.secureget(this._apiURL.projectRegAPI+"secure/land-owner/project"+e)}getOrignalProjectDetails(e){return this._reraService.secureget(this._apiURL.projectRegAPI+"secure/details/project-details-project-id"+e)}};m.ctorParameters=()=>[{type:p.a},{type:d.a}],m=o.b([Object(r.B)({providedIn:"root"})],m);var h=n("2Vo4"),u=n("p87Y");let g=class{constructor(e,t){this._http=e,this._apiURL=t}architectFormRemoveService(e){return this._http.secureput(this._apiURL.projectExtensionApi+"secure/form-one/update-form-one/project-reg/"+e+"/status/REJECTED?referenceFormOneId=0","")}assignedArchitectService(e){return this._http.secureget(this._apiURL.projectExtensionApi+"secure/form-one/project-id"+e)}searchArchitectService(e){return this._http.get(this._apiURL.registrationAPI+"architect/details-cao/?arcnumber="+e)}architectFormAssignService(e){return this._http.securepost(this._apiURL.projectExtensionApi+"secure/form-one/assign-architect",e)}engineerFormRemoveService(e){return this._http.secureput(this._apiURL.projectExtensionApi+"secure/form-two/update-form-two/project-reg/"+e+"/status/REJECTED?referenceFormTwoId=0","")}searchEngineerService(e){return this._http.get(this._apiURL.registrationAPI+"engineer/details-no/?no="+e)}assignedEngineerService(e){return this._http.secureget(this._apiURL.projectExtensionApi+"secure/form-two/project"+e)}engineerFormAssignService(e){return this._http.securepost(this._apiURL.projectExtensionApi+"secure/form-two/assign-engineer",e)}assignedCaService(e){return this._http.secureget(this._apiURL.projectExtensionApi+"secure/from-three/project"+e)}caFormRemoveService(e){return this._http.secureput(this._apiURL.projectExtensionApi+"secure/from-three/update-status/project-reg/"+e+"/status/REJECTED?referenceFormThreeId=0","")}searchCaService(e){return this._http.get(this._apiURL.registrationAPI+"ca/ca-detail/no/"+e)}caFormAssignService(e){return this._http.securepost(this._apiURL.projectExtensionApi+"secure/from-three/assign-ca",e)}getStatusOfAssignment(e){return this._http.secureget(this._apiURL.projectExtensionApi+"secure/professional-assignment-status/project-id/"+e)}searchByPanCard(e,t){return this._http.secureget(this._apiURL.registrationAPI+"secure/user_details_by_pan_and_type/"+e+"/"+t)}searchByCOANo(e){return this._http.post(this._apiURL.registrationAPI+"public/user_details_by_pan_and_type_post",e)}anxFormAssignService(e){return this._http.securepost(this._apiURL.projectExtensionApi+"secure/form-two/annx/assign-engineer",e)}anxEngineerService(e){return this._http.secureget(this._apiURL.projectExtensionApi+"secure/form-two/annx/extid+"+e)}anxFormRemoveService(e){return this._http.secureput(this._apiURL.projectExtensionApi+"secure/form-two/annx/update-form-two-annx/project-ext/"+e+"/status/REJECTED?referenceFormTwoId=0","")}getPrAssignment(e){return this._http.secureget(this._apiURL.projectRegAPI+"secure/project-app/getproject-professional-dtl/"+e)}};g.ctorParameters=()=>[{type:d.a},{type:p.a}],g=o.b([Object(r.B)({providedIn:"root"})],g);let f=class{constructor(e,t){this._http=e,this._apiURL=t}getPaymentDetailsService(e){return console.log("before payment fees service is "+this._apiURL.projectExtensionApi+"secure/payment/details/project/"+e),this._http.secureget(this._apiURL.projectExtensionApi+"secure/payment/details/project/"+e)}getProfileService(){return this._http.secureget(this._apiURL.registrationAPI+"secure/profile_details")}postPaymentDetailsService(e){return this._http.post(this._apiURL.payment+"savePaymentDetail",e)}encPaymentDetailsService(e){return this._http.post(this._apiURL.payment+"encDataForSecurePay",e)}};f.ctorParameters=()=>[{type:d.a},{type:p.a}],f=o.b([Object(r.B)({providedIn:"root"})],f);let v=class{constructor(e,t,n,o,r,s,i,l){this._assignService=e,this.route=t,this._validation=n,this._serv=o,this._router=r,this.datepipe=s,this._apiURL=i,this._paymentService=l,this.errorMsg=!1,this.successMsg=!1,this.loader=!1,this.extensionData=null,this.projectExtensionDocOtherList=new Array,this.reason="",this.extendToDate=null,this.commencentCertiUId=null,this.commencentCertiFId=new h.a({}),this.decilarionFormBUId=null,this.newFormB1UId=null,this.newFormB2UId=null,this.order45DocUid=null,this.decilarionFormBFId=new h.a({}),this.supDocFId=new h.a({}),this.inputJson=new h.a({}),this.isOptional=!1,this.commencentCertiDate=null,this.currentDate=new Date,this.extBlockListFk=new Array,this.abc="NO",this.closeIcon=!0,this.tooltipJson=new h.a({}),this.readOnly=!1,this.isJointDevelopmentYes=!1,this.oldDocValueValue={},this.docId32=new h.a({}),this.docId33=new h.a({}),this.docId34=new h.a({}),this.docId2=new h.a({}),this.newFormB1DocBId=new h.a({}),this.newFormB2DocBId=new h.a({}),this.docId35=new h.a({}),this.docId36=new h.a({}),this.docId37=new h.a({}),this.docId38=new h.a({}),this.docId39=new h.a({}),this.docId40=new h.a({}),this.docId41=new h.a({}),this.docId51=new h.a({}),this.docId52=new h.a({}),this.outputValueUPDATE={},this.isBlockData=!1,this.dataInvalid=!0,this.edate=new Date(""),this.formOneActive=!0,this.reasonDropdownList=["BU Permission is not received as per RERA Act","Society Registration is not received as per RERA Act","BU Permission is received but Society formation is stuck due to 10 members not available for Society Registration","Project is not complete due to situations like Financial / Less Bookings / Labour / Material / Disputes / Business Conditions etc","Construction work complete but NOC like Fire & Lift NOC etc. not received so we can not apply for BU permission.","BU Permission and Society Registration - both are not received"],this.reasonArray=new Array,this.selectedDistrictItems=new Array,this.isOrderDoc=!1,this.newSupportDocument={reasonForExtensionDocId:"",reasonForExtensionDocUId:"",letterOfProofId:"",letterOfProofUId:"",affidavitStatingId:"",affidavitStatingUId:"",architectCertificateId:"",architectCertificateUId:"",allotteesConsentId:"",allotteesConsentUId:"",ganttChardDocId:"",ganttChardDocUId:""},this.closeIconNew=new h.a({}),this.currDate=new Date,this.loadingSpinner=!0,this.asisgnExtLink=!1,this.performCertification=!1,this.paymentExtLink=!1,this.supportingDocRequiredValidation=e=>{this.extensionForm.get("mNocFileId");const t=this.extensionForm.get("reasonForExtensionDocId"),n=this.extensionForm.get("affidavitStatingId"),o=this.extensionForm.get("architectCertificateId");"YES"==e?(t.setValidators([a.h.required]),n.setValidators([a.h.required]),o.setValidators([a.h.required])):(t.setValidators([a.h.nullValidator]),n.setValidators([a.h.nullValidator]),o.setValidators([a.h.nullValidator])),t.updateValueAndValidity(),n.updateValueAndValidity(),o.updateValueAndValidity()}}ngOnInit(){this.fileDownlod=this._apiURL.fileDownloadAPI+"download/",this.supDocFId.next({multiFile:!1}),this.fileId={},this.outputValue={},this.maxDate=this.datepipe.transform(new Date(this.currentDate.getFullYear()+10,11,31),"yyyy-MM-dd"),this.endDate=this.datepipe.transform(new Date(this.currentDate.getFullYear()+10,11,31),"yyyy-MM-dd"),this.extId=sessionStorage.getItem("extId"),this.projectId=sessionStorage.getItem("projectId"),sessionStorage.setItem("projectId",this.projectId),this.extensionForm=new a.d({id:new a.c,extendToDate:new a.c(this.extendToDate,[a.h.required,this._validation.pastDateValidator]),reason:new a.c(this.reason,[a.h.required]),multiSelect:new a.c(null),cmentDcoId:new a.c(null),reasonForExtensionDocId:new a.c(null),reasonForExtensionDocUId:new a.c(null),letterOfProofId:new a.c(null),letterOfProofUId:new a.c(null),affidavitStatingId:new a.c(null),affidavitStatingUId:new a.c(null),architectCertificateId:new a.c(null),architectCertificateUId:new a.c(null),allotteesConsentId:new a.c(null),allotteesConsentUId:new a.c(null),ganttChardDocId:new a.c(null),ganttChardDocUId:new a.c(null),decilarionFormBId:new a.c(null,a.h.required),decilarionFormBUId:new a.c(null),newFormB1DocId:new a.c(null),newFormB1DocUId:new a.c(null),newFormB2DocId:new a.c(null),newFormB2DocUId:new a.c(null),documentCondition:new a.c(null),order45DocId:new a.c(null),order45DocUid:new a.c(null),declarationFormbDocIssuanceDate:new a.c(null),declarationFormbIssuerName:new a.c(null),declarationFormbIssuerCONTACT:new a.c(null),declarationFormbDocId:new a.c(null),declarationFormB1Issurance:new a.c(null),declarationFormB1IssurName:new a.c(null),declarationFormB1Contact:new a.c(null),declarationFormB1Id:new a.c(null),declarationFormB2Issurance:new a.c(null),declarationFormB2IssurName:new a.c(null),declarationFormB2Contact:new a.c(null),declarationFormB2Id:new a.c(null),mNocFileId:new a.c(null),mNocFileUId:new a.c(null),statutoryDocumentId:new a.c(null,a.h.required),statutoryDocumentUId:new a.c(null),anyOtherDocumentId:new a.c(null),anyOtherDocumentUId:new a.c(null)}),this.updateBlockDetail=new a.d({devEndDate:new a.c(null,[a.h.required,this._validation.dateValidator]),dateIssuanceDoc:new a.c(null,[a.h.required]),newCommencementCertificateId:new a.c(null,a.h.required),newCommencementCertificateUId:new a.c(null),commencementCertiNo:new a.c(null,[a.h.required,a.h.pattern(this._validation.alphanumericnospacecharRegex)])}),this.getAltDetailsByProjectId(),this.getExtDetailsByProjectId(),this.getPaymentStatus(),this.getAddedJointDeveloper(),this.getArchitectAssignment(sessionStorage.getItem("extId"))}setValue(e){this.outputValue[e.fid]=e.docid,console.log("doc id is"+this.outputValue[e.fid]),"docId36"==e.staticDocId&&(this.newSupportDocument.reasonForExtensionDocUId=e.docUid),"docId37"==e.staticDocId&&(this.newSupportDocument.letterOfProofUId=e.docUid),"docId38"==e.staticDocId&&(this.newSupportDocument.affidavitStatingUId=e.docUid),"docId39"==e.staticDocId&&(this.newSupportDocument.architectCertificateUId=e.docUid),"docId40"==e.staticDocId&&(this.newSupportDocument.allotteesConsentUId=e.docUid),"docId41"==e.staticDocId&&(this.newSupportDocument.ganttChardDocUId=e.docUid),e.staticDocId,"decilarionFormBFId"==e.staticDocId&&(this.decilarionFormBUId=e.docUid),e.staticDocId,"newFormB1DocBId"==e.staticDocId&&(this.newFormB1UId=e.docUid),"docId51"==e.staticDocId&&(this.statutoryDocumentUId=e.docUid),"docId52"==e.staticDocId&&(this.anyOtherDocumentUId=e.docUid),"newFormB2DocId"==e.staticDocId&&(this.newFormB2UId=e.docUid)}setMultiFileDoc(e){console.log(e);let t={otherProjectExteDocId:e.docid.toString(),otherProjectExteDocUId:e.docUid,otherProjectExteDocName:e.caption,otherProjectExteDocCap:e.fName};this.projectExtensionDocOtherList.push(t),console.log(this.projectExtensionDocOtherList)}deleteOthDocTr(e){this.projectExtensionDocOtherList.splice(e,1)}checkDate(e){let t=new Date,n=new Date(e);this.extBlockListFk.filter(e=>new Date(e.devEndDate).getTime()>new Date(n).getTime()).length>0?this.devEndNotMatched=!0:this.devEndNotMatched=!1;let o=new Date(this.actualProjectEndDate).setHours(0,0,0,0),r=new Date(this.projectEndDate).setHours(0,0,0,0);const s=this.extensionForm.get("order45DocId"),i=this.extensionForm.get("allotteesConsentId");let l=new Date(this.projectUpdatedEndDate).setHours(0,0,0,0),c=new Date(this.projectUpdatedEndDate),d=new Date(this.actualProjectEndDate),p=new Date(this.actualProjectEndDate),m=new Date(this.projectUpdatedEndDate),h=new Date(this.actualProjectEndDate),u=new Date(h.setDate(h.getDate()-90)),g=new Date(c.setFullYear(c.getFullYear()+1)),f=new Date(d.setFullYear(d.getFullYear()+1)),v=(new Date(new Date(this.actualProjectEndDate).setFullYear(new Date(this.actualProjectEndDate).getFullYear()+2)),new Date(m.setDate(m.getDate()-90))),D=new Date(p.setFullYear(p.getFullYear()+2));this.extendUpdateDate=new Date(e);let I=n.setHours(0,0,0,0);console.log(r,this.projectEndDate),console.log(o,this.actualProjectEndDate),console.log(I,n),console.log(v),console.log(l,this.projectUpdatedEndDate),console.log(f),console.log(g),console.log(D),isNaN(I)?(console.log("condition 1 failing"),this.errorMessageExt="Extend to date is Invalid.",this.extensionForm.get("extendToDate").setErrors({incorrect:!0}),this.outputValue.order45DocId=null,this.order45DocUid=null,this.isOrderDoc=!1,this.docId35.next({show:!1}),console.log(1)):I<=o?(console.log("condition 2 failing",I,o),this.errorMessageExt="Extend to date cannot be less than or equal to project end date.",this.extensionForm.get("extendToDate").setErrors({incorrect:!0}),this.outputValue.order45DocId=null,this.order45DocUid=null,this.isOrderDoc=!1,this.docId35.next({show:!1}),console.log(2)):I<=l?(console.log("condition 3 failing",I,l),this.errorMessageExt="Extend to date cannot be less than or equal to project end date.",this.extensionForm.get("extendToDate").setErrors({incorrect:!0}),this.outputValue.order45DocId=null,this.order45DocUid=null,this.isOrderDoc=!1,this.docId35.next({show:!1}),console.log(3)):I>g.setHours(0,0,0,0)&&t.getTime()<g.setHours(0,0,0,0)?(console.log("condition 6 failing",I,g,t,u),this.errorMessageExt="The extension to date cannot exceed one year from the date of completion of the project.",this.extensionForm.get("extendToDate").setErrors({incorrect:!0}),this.outputValue.order45DocId=null,this.order45DocUid=null,this.isOrderDoc=!1,this.docId35.next({show:!1}),console.log(4)):t.getTime()>f.setHours(0,0,0,0)?(console.log("condition 8 failing",t,f),this.abc="YES",this.isOrderDoc=!0,this.checkOthDoc("YES"),this.extensionForm.controls.allotteesConsentId.setValidators(a.h.required),console.log(5)):I<r?(console.log("condition 9 failing",I,r),this.isOrderDoc=!1,this.outputValue.order45DocId=null,this.order45DocUid=null,this.docId35.next({show:!1}),console.log(6)):(this.extensionForm.get("extendToDate").setErrors(null),this.isOrderDoc=!1,this.outputValue.order45DocId=null,this.order45DocUid=null,this.docId35.next({show:!1}),this.extensionForm.controls.order45DocId.setValidators(a.h.nullValidator),this.extensionForm.controls.allotteesConsentId.setValidators(a.h.nullValidator),this.abc="",console.log(7)),s.updateValueAndValidity(),i.updateValueAndValidity()}setRequired(){return[a.h.required]}getAltDetailsByProjectId(){this.loadingSpinner=!0,this._serv.getAltDetailsByProjectId(this.projectId).subscribe(e=>{this.loadingSpinner=!1,console.log("project alteration details are::::::"),console.log(e)},e=>{this.loadingSpinner=!1})}getProjectDtl(e,t){this.loadingSpinner=!0,console.log("get project details called"),this._serv.getProjectDtl(e).subscribe(n=>{this.loadingSpinner=!1,console.log("Project app details are"),console.log(n),this.projectAllData=n.data,this.projectUpdatedEndDate=this.projectAllData.projectDetailsModel.completionDate;let o=new Date(this.projectUpdatedEndDate),r=new Date(this.projectUpdatedEndDate);this.projectUpdatedEndDate1Yr=new Date(o.setFullYear(o.getFullYear()+1)),this.projectUpdatedEndDate1Day=new Date(r.setDate(r.getDate()+1)),"noBlock"==t&&(this.extBlockListFk=this.projectAllData.blockList,this.extBlockListFk.forEach(e=>{null==e.commencementCertiNo||null==e.commencementCertificateUId||""==e.commencementCertificateUId?this.dataInvalid=!0:this.dataInvalid=!1,new Date(e.devEndDate).getTime()>new Date(this.extendToDate).getTime()?this.devEndNotMatched=!0:this.devEndNotMatched=!1}),console.log("block list is "),console.log(this.extBlockListFk)),this._serv.getOrignalProjectDetails(e).subscribe(e=>{let t=e;this.projectStartDate=t.startDate,console.log("project start date is "+this.projectStartDate);var n=parseInt(t.completionDate.substr(0,4)),o=t.completionDate.substr(5,2),s=parseInt(t.completionDate.substr(8,2));console.log(n),console.log(o),console.log(s),this.setActualProjectEndDate=t.completionDateStr,this.actualProjectEndDate=n+"-"+o+"-"+(s-1),this.projectEndDate=n+1+"-"+o+"-"+(s-1);let a=new Date(n+"-"+o+"-"+s),i=Math.floor((Date.UTC(r.getFullYear(),r.getMonth(),r.getDate()-1)-Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()))/864e5);console.log(r),console.log(a),console.log(i),console.log("project end date is "),console.log(this.projectEndDate)})},e=>{this.loadingSpinner=!1,console.log(e)})}disableAllTheField(e,t){Object.keys(e).forEach(e=>{t.controls[e].disable()})}setDefaultValues(){this.extensionForm.patchValue({documentCondition:"NO"})}getExtDetailsByProjectId(){this.loadingSpinner=!0,this._serv.getExtensionByExtId(this.extId).subscribe(e=>{if(this.loadingSpinner=!1,console.log("extension details are"),console.log(e),this.extendUpdateDate=e.extendToDate,this.selectedDistrictItems=e.reason.split(","),this.reasonArray=e.reason.split(","),console.log(this.selectedDistrictItems),null!=e){this.extBlockListFk=[],this.extensionData=e,this.extBlockListFk=e.extBlockListFk,console.log(e.extBlockListFk),this.getProjectDtl(this.projectId,"isBlock"),console.log("reason is "),console.log(e.reason),this.reason=e.reason,console.log(this.reason),this.extendToDate=e.extendToDate,this.extBlockListFk.forEach(e=>{null==e.commencementCertiNo||null==e.commencementCertificateUId||""==e.commencementCertificateUId?this.dataInvalid=!0:this.dataInvalid=!1});const t=this.datepipe.transform(this.extendToDate,"yyyy-MM-dd");this.extBlockListFk.filter(e=>new Date(e.devEndDate).getTime()>new Date(t).getTime()).length>0?this.devEndNotMatched=!0:this.devEndNotMatched=!1,this.commencentCertiDate=e.projectExtensionDoc.commencentCertiDate,console.log(e.projectExtensionDoc.commencentCertiUId),this.outputValue.commencentCertiId=e.projectExtensionDoc.commencentCertiId,this.commencentCertiFId.next({docId:this.outputValue.commencentCertiId,docUid:e.projectExtensionDoc.commencentCertiUId}),this.decilarionFormBUId=e.projectExtensionDoc.decilarionFormBUId,this.outputValue.decilarionFormBId=e.projectExtensionDoc.decilarionFormBId,this.decilarionFormBFId.next({docId:this.outputValue.decilarionFormBId,docUid:e.projectExtensionDoc.decilarionFormBUId}),this.newFormB1UId=e.newFormB1DocUId,this.outputValue.newFormB1DocId=e.newFormB1DocId,this.newFormB1DocBId.next({docId:this.outputValue.newFormB1DocId,docUid:e.newFormB1DocUId}),this.newFormB2UId=e.newFormB2DocUId,this.statutoryDocumentUId=e.statutoryDocumentUId,this.anyOtherDocumentUId=e.anyOtherDocumentUId,this.outputValue.newFormB2DocId=e.newFormB2DocId,this.newFormB2DocBId.next({docId:this.outputValue.newFormB2DocId,docUid:e.newFormB2DocUId}),this.order45DocUid=e.order45DocUid,this.outputValue.order45DocId=e.order45DocId,this.docId35.next({docId:this.outputValue.order45DocId,docUid:e.order45DocUid}),null!=e.supportingDocuments&&(this.newSupportDocument=e.supportingDocuments,this.outputValue.reasonForExtensionDocId=e.supportingDocuments.reasonForExtensionDocId,this.docId36.next({docId:this.outputValue.reasonForExtensionDocId,docUid:e.supportingDocuments.reasonForExtensionDocUId}),this.outputValue.letterOfProofId=e.supportingDocuments.letterOfProofId,this.docId37.next({docId:this.outputValue.letterOfProofId,docUid:e.supportingDocuments.letterOfProofUId}),this.outputValue.affidavitStatingId=e.supportingDocuments.affidavitStatingId,this.docId38.next({docId:this.outputValue.affidavitStatingId,docUid:e.supportingDocuments.affidavitStatingUId}),this.outputValue.architectCertificateId=e.supportingDocuments.architectCertificateId,this.docId39.next({docId:this.outputValue.architectCertificateId,docUid:e.supportingDocuments.architectCertificateUId}),this.outputValue.allotteesConsentId=e.supportingDocuments.allotteesConsentId,this.docId40.next({docId:this.outputValue.allotteesConsentId,docUid:e.supportingDocuments.allotteesConsentUId}),this.outputValue.ganttChardDocId=e.supportingDocuments.ganttChardDocId,this.docId41.next({docId:this.outputValue.ganttChardDocId,docUid:e.supportingDocuments.ganttChardDocUId}),this.outputValue.statutoryDocumentId=e.statutoryDocumentId,this.docId51.next({docId:this.outputValue.statutoryDocumentId,docUid:e.statutoryDocumentUId}),this.outputValue.anyOtherDocumentId=e.anyOtherDocumentId,this.docId52.next({docId:this.outputValue.anyOtherDocumentId,docUid:e.anyOtherDocumentUId})),this.projectExtensionDocOtherList=e.projectExtensionDoc.projectExtensionDocOtherList,Object.keys(this.projectExtensionDocOtherList).length>0&&(this.extensionForm.patchValue({documentCondition:"YES"}),this.isOptional=!0)}else console.log("New Extension"),this.getProjectDtl(this.projectId,"noBlock");setTimeout(()=>{"true"==sessionStorage.getItem("extPaymentStatus")&&(this.readOnly=!0,this.closeIcon=!1,this.disableAllTheField(this.extensionForm.controls,this.extensionForm))},1e3)},e=>{this.getProjectDtl(this.projectId,"noBlock"),this.loadingSpinner=!1,console.log("inside error"),this.extensionData=null,console.log(this.extensionData)})}nextBtn(){this._router.navigate(["extension/assign-professional"])}submitExtForm(){if(this.loadingSpinner=!0,this.isOptional){if(0==Object.keys(this.projectExtensionDocOtherList).length)return this.loadingSpinner=!1,this.inputJson.next({popShow:!0,popMsg:"At least one Supporting Documents is required",popClass:"alert alert-danger",popRoute:""}),!1}else this.projectExtensionDocOtherList=null;if(console.log("submit called"),this.loader=!0,console.log(this.extensionData),this.newSupportDocument={reasonForExtensionDocId:this.extensionForm.controls.reasonForExtensionDocId.value,reasonForExtensionDocUId:this.extensionForm.controls.reasonForExtensionDocUId.value,letterOfProofId:this.extensionForm.controls.letterOfProofId.value,letterOfProofUId:this.extensionForm.controls.letterOfProofUId.value,affidavitStatingId:this.extensionForm.controls.affidavitStatingId.value,affidavitStatingUId:this.extensionForm.controls.affidavitStatingUId.value,architectCertificateId:this.extensionForm.controls.architectCertificateId.value,architectCertificateUId:this.extensionForm.controls.architectCertificateUId.value,allotteesConsentId:this.extensionForm.controls.allotteesConsentId.value,allotteesConsentUId:this.extensionForm.controls.allotteesConsentUId.value,ganttChardDocId:this.extensionForm.controls.ganttChardDocId.value,ganttChardDocUId:this.extensionForm.controls.ganttChardDocUId.value},null==this.extensionData){console.log("inside null");let e={projectId:this.projectId,status:"INPROGRESS",projectName:this.projectAllData.projectDetailsModel.projectName,promoterId:this.projectAllData.promoterId,promoteremailId:this.projectAllData.promoteremailId,promoterMobileNo:this.projectAllData.promoterMobileNo,promoterName:this.projectAllData.promoterName,promoterType:this.projectAllData.promoterType,projectRegNo:this.projectAllData.projRegNo,projectType:this.projectAllData.projectDetailsModel.projectType,projectRegStartDate:this.projectAllData.projectDetailsModel.startDate,projectRegEndDate:this.projectAllData.projectDetailsModel.completionDate,processType:"PROJECT_EXT",processName:"PROJECT_EXTENSION",extendToDate:this.extensionForm.controls.extendToDate.value,reason:this.extensionForm.controls.reason.value,extBlockListFk:this.extBlockListFk,newFormB1DocId:this.outputValue.newFormB1DocId,newFormB1DocUId:this.newFormB1UId,newFormB2DocId:this.outputValue.newFormB2DocId,newFormB2DocUId:this.newFormB2UId,order45DocId:this.outputValue.order45DocId,order45DocUid:this.order45DocUid,statutoryDocumentId:this.outputValue.statutoryDocumentId,statutoryDocumentUId:this.statutoryDocumentUId,anyOtherDocumentId:this.outputValue.anyOtherDocumentId,anyOtherDocumentUId:this.anyOtherDocumentUId,projectExtensionDoc:{decilarionFormBId:this.extensionForm.controls.decilarionFormBId.value,decilarionFormBUId:this.decilarionFormBUId,projectExtensionDocOtherList:this.projectExtensionDocOtherList},supportingDocuments:this.newSupportDocument};console.log("form submit json is "),console.log(e),this.extensionData=e}else console.log("inside else"),this.extensionData.extendToDate=this.extensionForm.controls.extendToDate.value,this.extensionData.reason=this.extensionForm.controls.reason.value,this.extensionData.promoterId=this.projectAllData.promoterId,this.extensionData.promoterName=this.projectAllData.promoterName,this.extensionData.promoterType=this.projectAllData.promoterType,this.extensionData.promoteremailId=this.projectAllData.promoteremailId,this.extensionData.projectType=this.projectAllData.projectDetailsModel.projectType,this.extensionData.promoterMobileNo=this.projectAllData.promoterMobileNo,this.extensionData.projectRegNo=this.projectAllData.projRegNo,this.extensionData.newFormB1DocId=this.outputValue.newFormB1DocId,this.extensionData.newFormB1DocUId=this.newFormB1UId,this.extensionData.newFormB2DocId=this.outputValue.newFormB2DocId,this.extensionData.newFormB2DocUId=this.newFormB2UId,this.extensionData.order45DocId=this.outputValue.order45DocId,this.extensionData.order45DocUid=this.order45DocUid,this.extensionData.statutoryDocumentId=this.outputValue.statutoryDocumentId,this.extensionData.statutoryDocumentUId=this.statutoryDocumentUId,this.extensionData.anyOtherDocumentId=this.outputValue.anyOtherDocumentId,this.extensionData.anyOtherDocumentUId=this.anyOtherDocumentUId,this.extensionData.projectExtensionDoc.decilarionFormBId=this.outputValue.decilarionFormBId,this.extensionData.projectExtensionDoc.decilarionFormBUId=this.decilarionFormBUId,this.extensionData.extBlockListFk=this.extBlockListFk,this.extensionData.projectExtensionDoc.projectExtensionDocOtherList=this.projectExtensionDocOtherList,this.extensionData.supportingDocuments=this.newSupportDocument;console.log("before insert extension data is "),console.log("this is extension data while",this.extensionData),console.log("doc id is "),console.log(this.outputValue.newFormB1DocId),console.log(this.extensionData.newFormB1DocId),console.log("::::::::::::::::"),this._serv.postData(this.extensionData).subscribe(e=>{this.loadingSpinner=!1,console.log("form submitted response is"),console.log(e),sessionStorage.setItem("extId",e.id),this.loader=!1,this.extensionForm.reset(),this._router.navigate(["extension/assign-professional"])},e=>{this.loadingSpinner=!1,this.inputJson.next({popShow:!0,popMsg:e.error.message,popClass:"alert alert-danger",popRoute:""}),this.loader=!1})}next(){sessionStorage.setItem("extId",this.extensionData.id),this._router.navigate(["extension/assign-professional"])}checkOthDoc(e){console.log("selected value is "+e);let t=this.extensionForm.get("reasonForExtensionDocId"),n=this.extensionForm.get("affidavitStatingId"),o=this.extensionForm.get("architectCertificateId");"YES"==e?(this.isOptional=!0,this.supportingDocRequiredValidation(e)):(this.isOptional=!1,this.newSupportDocument={reasonForExtensionDocId:"",reasonForExtensionDocUId:"",letterOfProofId:"",letterOfProofUId:"",affidavitStatingId:"",affidavitStatingUId:"",architectCertificateId:"",architectCertificateUId:"",allotteesConsentId:"",allotteesConsentUId:"",ganttChardDocId:"",ganttChardDocUId:""},this.supportingDocRequiredValidation(e)),t.updateValueAndValidity(),n.updateValueAndValidity(),o.updateValueAndValidity()}openToolTip(e,t){this.tooltipJson.next({pageX:e.pageX,pageY:e.pageY,code:t})}getAddedJointDeveloper(){this.loadingSpinner=!0;const e=this.extensionForm.get("newFormB1DocId"),t=this.extensionForm.get("newFormB2DocId");this._serv.getAddedJointDeveloper(this.projectId).subscribe(n=>{this.loadingSpinner=!1,console.log(n),200==n.status?(this.isJointDevelopmentYes=!0,e.setValidators(a.h.required),t.setValidators(a.h.required),e.updateValueAndValidity(),t.updateValueAndValidity()):this.isJointDevelopmentYes=!1,this.getProjectDetailsService(this.projectId)},e=>{this.loadingSpinner=!1,console.log(e),this.isJointDevelopmentYes=!1})}getProjectDetailsService(e){this.loadingSpinner=!0,this._serv.getTotalProjectDetailsByProjectId(e).subscribe(e=>{this.loadingSpinner=!1,"200"==e.status&&e.data&&(console.log("Old Project Value data",e),this.oldDocValueValue=e.data.projectDocModel,this.oldDocValueValue.declarationFormbDocIssuanceDate=this.datepipe.transform(this.oldDocValueValue.declarationFormbDocIssuanceDate,"yyyy-MM-dd"),this.oldDocValueValue.declarationFormB1Issurance=this.datepipe.transform(this.oldDocValueValue.declarationFormB1Issurance,"yyyy-MM-dd"),this.oldDocValueValue.declarationFormB2Issurance=this.datepipe.transform(this.oldDocValueValue.declarationFormB2Issurance,"yyyy-MM-dd"),this.outputValue.declarationFormB1Id=this.oldDocValueValue.declarationFormB1Id,this.outputValue.declarationFormB2Id=this.oldDocValueValue.declarationFormB2Id,this.outputValue.declarationFormbDocId=this.oldDocValueValue.declarationFormbDocId,this.docId32.next({docId:this.oldDocValueValue.declarationFormB1Id,docUid:this.oldDocValueValue.declarationFormB1UId}),this.docId33.next({docId:this.oldDocValueValue.declarationFormB2Id,docUid:this.oldDocValueValue.declarationFormB2UId}),this.docId34.next({docId:this.oldDocValueValue.declarationFormbDocId,docUid:this.oldDocValueValue.declarationFormbDocUId}))},e=>{this.loadingSpinner=!1,console.log(e)})}edatevalidation(e){console.log("selected to date",e),this.edate=e,this.endDate=this.projectEndDate,console.log(this.edate,this.endDate,this.extendUpdateDate,this.devStartDate),new Date(this.devStartDate).getTime()<=new Date(this.edate).getTime()&&new Date(this.extendUpdateDate).getTime()>=new Date(this.edate).getTime()?(console.log("LOGIN DATE VALIDATION",!0),this.errorMsg=!1,this.updateBlockDetail.get("devEndDate").setErrors(null)):(console.log("LOGIN DATE VALIDATION OTHER",!0),this.updateBlockDetail.get("devEndDate").setErrors({incorrect:!0})),this.errorMsg=!1,this.errTxt="End Date should be greater than start Date",console.log(!1)}commdatevalidation(e){let t=new Date(e),n=new Date(this.devStartDate);console.log(t.getTime(),n.getTime()),t.getTime()>n.getTime()||isNaN(t.getTime())||isNaN(n.getTime())?this.updateBlockDetail.get("dateIssuanceDoc").setErrors({incorrect:!0}):(this.updateBlockDetail.get("dateIssuanceDoc").setErrors(null),this.updateBlockDetail.get("dateIssuanceDoc").setValidators(this._validation.dateValidator),this.updateBlockDetail.get("dateIssuanceDoc").updateValueAndValidity())}Issuancedatevalidation(e){this.Issuancedate=e,"Invalid Date"==this.Issuancedate?(console.log(!0),this.errorMsg=!1):(this.errorMsg=!0,console.log(!1))}setValueUPDATE(e){console.log(e),this.outputValueUPDATE[e.fid]=e.docid,console.log(this.outputValueUPDATE),"docId2"==e.staticDocId&&(this.newCommencementCertificateUId=e.docUid)}popupClose(){this.modalPopup=!1}editBlockDetail(e,t){console.log(e),this.modalPopup=!0,this.blockIndexId=t,this.blockName=e.blockName,this.devStartDate=e.devStartDate,this.devEndDate=e.devEndDate,this.dateIssuanceDoc=this.datepipe.transform(new Date(e.dateIssuanceDoc),"yyyy-MM-dd"),this.commencementCertiNo=e.commencementCertiNo,this.height=e.height,this.fsi=e.fsi,this.builtupArea=e.builtupArea,this.outputValueUPDATE.newCommencementCertificateId=e.commencementCertificateId,this.newCommencementCertificateUId=e.commencementCertificateUId,this.docId2.next({docId:e.commencementCertificateId,docUid:e.commencementCertificateUId}),this.edatevalidation(e.devEndDate)}updateBlock(){console.log(this.updateBlockDetail.value),this.extBlockListFk[this.blockIndexId].devEndDate=this.updateBlockDetail.controls.devEndDate.value,this.extBlockListFk[this.blockIndexId].dateIssuanceDoc=this.updateBlockDetail.controls.dateIssuanceDoc.value,this.extBlockListFk[this.blockIndexId].commencementCertificateUId=this.updateBlockDetail.controls.newCommencementCertificateUId.value,this.extBlockListFk[this.blockIndexId].commencementCertiNo=this.updateBlockDetail.controls.commencementCertiNo.value,this.modalPopup=!1,console.log(this.extBlockListFk);const e=this.datepipe.transform(this.extendToDate,"yyyy-MM-dd");this.extBlockListFk.filter(t=>new Date(t.devEndDate).getTime()>new Date(e).getTime()).length>0?this.devEndNotMatched=!0:this.devEndNotMatched=!1,null==this.updateBlockDetail.controls.commencementCertiNo.value?this.dataInvalid=!0:this.dataInvalid=!1}ngDoCheck(){const e=[],t=this.extensionForm.controls;for(const n in t)t[n].invalid&&e.push(n);console.log("CHECKING EXTENSION",e)}getArchitectAssignment(e){this._assignService.assignedArchitectService(e).subscribe(e=>{console.log(e),"ASSIGNED"!=e.status&&(this.closeIconNew.next({close:!1}),this.formOneActive=!1,this.readOnly=!0,this.closeIcon=!1,this.disableAllTheField(this.extensionForm.controls,this.extensionForm)),"REJECTED"!=e.status&&(this.asisgnExtLink=!0),"ASSIGNED"==e.status&&"REJECTED"==e.status||(this.performCertification=!0)},e=>{console.log(e),this.formOneActive=!0})}getPaymentStatus(){this._paymentService.getPaymentDetailsService(this.extId).subscribe(e=>{console.log(e),"SUCCESS"==e.data.paymentStatus&&(this.paymentExtLink=!0)},e=>{console.log(e)})}onReasonItemSelect(e){this.reasonArray.push(e),this.reason=this.reasonArray.join()}onReasonSelectAll(e){this.reason=e.join()}onReasonItemDeSelect(e){if(this.reasonArray.length>0){let t=this.reasonArray.indexOf(e);this.reasonArray.splice(t,1),this.reason=this.reasonArray.join()}}onReasontemDeSelectAll(e){this.reason=null}checkBlockEndDateValidation(e){}};v.ctorParameters=()=>[{type:g},{type:l.a},{type:u.a},{type:m},{type:l.e},{type:s.e},{type:p.a},{type:f}],v=o.b([Object(r.n)({selector:"app-apply-extension",template:o.c(n("zPIA")).default,styles:[o.c(n("kovy")).default]})],v);var D=n("LTqM");let I=class{constructor(e,t){this._http=e,this._apiURL=t}formOneUpdateStatus(e,t,n){return this._http.secureput(this._apiURL.projectExtensionApi+"secure/form-one/update-form-one/project-reg/"+e+"/status/"+t+"?referenceFormOneId="+n,"")}formTwoUpdateStatus(e,t,n){return this._http.secureput(this._apiURL.projectExtensionApi+"secure/form-two/update-form-two/project-reg/"+e+"/status/"+t+"?referenceFormTwoId="+n,"")}formTwoAnxUpdateStatus(e,t,n){return this._http.secureput(this._apiURL.projectExtensionApi+"secure/form-two/annx/update-form-two-annx/project-ext/"+e+"/status/"+t+"?referenceFormTwoId="+n,"")}formThreeUpdateStatus(e,t,n){return this._http.secureput(this._apiURL.projectExtensionApi+"secure/from-three/update-status/project-reg/"+e+"/status/"+t+"?referenceFormThreeId="+n,"")}formOneMainUpdateStatus(e){return this._http.securepost(this._apiURL.formOneApi+"secure/form-one-update-status-by-id/"+e+"/REJECTED","")}formTwoMainUpdateStatus(e){return this._http.securepost(this._apiURL.formTwoApi+"secure/form-two-update-status-by-id/"+e+"/REJECTED","")}formThreeMainUpdateStatus(e){return this._http.securepost(this._apiURL.formThreeApi+"secure/form-three-update-status-by-id/"+e+"/REJECTED","")}getEngineerDataId(e){return this._http.get(this._apiURL.registrationAPI+"engineer/one-engineer/"+e)}getExtensionExtId(e){return this._http.secureget(this._apiURL.projectExtensionApi+"secure/getproject-ext-details-byid"+e)}};I.ctorParameters=()=>[{type:d.a},{type:p.a}],I=o.b([Object(r.B)({providedIn:"root"})],I);let b=class{constructor(e,t,n,o,r,s,a){this._route=e,this._assignService=t,this._formUpdate=n,this._validationMsg=o,this._serv=r,this._paymentService=s,this._formView=a,this.assignTable=!1,this.assignEngineerTable=!1,this.assignCaTable=!1,this.assign=!0,this.assignEngineer=!0,this.assignca=!0,this.reject=!1,this.rejectEngineer=!1,this.rejectca=!1,this.isArchitectAssigned=!1,this.isEngineerAssigned=!1,this.isCaAssigned=!1,this.isArchRej=!0,this.isEngRej=!0,this.isCaRej=!0,this.rejectEngineeer=!1,this.AssignmentCheck={architectAssigned:"",EngineerAssigned:"",CAassigned:""},this.inputJsonVariable={},this.tooltipJson=new h.a({}),this.inputJson=new h.a({}),this.loadingSpinner=!1,this.allFormFilled=!0,this.asisgnExtLink=!1,this.performCertification=!1,this.applyExtLink=!1,this.paymentExtLink=!1,this.autoAssignPro=!1}ngOnInit(){this.reAssignJson={processId:sessionStorage.getItem("extId"),projectId:sessionStorage.getItem("projectId"),processType:"PROJECT_EXT",status:"REJECTED"},this.extId=parseInt(sessionStorage.getItem("extId")),this.prjRegId=parseInt(sessionStorage.getItem("projectId")),this.projectStatusCheck(),this.getArchitect(),this.getEngineer(),this.getEngineerAnx(),this.getCA(),this.getExtDetailsByProjectId(),this.getPaymentStatus(),null!=sessionStorage.getItem("formOneReassign")&&null!=sessionStorage.getItem("reAssignProfessional")&&this.searchArchitectByPAN(sessionStorage.getItem("formOneReassign")),null!=sessionStorage.getItem("formTwoReassign")&&null!=sessionStorage.getItem("reAssignProfessional")&&this.searchEngineerByPAN(sessionStorage.getItem("formTwoReassign")),null!=sessionStorage.getItem("formTwoAnxxReassign")&&null!=sessionStorage.getItem("reAssignProfessional")&&this.searchEngineerAnxByPAN(sessionStorage.getItem("formTwoAnxxReassign")),null!=sessionStorage.getItem("formThreeReassign")&&null!=sessionStorage.getItem("reAssignProfessional")&&this.searchcaByPAN(sessionStorage.getItem("formThreeReassign"))}prevTab(){this._route.navigate(["extension/apply-extension"])}nextTab(){sessionStorage.setItem("callingTab","form1Call"),this._route.navigate(["extension/form-view"])}projectStatusCheck(){console.log("extension id is "+this.extId),this._assignService.getStatusOfAssignment(this.extId).subscribe(e=>{console.log("forms status are :"),console.log(e.data),console.log("after forms status are :"),"200"==e.status?(this.AssignmentCheck=e.data,console.log(this.AssignmentCheck)):this.AssignmentCheck={architectAssigned:"",EngineerAssigned:"",CAassigned:""},this.AssignmentCheck&&("UPLOADED"!=this.AssignmentCheck.architectAssigned&&"ACCEPTED"!=this.AssignmentCheck.architectAssigned||(this.isAddOrEditConditionArchitect=!0),"UPLOADED"!=this.AssignmentCheck.EngineerAssigned&&"ACCEPTED"!=this.AssignmentCheck.EngineerAssigned||(this.isAddOrEditConditionEngineer=!0),"UPLOADED"!=this.AssignmentCheck.CAassigned&&"ACCEPTED"!=this.AssignmentCheck.CAassigned||(this.isAddOrEditConditionCA=!0,this.allFormFilled=!1))},e=>{this.autoAssignPro=!1,this._assignService.getPrAssignment(sessionStorage.getItem("projectId")).subscribe(e=>{this.searchArchitectByPAN(e.data.formOneArch),this._formView.getEngineerDataId(e.data.formTwoEng).subscribe(e=>{this.searchEngineerByPAN(e.panNo)}),this._formView.getEngineerDataId(e.data.formTwoAEng).subscribe(e=>{this.searchEngineerAnxByPAN(e.panNo)}),this.searchcaByPAN(e.data.formThreeCa)},e=>{}),this.AssignmentCheck={architectAssigned:"",EngineerAssigned:"",CAassigned:""},this.isAddOrEditConditionArchitect=!1,this.isAddOrEditConditionCA=!1,this.isAddOrEditConditionEngineer=!1,console.log("Not Working Id")})}disableAllTheField(e,t){Object.keys(e).forEach(e=>{t.controls[e].disable()})}searchArchitectByPAN(e){let t={panNo:e,usertype:"ARCHITECT"};this.loadingSpinner=!0,console.log(e),this._assignService.searchByCOANo(t).subscribe(e=>{if(console.log(e),this.loadingSpinner=!1,"200"==e.status){this.loadingSpinner=!1;let t={coaNo:e.data.profNO,mobNumber:e.data.mobileNo,emailId:e.data.emailId,lastName:e.data.lastName,middleName:null!=e.data.middleName?e.data.middleName:"",architectName:e.data.firstName,architectId:e.data.id};(null!=sessionStorage.getItem("formOneReassign")&&null!=sessionStorage.getItem("reAssignProfessional")||1==this.autoAssignPro)&&this.architectFormAssign(t),this.assignTable=!0,this.assign=!0,this.loadFromSearch=!0,this.disableAssignTab=!0,this.errorSetArc=!1,this.architectDetail=[t],console.log(this.architectDetail)}else this.loadingSpinner=!1,this.inputJson.next({popShow:!0,popMsg:"Please enter valid Architect CoA Number.",popClass:"alert alert-danger",popRoute:""})},e=>{this.loadingSpinner=!1,this.inputJson.next({popShow:!0,popMsg:"Please enter valid Architect CoA Number.",popClass:"alert alert-danger",popRoute:""})})}searchArchitect(e){this.loadingSpinner=!0,this._assignService.searchArchitectService(e).subscribe(e=>{this.loadingSpinner=!1,this.assignTable=!0,this.assign=!0,this.loadFromSearch=!0,this.architectDetail=[e],this.disableAssignTab=!0,this.errorSetArc=!1},e=>{this.loadingSpinner=!1,this.errorSetArc=!0,console.log(e)})}getArchitect(){this.loadingSpinner=!0,this._assignService.assignedArchitectService(this.extId).subscribe(e=>{console.log(e),this.loadingSpinner=!1,this.assignTable=!0,this.disableAssignTab=!0,this.architectDetail=[e],this.loadFromSearch=!1,"REJECTED"!=e.status&&(this.asisgnExtLink=!0),"ASSIGNED"==e.status&&"REJECTED"==e.status||(this.performCertification=!0)},e=>{this.loadingSpinner=!1,console.log(e),this.disableAssignTab=!1})}DeleteFromAssignedArchitect(e){1==e?(this.architectDetail=[],this.disableAssignTab=!1,this.assignTable=!1):this._assignService.architectFormRemoveService(this.extId).subscribe(e=>{console.log(e),this._formUpdate.architectFormService(this.reAssignJson).subscribe(e=>{console.log(e)},e=>{console.log(e)}),this.reject=!0,this.assign=!1,this.isArchitectAssigned=!0,this.disableAssignTab=!1,this.architectDetail=[]},e=>{this.disableAssignTab=!0,console.log(e)})}architectFormAssign(e){this.loadingSpinner=!0,console.log(this.prjRegId);let t={prjExtId:this.extId,assignedUserId:e.architectId,architectName:e.architectName,middleName:e.middleName,lastName:e.lastName,emailId:e.emailId,mobNumber:e.mobNumber,coaNo:e.coaNo,status:"ASSIGNED"};console.log(t),this.reject=!0,this.assign=!1,this.isArchitectAssigned=!0,this._assignService.architectFormAssignService(t).subscribe(e=>{console.log(e),this.loadingSpinner=!1,this.reject=!0,this.assign=!1,this.isArchitectAssigned=!0,this.architectDetail=[e.data],this.loadFromSearch=!1,this.disableAssignTab=!0,console.log(e.data),sessionStorage.removeItem("formOneReassign"),this.inputJson.next({popShow:!0,popMsg:this._validationMsg.assignProfText,popClass:"alert alert-success",popRoute:""})},e=>{this.loadingSpinner=!1,this.loadFromSearch=!0,this.disableAssignTab=!0,console.log(e)})}DeleteAnxAssignedEngineer(e){1==e?(this.EngineerAnxData=[],this.disableAssignAnxEng=!1,this.assignEngineerAnx=!1,this.assignAnxEngineer=!1):this._assignService.anxFormRemoveService(this.extId).subscribe(e=>{console.log(e),this._formUpdate.engineerFormService(this.reAssignJson).subscribe(e=>{console.log(e)},e=>{console.log(e)}),this.assignAnxEngineer=!1,this.disableAssignAnxEng=!1,this.EngineerAnxData=[]},e=>{this.disableAssignAnxEng=!0,console.log(e)})}DeleteFromAssignedEngineer(e){1==e?(this.EngineerData=[],this.disableAssignTabEng=!1,this.assignEngineerTable=!1):this._assignService.engineerFormRemoveService(this.extId).subscribe(e=>{console.log(e),this._formUpdate.engineerFormService(this.reAssignJson).subscribe(e=>{console.log(e)},e=>{console.log(e)}),this.assignEngineer=!0,this.disableAssignTabEng=!1,this.EngineerData=[]},e=>{this.disableAssignTabEng=!0,console.log(e)})}searchEngineerAnx(e){this.loadingSpinner=!0;let t=e;this._assignService.searchEngineerService(t).subscribe(e=>{this.disableAssignAnxEng=!0,this.EngineerAnxData=[e],this.loadingSpinner=!1,console.log(this.EngineerAnxData),this.assignEngineerAnx=!0,this.assignAnxEngineer=!0,this.isEngAnxRej=!1,this.loadAnxSearchEng=!0,this.errorAnxEng=!1},e=>{this.errorAnxEng=!0,this.loadingSpinner=!1,console.log(e),this.EngineerAnxData=[]})}searchEngineer(e){this.loadingSpinner=!0;let t=e;this._assignService.searchEngineerService(t).subscribe(e=>{this.disableAssignTabEng=!0,this.EngineerData=[e],this.loadingSpinner=!1,console.log(this.EngineerData),this.assignEngineerTable=!0,this.assignEngineer=!0,this.isEngRej=!1,this.loadFromSearchEng=!0,this.errorSetEng=!1},e=>{this.errorSetEng=!0,this.loadingSpinner=!1,console.log(e),this.EngineerData=[]})}getEngineerAnx(){this.loadingSpinner=!0,this._assignService.anxEngineerService(this.extId).subscribe(e=>{console.log(e),this.loadingSpinner=!1,this.assignEngineerAnx=!0,this.assignAnxEngineer=!0,this.disableAssignAnxEng=!0,this.EngineerAnxData=[e],this.loadAnxSearchEng=!1},e=>{this.loadingSpinner=!1,console.log(e),this.disableAssignAnxEng=!1})}getEngineer(){this.loadingSpinner=!0,this._assignService.assignedEngineerService(this.extId).subscribe(e=>{console.log(e),this.loadingSpinner=!1,this.assignEngineerTable=!0,this.disableAssignTabEng=!0,this.EngineerData=[e],this.loadFromSearchEng=!1},e=>{this.loadingSpinner=!1,console.log(e),this.disableAssignTabEng=!1})}engineerAnxAssign(e){console.log(e),this.loadingSpinner=!0;let t={projExtId:this.extId,assignedUserId:e.id,firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,emailId:e.emailId,mobileNo:e.mobileNo,engineerLicenseNumber:e.engineerLicenseNumber,status:"ASSIGNED"};console.log(t),this._assignService.anxFormAssignService(t).subscribe(e=>{this.rejectEngineer=!0,this.assignEngineer=!1,this.loadingSpinner=!1,this.isEngineerAssigned=!0,this.EngineerAnxData=[e.data],this.loadAnxSearchEng=!1,this.disableAssignAnxEng=!0,sessionStorage.removeItem("formTwoAnxxReassign"),this.inputJson.next({popShow:!0,popMsg:this._validationMsg.assignProfText,popClass:"alert alert-success",popRoute:""})},e=>{this.loadingSpinner=!1,console.log(e)})}engineerFormAssign(e){console.log(e),this.loadingSpinner=!0;let t={projExtId:this.extId,assignedUserId:e.id,firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,emailId:e.emailId,mobileNo:e.mobileNo,engineerLicenseNumber:e.engineerLicenseNumber,status:"ASSIGNED"};console.log(t),this._assignService.engineerFormAssignService(t).subscribe(e=>{this.rejectEngineer=!0,this.assignEngineer=!1,this.loadingSpinner=!1,this.isEngineerAssigned=!0,this.EngineerData=[e.data],this.loadFromSearchEng=!1,this.disableAssignTabEng=!0,sessionStorage.removeItem("formTwoReassign"),this.inputJson.next({popShow:!0,popMsg:this._validationMsg.assignProfText,popClass:"alert alert-success",popRoute:""})},e=>{this.loadingSpinner=!1,console.log(e)})}DeleteFromAssignedCA(e){1==e?(this.dataDisplayCA=[],this.disableAssignTabCA=!1,this.assignCATable=!1):this._assignService.caFormRemoveService(this.extId).subscribe(e=>{console.log(e),this._formUpdate.caFormService(this.reAssignJson).subscribe(e=>{console.log(e)},e=>{console.log(e)}),this.disableAssignTabCA=!1,this.dataDisplayCA=[]},e=>{this.disableAssignTabCA=!0,console.log(e)})}searchCA(e){let t=e;this.loadingSpinner=!0,this._assignService.searchCaService(t).subscribe(e=>{this.disableAssignTabCA=!0,this.dataDisplayCA=[e],console.log(this.dataDisplayCA),this.assignCATable=!0,this.loadingSpinner=!1,this.loadFromSearchCA=!0,this.errorSetCA=!1},e=>{this.errorSetCA=!0,this.loadingSpinner=!1,console.log(e),this.dataDisplayCA=[]})}getCA(){this.loadingSpinner=!0,this._assignService.assignedCaService(this.extId).subscribe(e=>{console.log(e),this.assignCATable=!0,this.loadingSpinner=!1,this.disableAssignTabCA=!0,this.dataDisplayCA=[e],this.loadFromSearchCA=!1},e=>{console.log(e),this.disableAssignTabCA=!1,this.loadingSpinner=!1})}caFormAssign(e){console.log(e),this.loadingSpinner=!0;let t={prjExtId:this.extId,assignedUserId:e.id,firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,emailId:e.emailId,mobileNo:e.mobileNo,caMemberShipNumber:e.caMemberShipNumber,status:"ASSIGNED"};console.log(t),this._assignService.caFormAssignService(t).subscribe(e=>{this.loadingSpinner=!1,this.dataDisplayCA=[e.data],this.loadFromSearchCA=!1,this.disableAssignTabCA=!0,sessionStorage.removeItem("formThreeReassign"),this.inputJson.next({popShow:!0,popMsg:this._validationMsg.assignProfText,popClass:"alert alert-success",popRoute:""})},e=>{this.loadingSpinner=!1,console.log(e)})}searchEngineerAnxByPAN(e){console.log(e),this.loadingSpinner=!0,this._assignService.searchByPanCard(e,"ENGINEER").subscribe(e=>{if(console.log(e),this.loadingSpinner=!1,"200"==e.status){this.loadingSpinner=!1;let t={id:e.data.id,firstName:e.data.firstName,middleName:null!=e.data.middleName?e.data.middleName:"",lastName:e.data.lastName,emailId:e.data.emailId,mobileNo:e.data.mobileNo,engineerLicenseNumber:e.data.profNO};(null!=sessionStorage.getItem("formTwoAnxxReassign")&&null!=sessionStorage.getItem("reAssignProfessional")||1==this.autoAssignPro)&&this.engineerAnxAssign(t),this.disableAssignAnxEng=!0,this.EngineerAnxData=[t],console.log(this.EngineerAnxData),this.assignEngineerAnx=!0,this.assignAnxEngineer=!0,this.isEngAnxRej=!1,this.loadAnxSearchEng=!0,this.errorAnxEng=!1}else this.errorAnxEng=!1,this.loadingSpinner=!1,this.EngineerAnxData=[],this.inputJson.next({popShow:!0,popMsg:this._validationMsg.enngErrMsg,popClass:"alert alert-danger",popRoute:""})},e=>{this.errorAnxEng=!1,this.loadingSpinner=!1,console.log(e),this.EngineerAnxData=[],this.inputJson.next({popShow:!0,popMsg:this._validationMsg.enngErrMsg,popClass:"alert alert-danger",popRoute:""})})}searchEngineerByPAN(e){console.log(e),this.loadingSpinner=!0,this._assignService.searchByPanCard(e,"ENGINEER").subscribe(e=>{if(console.log(e),this.loadingSpinner=!1,"200"==e.status){this.loadingSpinner=!1;let t={id:e.data.id,firstName:e.data.firstName,middleName:null!=e.data.middleName?e.data.middleName:"",lastName:e.data.lastName,emailId:e.data.emailId,mobileNo:e.data.mobileNo,engineerLicenseNumber:e.data.profNO};(null!=sessionStorage.getItem("formTwoReassign")&&null!=sessionStorage.getItem("reAssignProfessional")||1==this.autoAssignPro)&&this.engineerFormAssign(t),this.disableAssignTabEng=!0,this.EngineerData=[t],console.log(this.EngineerData),this.assignEngineerTable=!0,this.assignEngineer=!0,this.isEngRej=!1,this.loadFromSearchEng=!0,this.errorSetEng=!1}else this.errorSetEng=!1,this.loadingSpinner=!1,this.EngineerData=[],this.inputJson.next({popShow:!0,popMsg:this._validationMsg.enngErrMsg,popClass:"alert alert-danger",popRoute:""})},e=>{this.errorSetEng=!1,this.loadingSpinner=!1,console.log(e),this.EngineerData=[],this.inputJson.next({popShow:!0,popMsg:this._validationMsg.enngErrMsg,popClass:"alert alert-danger",popRoute:""})})}searchcaByPAN(e){console.log(e),this.loadingSpinner=!0,this._assignService.searchByPanCard(e,"CA_USER").subscribe(e=>{if(console.log(e),this.loadingSpinner=!1,"200"==e.status){this.loadingSpinner=!1;let t={id:e.data.id,firstName:e.data.firstName,middleName:null!=e.data.middleName?e.data.middleName:"",lastName:e.data.lastName,emailId:e.data.emailId,mobileNo:e.data.mobileNo,caMemberShipNumber:e.data.profNO};(null!=sessionStorage.getItem("formThreeReassign")&&null!=sessionStorage.getItem("reAssignProfessional")||1==this.autoAssignPro)&&this.caFormAssign(t),this.disableAssignTabCA=!0,this.dataDisplayCA=[t],console.log(this.dataDisplayCA),this.assignCATable=!0,this.loadFromSearchCA=!0,this.errorSetCA=!1}else this.loadingSpinner=!1,this.errorSetCA=!1,this.dataDisplayCA=[],this.inputJson.next({popShow:!0,popMsg:"Please enter valid CA  Membership Number.",popClass:"alert alert-danger",popRoute:""})},e=>{this.loadingSpinner=!1,this.errorSetCA=!1,this.dataDisplayCA=[],this.inputJson.next({popShow:!0,popMsg:"Please enter valid CA  Membership Number.",popClass:"alert alert-danger",popRoute:""})})}openToolTip(e,t){this.tooltipJson.next({pageX:e.pageX,pageY:e.pageY,code:t})}getExtDetailsByProjectId(){this.loadingSpinner=!0,this._serv.getExtensionByExtId(this.extId).subscribe(e=>{this.loadingSpinner=!1,console.log("extension details are"),console.log(e),null==e.reason&&""==e.reason||(this.applyExtLink=!0)})}getPaymentStatus(){this._paymentService.getPaymentDetailsService(this.extId).subscribe(e=>{console.log(e),"SUCCESS"==e.data.paymentStatus&&(this.paymentExtLink=!0)},e=>{console.log(e)})}};b.ctorParameters=()=>[{type:l.e},{type:g},{type:D.a},{type:u.a},{type:m},{type:f},{type:I}],b=o.b([Object(r.n)({selector:"app-assign-professional",template:o.c(n("Pw0C")).default,styles:[o.c(n("9JQn")).default]})],b);let x=class{constructor(e,t,n,o,r,s,a){this._paymentService=e,this._promoterDetailService=t,this._router=n,this._formView=o,this._formRejectService=r,this._serv=s,this._regex=a,this.inputJsonVariable=new h.a({}),this.AssignmentCheck={architectAssigned:"",EngineerAssigned:"",CAassigned:""},this.form3Call=!1,this.form1Call=!1,this.form2Call=!1,this.hideFormOne=!0,this.hideFormTwo=!0,this.hideFormThree=!0,this.loadingSpinner=!1,this.hideFormTwoAnx=!0,this.rejectBtnForm1Name="Reject",this.rejectBtnForm2Name="Reject",this.rejectBtnForm2AnxName="Reject",this.rejectBtnForm3Name="Reject",this.rejectBtnFormMofName="Reject",this.paymentStatus=!1,this.asisgnExtLink=!1,this.performCertification=!1,this.applyExtLink=!1,this.paymentExtLink=!1,this.inputJsonVariableOne=new h.a({}),this.inputJsonVariableTwo=new h.a({}),this.inputJsonVariableTwoAnxx=new h.a({}),this.inputJsonVariableThree=new h.a({}),this.inputJson=new h.a({})}ngOnInit(){this.formCall=sessionStorage.getItem("callingTab"),"form1Call"==this.formCall?(this.form1Call=!0,this.form2Call=!1,this.form2AnxCall=!1,this.form3Call=!1):"form2Call"==this.formCall?(this.form1Call=!1,this.form2Call=!0,this.form2AnxCall=!1,this.form3Call=!1):"form2AnxCall"==this.formCall?(this.form1Call=!1,this.form2Call=!1,this.form2AnxCall=!0,this.form3Call=!1):"form3Call"==this.formCall&&(this.form1Call=!1,this.form2Call=!1,this.form2AnxCall=!1,this.form3Call=!0),this.prjRegId=parseInt(sessionStorage.getItem("projectId")),this.extId=parseInt(sessionStorage.getItem("extId")),this.inputJsonVariable.next({projectId:this.prjRegId,type:"PROJECT_EXT",processId:this.extId,navigateOptionReq:!1,prevTabURL:"",NextTabURL:""}),this._formView.getExtensionExtId(this.extId).subscribe(e=>{console.log("extension details are view"),console.log(e),null!=e.projectFormOne&&(this.formOneid=e.projectFormOne.referanceformOneId),null!=e.projectFormTwo&&(this.formTwoid=e.projectFormTwo.referenceForm2Id),null!=e.projectFormTwoAnnx?this.formTwoAnxxid=e.projectFormTwoAnnx.referenceForm2Id:null!=e.projectFormTwo&&(this.formTwoAnxxid=e.projectFormTwo.referenceForm2Id),null!=e.projectFormThree&&(this.formThreeid=e.projectFormThree.referenceForm3Id),console.log(this.formOneid),console.log(this.formTwoid),console.log(this.formTwoAnxxid),console.log(this.formThreeid),console.log(" this.formOneid"),console.log(this.formOneid),console.log(this.formTwoid),console.log(this.formTwoAnxxid),console.log(this.formThreeid),this.inputJsonVariableOne.next({id:this.formOneid,type:"FORMONE",projectId:this.prjRegId}),this.inputJsonVariableTwo.next({id:this.formTwoid,type:"FORMTWO",projectId:this.prjRegId}),this.inputJsonVariableTwoAnxx.next({id:this.formTwoAnxxid,type:"FORMTWO",projectId:this.prjRegId}),this.inputJsonVariableThree.next({id:this.formThreeid,type:"FORMTHREE",projectId:this.prjRegId}),console.log("this.inputJsonVariableOne"),console.log(this.inputJsonVariableOne),console.log(this.inputJsonVariableTwo)}),this.projectStatusCheck(),this.getPaymentStatus(),this.getArchitect(),this.getExtDetailsByProjectId()}prevTab(e){1==e?(console.log("prev-1"),this._router.navigate(["extension/assign-professional"])):2==e?(console.log("prev-2"),this.form1Call=!0,this.form2Call=!1,this.form2AnxCall=!1,this.form3Call=!1):22==e?(console.log("prev-22"),this.form1Call=!1,this.form2Call=!0,this.form2AnxCall=!1,this.form3Call=!1):3==e&&(console.log("prev-3"),this.form1Call=!1,this.form2Call=!1,this.form2AnxCall=!0,this.form3Call=!1)}nextTab(e){1==e?(console.log("next-1"),this.form1Call=!1,this.form2Call=!0,this.form2AnxCall=!1,this.form3Call=!1):2==e?(console.log("next-2"),this.form1Call=!1,this.form2Call=!1,this.form2AnxCall=!0,this.form3Call=!1):22==e?(console.log("next-2"),this.form1Call=!1,this.form2Call=!1,this.form2AnxCall=!1,this.form3Call=!0):3==e&&(console.log("next-3"),this._router.navigate(["extension/secure/payment"]))}projectStatusCheck(){this.loadingSpinner=!0,this.projectId=parseInt(sessionStorage.getItem("projectId")),this._promoterDetailService.getStatusOfAssignment(this.extId).subscribe(e=>{this.AssignmentCheck=e.data,this.loadingSpinner=!1,this.referanceformOneId=e.data.referanceformOneId,this.referanceformTwoId=e.data.engineerReferanceformTwoId,this.referanceformThreeId=e.data.caReferanceformOneId,this.inputJsonVariable.next({projectId:this.projectId,type:"PROJECT_EXT",processId:this.extId,navigateOptionReq:!1,prevTabURL:"",NextTabURL:"",referanceformId:this.referanceformOneId,referanceTwoId:this.referanceformTwoId,referanceThreeId:this.referanceformThreeId}),console.log(e),this.AssignmentCheck&&("UPLOADED"!=this.AssignmentCheck.architectAssigned&&"ACCEPTED"!=this.AssignmentCheck.architectAssigned?(this.isAddOrEditConditionArchitect=!1,this.arcAccepted=!1):(this.arcAccepted=!0,this.isAddOrEditConditionArchitect=!0),"UPLOADED"!=this.AssignmentCheck.EngineerAssigned&&"ACCEPTED"!=this.AssignmentCheck.EngineerAssigned?(this.enggAccepted=!1,this.isNotUploadedEngineer=!0):(this.enggAccepted=!0,this.isNotUploadedEngineer=!1),"UPLOADED"!=this.AssignmentCheck.EngineerAnxAssigned&&"ACCEPTED"!=this.AssignmentCheck.EngineerAnxAssigned?(this.enggAccepted=!1,this.isNotUploadedAnx=!0):(this.enggAccepted=!0,this.isNotUploadedAnx=!1),"UPLOADED"!=this.AssignmentCheck.CAassigned&&"ACCEPTED"!=this.AssignmentCheck.CAassigned?(this.caAccepted=!1,this.isNotUploadedCA=!0):(this.caAccepted=!0,this.isNotUploadedCA=!1),"ACCEPTED"!=this.AssignmentCheck.architectAssigned?this.isArcNotAccepted=!0:(this.isArcNotAccepted=!1,this.discardForm1=!0,this.rejectBtnForm1Name="Discard"),"ACCEPTED"!=this.AssignmentCheck.EngineerAssigned?this.isEnggNotAccepted=!0:(this.isEnggNotAccepted=!1,this.discardForm2=!0,this.rejectBtnForm2Name="Discard"),"ACCEPTED"!=this.AssignmentCheck.EngineerAnxAssigned?this.isAnxEnggNotAccepted=!0:(this.isAnxEnggNotAccepted=!1,this.discardForm2Anx=!0,this.rejectBtnForm2AnxName="Discard"),"ACCEPTED"!=this.AssignmentCheck.CAassigned?this.isCaNotAccepted=!0:(this.isCaNotAccepted=!1,this.discardForm3=!0,this.rejectBtnForm3Name="Discard"))},e=>{this.loadingSpinner=!1,this.isAddOrEditConditionArchitect=!1,this.isNotUploadedEngineer=!0,this.isNotUploadedCA=!0,this.AssignmentCheck={architectAssigned:"ASSIGNED",EngineerAssigned:"ASSIGNED",CAassigned:"ASSIGNED"},console.log("Not Working Id")})}acceptTabBTN(e){if("1"==e)this.isArcNotAccepted=!1,this.hideFormOne=!1;else if("2"==e)this.isEnggNotAccepted=!1,this.hideFormTwo=!1;else if("22"==e)this.isAnxEnggNotAccepted=!1,this.hideFormTwoAnx=!1;else if("3"==e)return this.popShow=!0,!1;this.updateServiceCallback(e,"ACCEPTED")}popClose(){this.popShow=!1}formThreeAccept(){this.updateServiceCallback(3,"ACCEPTED"),this.isCaNotAccepted=!1,this.hideFormThree=!1,this.popShow=!1}rejectTabBTN(e){sessionStorage.setItem("processNo",e),this.loadingSpinner=!0;let t={processId:parseInt(sessionStorage.getItem("extId")),projectId:parseInt(sessionStorage.getItem("projectId")),processType:"PROJECT_EXT",processNo:e};this._formRejectService.formRemoveService(t).subscribe(t=>{console.log(t),this.updateServiceCallback(e,"REJECTED"),setTimeout(()=>{this.loadingSpinner=!1,this.inputJson.next({popShow:!0,popMsg:this._regex.assignPopupText,popClass:"alert alert-danger",popRoute:"extension/assign-professional",reAssignProfessional:"Yes"})},2e3)},e=>{this.loadingSpinner=!1,console.log(e)})}updateServiceCallback(e,t){let n=sessionStorage.getItem("extId");"1"==e?(this.formOneReject(n,t),"REJECTED"==t&&this.discardForm1&&(this.formOneReject(n,t),this.formTwoReject(n,t),this.formTwoAnxReject(n,t),this.formThreeReject(n,t))):"2"==e?(this.formTwoReject(n,t),"REJECTED"==t&&this.discardForm2&&(this.formTwoReject(n,t),this.formTwoAnxReject(n,t),this.formThreeReject(n,t))):"22"==e?(this.formTwoAnxReject(n,t),"REJECTED"==t&&this.discardForm2Anx&&(this.formTwoAnxReject(n,t),this.formThreeReject(n,t))):"3"==e&&this.formThreeReject(n,t)}formOneReject(e,t){this._formView.formOneUpdateStatus(e,t,this.referanceformOneId).subscribe(e=>{"REJECTED"==t?sessionStorage.setItem("formOneReassign",e.data.coaNo):this._router.navigate(["extension/assign-professional"]),console.log("Form 1 "+t),console.log("Form 1 coa "+e.data.coaNo),console.log("Form 1 coa res "),console.log(e)},e=>{console.log("Form 1 error while "+t)})}formTwoReject(e,t){this._formView.formTwoUpdateStatus(e,t,this.referanceformTwoId).subscribe(e=>{console.log("Form 2 "+t),console.log(e),this._formView.getEngineerDataId(e.data.assignedUserId).subscribe(e=>{console.log("this is engg res"),console.log(e),"REJECTED"==t?sessionStorage.setItem("formTwoReassign",e.panNo):this._router.navigate(["extension/assign-professional"])},e=>{console.log("this is engg err"),console.log(e)})},e=>{console.log("Form 2 error while "+t)})}formTwoAnxReject(e,t){this._formView.formTwoAnxUpdateStatus(e,t,this.referanceformTwoId).subscribe(e=>{console.log("Form 2 "+t),console.log(e),this._formView.getEngineerDataId(e.data.assignedUserId).subscribe(e=>{console.log("this is engg res"),console.log(e),"REJECTED"==t?sessionStorage.setItem("formTwoAnxxReassign",e.panNo):this._router.navigate(["extension/assign-professional"])})},e=>{console.log("Form 2 error while "+t)})}formThreeReject(e,t){this._formView.formThreeUpdateStatus(e,t,this.referanceformThreeId).subscribe(e=>{console.log("Form 3 "+t),"REJECTED"==t?sessionStorage.setItem("formThreeReassign",e.data.caMemberShipNumber):this._router.navigate(["extension/assign-professional"])},e=>{console.log("Form 3 error while "+t)})}getPaymentStatus(){this._paymentService.getPaymentDetailsService(this.extId).subscribe(e=>{console.log(e),this.paymentStatus=null==e.data.aknowledgementNo,"SUCCESS"==e.data.paymentStatus&&(this.paymentExtLink=!0)},e=>{console.log(e)})}getArchitect(){this.loadingSpinner=!0,this._promoterDetailService.assignedArchitectService(this.extId).subscribe(e=>{console.log(e),this.loadingSpinner=!1,"REJECTED"!=e.status&&(this.asisgnExtLink=!0),"ASSIGNED"==e.status&&"REJECTED"==e.status||(this.performCertification=!0)},e=>{this.loadingSpinner=!1,console.log(e)})}getExtDetailsByProjectId(){this.loadingSpinner=!0,this._serv.getExtensionByExtId(this.extId).subscribe(e=>{this.loadingSpinner=!1,console.log("extension details are"),console.log(e),null==e.reason&&""==e.reason||(this.applyExtLink=!0)})}};x.ctorParameters=()=>[{type:f},{type:g},{type:l.e},{type:I},{type:D.a},{type:m},{type:u.a}],x=o.b([Object(r.n)({selector:"app-form-view",template:o.c(n("lsxD")).default,styles:[o.c(n("T2Fv")).default]})],x);let y=class{constructor(e,t){this._apiURL=e,this._http=t,this.paymentFaild=new h.a({})}postPaymentResultService(e){return this._http.securepost(this._apiURL.projectExtensionApi+"secure/payment/modify",e)}};y.ctorParameters=()=>[{type:p.a},{type:d.a}],y=o.b([Object(r.B)({providedIn:"root"})],y);var E=n("R/mc");let A=class{constructor(e,t,n,o,r,s){this._securePayment=e,this._router=t,this._paymentService=n,this._payResultService=o,this._promoterDetailService=r,this._serv=s,this.loadingSpinner=!1,this.openGatewayPop=new h.a({}),this.errorMsg=!1,this.successMsg=!1,this.loader=!1,this.checkCount=0,this.paymentFailed=!1,this.checkBox=!1,this.documentCheck=!0,this.paymentSuccess=!0,this.asisgnExtLink=!1,this.performCertification=!1,this.applyExtLink=!1,this.paymentExtLink=!1,this.inputJson=new h.a({}),this.transactionalData=new h.a({}),this.showVerification=!1,this.showReceipt=!0,this.checkPaymentActivity=!0,this.setObserVableValue=(e,t,n,o)=>{this.transactionalData.next({registrationType:t,processName:e,processId:n,redirectUrl:o}),this.showVerification=!0},this.outPutHandle=e=>{console.log("outPutHandle",e),this.showReceipt=e.payMentDone>-1,e.hidePayButton>-1?(this.checkPaymentActivity=!1,this.showVerification=!0):(this.checkPaymentActivity=!0,this.showVerification=!1)}}ngOnInit(){this.loadingSpinner=!0,sessionStorage.removeItem("printAckExt"),this.projectId=parseInt(sessionStorage.getItem("projectId")),this.extId=parseInt(sessionStorage.getItem("extId")),this.paymentForm=new a.d({paymentTokenNo:new a.c(null,[a.h.required]),reqAmount:new a.c(null,[a.h.required]),reqPenaltyAmount:new a.c(null,[a.h.required]),reqTotalAmount:new a.c(null,[a.h.required]),processName:new a.c(null,[a.h.required]),registraionType:new a.c(null,[a.h.required]),processId:new a.c(null,[a.h.required]),redirectUrl:new a.c("/extension/payment-result",[a.h.required]),userName:new a.c(null,[a.h.required]),mobileNo:new a.c(null,[a.h.required]),emailId:new a.c(null,[a.h.required]),paymentRemarks:new a.c(null,[a.h.required]),userType:new a.c(sessionStorage.getItem("userType")),paymentGateway:new a.c(null),encData:new a.c(null),encData_SBI:new a.c(null)}),this._payResultService.paymentFaild.subscribe(e=>{console.log(e),this.loadingSpinner=!1,this.paymentFailed=e.show,this.paymentMsg=e.message}),this.getprofile(),this.getPaymentDetails(),this.getArchitect(),this.getExtDetailsByProjectId()}getprofile(){this._paymentService.getProfileService().subscribe(e=>{console.log(e),this.projectMobileNo=e.mobileNo})}getPaymentDetails(){this.loadingSpinner=!0,this._paymentService.getPaymentDetailsService(this.extId).subscribe(e=>{console.log(e.data.paymentStatus),console.log(e),this.paymentData=e.data,this.loadingSpinner=!1,this.paymentData.processName="Registration Fees",this.paymentData.registraionType="Project Extension Fees",null==this.paymentData.totalProjectAmount&&(this.paymentData.totalProjectAmount=this.paymentData.amount),this.totalAmount=this.paymentData.totalProjectAmount,"SUCCESS"==e.data.paymentStatus?this.paymentExtLink=!0:this.setObserVableValue("Registration Fees","Project Extension Fees",this.extId,"project-dashboard/project-view"),setTimeout(()=>{this.encDataForSecurePay()},1e3)},e=>{console.log(e),this.loadingSpinner=!1})}encDataForSecurePay(){this._paymentService.encPaymentDetailsService(this.paymentForm.value).subscribe(e=>{this.loadingSpinner=!1,this.encDataValue=e.data.encData,this.encDataValue_SBI=e.data.encData_SBI})}selectGatewayConfirm(e){this.loadingSpinner=!0,this.paymentGatewayValue=e,setTimeout(()=>{this.savePaymentDetails()},1e3)}savePaymentDetails(){this._paymentService.postPaymentDetailsService(this.paymentForm.value).subscribe(e=>{this._securePayment.secureData.next(e),this.loadingSpinner=!1,this._router.navigate(["secure-payment"])},e=>{this.inputJson.next({popShow:!0,popMsg:e.error.message,popClass:"alert alert-danger",popRoute:""}),this.loadingSpinner=!1,console.log(e)})}postPaymentDetails(){this.openGatewayPop.next({openPop:!0})}prevTab(){this._router.navigate(["extension/form-view"])}checkValue(e){1==e.target.checked?this.checkCount++:this.checkCount--,5==this.checkCount?this.documentCheck=!1:this.documentCheck=!0,console.log(this.checkCount)}printNavigation(){this._router.navigate(["extension-p/print-extension"])}transformAmount(e){return Number(e).toLocaleString("en-IN")}getArchitect(){this.loadingSpinner=!0,this._promoterDetailService.assignedArchitectService(this.extId).subscribe(e=>{console.log(e),this.loadingSpinner=!1,"REJECTED"!=e.status&&(this.asisgnExtLink=!0),"ASSIGNED"==e.status&&"REJECTED"==e.status||(this.performCertification=!0)},e=>{this.loadingSpinner=!1,console.log(e)})}getExtDetailsByProjectId(){this.loadingSpinner=!0,this._serv.getExtensionByExtId(this.extId).subscribe(e=>{this.loadingSpinner=!1,console.log("extension details are"),console.log(e),null==e.reason&&""==e.reason||(this.applyExtLink=!0)})}};A.ctorParameters=()=>[{type:E.a},{type:l.e},{type:f},{type:y},{type:g},{type:m}],A=o.b([Object(r.n)({selector:"app-payment",template:o.c(n("dDdo")).default,styles:[o.c(n("fVRx")).default]})],A);var C=n("dkfh");let S=class{constructor(e,t,n,o){this._apiURL=e,this._payConfirm=t,this._router=n,this._payResultService=o}ngOnInit(){this.projectId=parseInt(sessionStorage.getItem("projectId")),this.extId=parseInt(sessionStorage.getItem("extId")),this.postPaymentResult()}postPaymentResult(){this._payConfirm.setData.subscribe(e=>{console.log(e);let t={prjExtId:this.extId,sbiReferanceNo:e.sbireferenceNo,transactionNo:e.resTransactionNo,tokenNo:e.paymentTokenNo,status:e.status};this.downloadReciept=this._apiURL.paymentDownload+"downloadPatmentReciept/"+e.resTransactionNo,console.log(t),this._payResultService.postPaymentResultService(t).subscribe(e=>{console.log("extension payment ",e),200==e.status&&sessionStorage.setItem("printAckExt",e.data.aknowledgementNo),"SUCCESS"==e.data.paymentStatus||"BOOKED"==e.data.paymentStatus?this.allData={message:e.message,class:"alert alert-success"}:"PENDING"==e.data.paymentStatus?this.allData={message:e.message,class:"alert alert-danger"}:(this._payResultService.paymentFaild.next({show:!0,message:e.message}),this._router.navigate(["extension/secure/payment"])),console.log(e)},e=>{this.allData={message:e.message,class:"alert alert-danger"},console.log(e)})})}printNavigation(){this._router.navigate(["extension-p/print-extension"])}};S.ctorParameters=()=>[{type:p.a},{type:C.a},{type:l.e},{type:y}],S=o.b([Object(r.n)({selector:"app-payment-result",template:o.c(n("cojN")).default,styles:[o.c(n("M4hY")).default]})],S);let w=class{constructor(e,t){this._apiURL=e,this._reraService=t,this._reraService=t,this.apiUrl=e.formTwoApi}postData(e){return this._reraService.securepost(this._apiURL.projectExtensionApi+"secure/project-edit/updateprojectdtl",e)}getProjectDtl(e){return this._reraService.get(this._apiURL.projectRegAPI+"project-app/alldatabyprojectid/"+e)}getExtDetailsByProjectId(e){return this._reraService.secureget(this._apiURL.projectExtensionApi+"secure/getproject-ext-details/"+e)}getExtDetailsLetestByProjectId(e){return this._reraService.secureget(this._apiURL.projectExtensionApi+"dsecure/get-latest-by-prj-i/"+e)}getExtLetestByProjectId(e){return this._reraService.secureget(this._apiURL.projectExtensionApi+"secure/get-latestExte-by-prj-id/"+e)}getExtensionByExtId(e){return this._reraService.secureget(this._apiURL.projectExtensionApi+"secure/getproject-ext-details-byid"+e)}getAltDetailsByProjectId(e){return this._reraService.secureget(this._apiURL.projectAltAPI+"secure/getByproject/"+e)}getTotalProjectDetailsByProjectId(e){return this._reraService.secureget(this._apiURL.projectRegAPI+"project-app/alldatabyprojectid/"+e)}getAddedJointDeveloper(e){return this._reraService.secureget(this._apiURL.projectRegAPI+"secure/land-owner/project"+e)}};w.ctorParameters=()=>[{type:p.a},{type:d.a}],w=o.b([Object(r.B)({providedIn:"root"})],w);let F=class{constructor(e,t,n,o,r,s,a){this._assignService=e,this.route=t,this._validation=n,this._serv=o,this._router=r,this.datepipe=s,this._apiURL=a,this.errorMsg=!1,this.successMsg=!1,this.loader=!1,this.extensionData=null,this.projectExtensionDocOtherList=new Array,this.reason="",this.extendToDate=null,this.commencentCertiUId=null,this.commencentCertiFId=new h.a({}),this.decilarionFormBUId=null,this.newFormB1UId=null,this.newFormB2UId=null,this.decilarionFormBFId=new h.a({}),this.supDocFId=new h.a({}),this.inputJson=new h.a({}),this.isOptional=!1,this.commencentCertiDate=null,this.currentDate=new Date,this.extBlockListFk=new Array,this.abc="NO",this.closeIcon=!0,this.tooltipJson=new h.a({}),this.readOnly=!1,this.isJointDevelopmentYes=!1,this.oldDocValueValue={},this.docId32=new h.a({}),this.docId33=new h.a({}),this.docId34=new h.a({}),this.docId2=new h.a({}),this.newFormB1DocBId=new h.a({}),this.newFormB2DocBId=new h.a({}),this.outputValueUPDATE={},this.isBlockData=!1,this.edate=new Date(""),this.formOneActive=!0,this.reasonDropdownList=["BU Permission is not received as per RERA Act","Society Registration is not received as per RERA Act","BU Permission is received but Society formation is stuck due to 10 members not available for Society Registration","Project is not complete due to situations like Financial / Less Bookings / Labour / Material / Disputes / Business Conditions etc","Construction work complete but NOC like Fire & Lift NOC etc. not received so we can not apply for BU permission.","BU Permission and Society Registration - both are not received"],this.reasonArray=new Array,this.selectedDistrictItems=new Array,this.currDate=new Date,this.loadingSpinner=!0}ngOnInit(){this.fileDownlod=this._apiURL.fileDownloadAPI+"download/",this.supDocFId.next({multiFile:!1}),this.fileId={},this.outputValue={},this.maxDate=this.datepipe.transform(new Date(this.currentDate.getFullYear()+10,11,31),"yyyy-MM-dd"),this.endDate=this.datepipe.transform(new Date(this.currentDate.getFullYear()+10,11,31),"yyyy-MM-dd"),this.extId=sessionStorage.getItem("extId"),this.projectId=sessionStorage.getItem("projectId"),sessionStorage.setItem("projectId",this.projectId),this.extensionForm=new a.d({id:new a.c,extendToDate:new a.c(this.extendToDate,[a.h.required,this._validation.pastDateValidator]),reason:new a.c(this.reason,[a.h.required]),multiSelect:new a.c(null),cmentDcoId:new a.c(null),decilarionFormBId:new a.c(null),decilarionFormBUId:new a.c(null),newFormB1DocId:new a.c(null),newFormB1DocUId:new a.c(null),newFormB2DocId:new a.c(null),newFormB2DocUId:new a.c(null),documentCondition:new a.c(null),declarationFormbDocIssuanceDate:new a.c(null),declarationFormbIssuerName:new a.c(null),declarationFormbIssuerCONTACT:new a.c(null),declarationFormbDocId:new a.c(null),declarationFormB1Issurance:new a.c(null),declarationFormB1IssurName:new a.c(null),declarationFormB1Contact:new a.c(null),declarationFormB1Id:new a.c(null),declarationFormB2Issurance:new a.c(null),declarationFormB2IssurName:new a.c(null),declarationFormB2Contact:new a.c(null),declarationFormB2Id:new a.c(null)}),this.updateBlockDetail=new a.d({devEndDate:new a.c(null,[a.h.required,this._validation.dateValidator]),dateIssuanceDoc:new a.c(null,[a.h.required]),newCommencementCertificateId:new a.c(null,a.h.required),newCommencementCertificateUId:new a.c(null,a.h.required)}),this.getExtDetailsByProjectId(),this.getAddedJointDeveloper()}setValue(e){this.outputValue[e.fid]=e.docid,console.log("doc id is"+this.outputValue[e.fid])}setMultiFileDoc(e){console.log(e);let t={otherProjectExteDocId:e.docid.toString(),otherProjectExteDocUId:null,otherProjectExteDocName:e.caption,otherProjectExteDocCap:e.caption};this.projectExtensionDocOtherList.push(t),console.log(this.projectExtensionDocOtherList)}deleteOthDocTr(e){this.projectExtensionDocOtherList.splice(e,1)}checkDate(e){let t=new Date(e),n=new Date(this.projectAllData.projectDetailsModel.completionDate),o=new Date(this.projectEndDate);console.log(o),console.log(n),console.log(t),t.getTime()>n.getTime()&&t.getTime()<o.getTime()?this.extensionForm.get("extendToDate").setErrors(null):this.extensionForm.get("extendToDate").setErrors({incorrect:!0})}setRequired(){return[a.h.required]}getAltDetailsByProjectId(){this.loadingSpinner=!0,this._serv.getAltDetailsByProjectId(this.projectId).subscribe(e=>{this.loadingSpinner=!1,console.log("project alteration details are::::::"),console.log(e),null!=e.data&&(console.log(e.data[0].paymentDetailsModel.status),"SUCCESS"==e.data[0].paymentDetailsModel.status&&"APPROVED"!=e.data[0].stateCode&&this.inputJson.next({popShow:!0,popMsg:"Project Alteration is still pending",popClass:"alert alert-danger",popRoute:"/project-dashboard/project-view"}))},e=>{this.loadingSpinner=!1})}getProjectDtl(e,t){this.loadingSpinner=!0,console.log("get project details called"),this._serv.getProjectDtl(e).subscribe(e=>{this.loadingSpinner=!1,console.log("Project app details are"),console.log(e),this.projectAllData=e.data,this.projectStartDate=this.projectAllData.projectDetailsModel.startDate,console.log("project start date is "+this.projectStartDate);var n=parseInt(this.projectAllData.projectDetailsModel.completionDate.substr(0,4)),o=this.projectAllData.projectDetailsModel.completionDate.substr(5,2),r=this.projectAllData.projectDetailsModel.completionDate.substr(8,2);console.log(n),console.log(o),console.log(r),this.actualProjectEndDate=n+"-"+o+"-"+r,n+=1,this.projectEndDate=n+"-"+o+"-"+r,console.log("project end date is "),console.log(this.projectEndDate),"noBlock"==t&&(this.extBlockListFk=this.projectAllData.blockList,console.log("block list is "),console.log(this.extBlockListFk))},e=>{this.loadingSpinner=!1,console.log(e)})}disableAllTheField(e,t){Object.keys(e).forEach(e=>{t.controls[e].disable()})}setDefaultValues(){this.extensionForm.patchValue({documentCondition:"NO"})}getExtDetailsByProjectId(){this.loadingSpinner=!0,this._serv.getExtensionByExtId(this.extId).subscribe(e=>{if(this.loadingSpinner=!1,console.log("extension details are"),console.log(e),this.selectedDistrictItems=e.reason.split(","),this.reasonArray=e.reason.split(","),console.log(this.selectedDistrictItems),null!=e){this.extBlockListFk=[],this.extensionData=e,this.extBlockListFk=e.extBlockListFk,console.log(e.extBlockListFk),this.getProjectDtl(this.projectId,"isBlock"),console.log("reason is "),console.log(e.reason),this.reason=e.reason,console.log(this.reason),this.extendToDate=e.extendToDate,this.commencentCertiDate=e.projectExtensionDoc.commencentCertiDate,console.log(e.projectExtensionDoc.commencentCertiUId),this.outputValue.commencentCertiId=e.projectExtensionDoc.commencentCertiId,this.commencentCertiFId.next({docId:this.outputValue.commencentCertiId,docUid:e.projectExtensionDoc.commencentCertiUId}),this.decilarionFormBUId=e.projectExtensionDoc.decilarionFormBUId,this.outputValue.decilarionFormBId=e.projectExtensionDoc.decilarionFormBId,this.decilarionFormBFId.next({docId:this.outputValue.decilarionFormBId,docUid:e.projectExtensionDoc.decilarionFormBUId}),this.newFormB1UId=e.newFormB1DocUId,this.outputValue.newFormB1DocId=e.newFormB1DocId,this.newFormB1DocBId.next({docId:this.outputValue.newFormB1DocId,docUid:e.newFormB1DocUId}),this.newFormB2UId=e.newFormB2DocUId,this.outputValue.newFormB2DocId=e.newFormB2DocId,this.newFormB2DocBId.next({docId:this.outputValue.newFormB2DocId,docUid:e.newFormB2DocUId}),this.projectExtensionDocOtherList=e.projectExtensionDoc.projectExtensionDocOtherList,Object.keys(this.projectExtensionDocOtherList).length>0&&(this.extensionForm.patchValue({documentCondition:"YES"}),this.isOptional=!0)}else console.log("New Extension"),this.getProjectDtl(this.projectId,"noBlock")},e=>{this.getProjectDtl(this.projectId,"noBlock"),this.loadingSpinner=!1,console.log("inside error"),this.extensionData=null,console.log(this.extensionData)})}nextBtn(){this._router.navigate(["workflow/extension"])}submitExtForm(){if(this.loadingSpinner=!0,this.isOptional){if(0==Object.keys(this.projectExtensionDocOtherList).length)return this.loadingSpinner=!1,this.inputJson.next({popShow:!0,popMsg:"At least one Supporting Documents is required",popClass:"alert alert-danger",popRoute:""}),!1}else this.projectExtensionDocOtherList=null;if(console.log("submit called"),this.loader=!0,console.log(this.extensionData),null==this.extensionData){console.log("inside null");let e={projectId:this.projectId,status:"INPROGRESS",projectName:this.projectAllData.projectDetailsModel.projectName,promoterId:this.projectAllData.promoterId,promoteremailId:this.projectAllData.promoteremailId,promoterMobileNo:this.projectAllData.promoterMobileNo,promoterName:this.projectAllData.promoterName,promoterType:this.projectAllData.promoterType,projectRegNo:this.projectAllData.projRegNo,projectType:this.projectAllData.projectDetailsModel.projectType,projectRegStartDate:this.projectAllData.projectDetailsModel.startDate,projectRegEndDate:this.projectAllData.projectDetailsModel.completionDate,processType:"PROJECT_EXT",processName:"PROJECT_EXTENSION",extendToDate:this.extensionForm.controls.extendToDate.value,reason:this.extensionForm.controls.reason.value,extBlockListFk:this.extBlockListFk,newFormB1DocId:this.outputValue.newFormB1DocId,newFormB1DocUId:this.newFormB1UId,newFormB2DocId:this.outputValue.newFormB2DocId,newFormB2DocUId:this.newFormB2UId,projectExtensionDoc:{decilarionFormBId:this.extensionForm.controls.decilarionFormBId.value,decilarionFormBUId:this.decilarionFormBUId,projectExtensionDocOtherList:this.projectExtensionDocOtherList}};console.log("form submit json is "),console.log(e),this.extensionData=e}else console.log("inside else"),this.extensionData.extendToDate=this.extensionForm.controls.extendToDate.value,this.extensionData.reason=this.extensionForm.controls.reason.value,this.extensionData.promoterId=this.projectAllData.promoterId,this.extensionData.promoterName=this.projectAllData.promoterName,this.extensionData.promoterType=this.projectAllData.promoterType,this.extensionData.promoteremailId=this.projectAllData.promoteremailId,this.extensionData.projectType=this.projectAllData.projectDetailsModel.projectType,this.extensionData.promoterMobileNo=this.projectAllData.promoterMobileNo,this.extensionData.projectRegNo=this.projectAllData.projRegNo,this.extensionData.newFormB1DocId=this.outputValue.newFormB1DocId,this.extensionData.newFormB1DocUId=this.newFormB1UId,this.extensionData.newFormB2DocId=this.outputValue.newFormB2DocId,this.extensionData.newFormB2DocUId=this.newFormB2UId,this.extensionData.projectExtensionDoc.decilarionFormBId=this.outputValue.decilarionFormBId,this.extensionData.projectExtensionDoc.decilarionFormBUId=this.decilarionFormBUId,this.extensionData.extBlockListFk=this.extBlockListFk,this.extensionData.projectExtensionDoc.projectExtensionDocOtherList=this.projectExtensionDocOtherList;console.log("before insert extension data is "),console.log("this is extension data while",this.extensionData),console.log("doc id is "),console.log(this.outputValue.newFormB1DocId),console.log(this.extensionData.newFormB1DocId),console.log("::::::::::::::::"),this._serv.postData(this.extensionData).subscribe(e=>{this.loadingSpinner=!1,console.log("form submitted response is"),console.log(e),sessionStorage.setItem("extId",e.id),this.loader=!1,this.extensionForm.reset(),this.inputJson.next({popShow:!0,popMsg:"Extension details updated successfully",popClass:"alert alert-success",popRoute:"workflow/extension"})},e=>{this.loadingSpinner=!1,this.inputJson.next({popShow:!0,popMsg:e.error.message,popClass:"alert alert-danger",popRoute:""}),this.loader=!1})}next(){sessionStorage.setItem("extId",this.extensionData.id),this._router.navigate(["workflow/extension"])}checkOthDoc(e){console.log("selected value is "+e.target.value),"YES"==e.target.value&&(this.isOptional=!0),"NO"==e.target.value&&(this.isOptional=!1)}openToolTip(e,t){this.tooltipJson.next({pageX:e.pageX,pageY:e.pageY,code:t})}getAddedJointDeveloper(){this.loadingSpinner=!0;this.extensionForm.get("newFormB1DocId"),this.extensionForm.get("newFormB2DocId");this._serv.getAddedJointDeveloper(this.projectId).subscribe(e=>{this.loadingSpinner=!1,console.log(e),200==e.status?this.isJointDevelopmentYes=!0:this.isJointDevelopmentYes=!1,this.getProjectDetailsService(this.projectId)},e=>{this.loadingSpinner=!1,console.log(e),this.isJointDevelopmentYes=!1})}getProjectDetailsService(e){this.loadingSpinner=!0,this._serv.getTotalProjectDetailsByProjectId(e).subscribe(e=>{this.loadingSpinner=!1,"200"==e.status&&e.data&&(console.log("Old Project Value data",e),this.oldDocValueValue=e.data.projectDocModel,this.oldDocValueValue.declarationFormbDocIssuanceDate=this.datepipe.transform(this.oldDocValueValue.declarationFormbDocIssuanceDate,"yyyy-MM-dd"),this.oldDocValueValue.declarationFormB1Issurance=this.datepipe.transform(this.oldDocValueValue.declarationFormB1Issurance,"yyyy-MM-dd"),this.oldDocValueValue.declarationFormB2Issurance=this.datepipe.transform(this.oldDocValueValue.declarationFormB2Issurance,"yyyy-MM-dd"),this.outputValue.declarationFormB1Id=this.oldDocValueValue.declarationFormB1Id,this.outputValue.declarationFormB2Id=this.oldDocValueValue.declarationFormB2Id,this.outputValue.declarationFormbDocId=this.oldDocValueValue.declarationFormbDocId,this.docId32.next({docId:this.oldDocValueValue.declarationFormB1Id,docUid:this.oldDocValueValue.declarationFormB1UId}),this.docId33.next({docId:this.oldDocValueValue.declarationFormB2Id,docUid:this.oldDocValueValue.declarationFormB2UId}),this.docId34.next({docId:this.oldDocValueValue.declarationFormbDocId,docUid:this.oldDocValueValue.declarationFormbDocUId}))},e=>{this.loadingSpinner=!1,console.log(e)})}edatevalidation(e){this.edate=e,this.endDate=this.projectEndDate,console.log(this.edate),console.log(this.endDate),console.log(" >>>>>>>>>>>>>>>>>> "+this.devStartDate),this.devStartDate<=this.edate&&this.endDate>=this.edate?(console.log(!0),this.errorMsg=!1):this.updateBlockDetail.get("devEndDate").setErrors({incorrect:!0}),this.errorMsg=!1,this.errTxt="End Date should be greater than start Date",console.log(!1)}commdatevalidation(e){let t=new Date(e),n=new Date(this.devStartDate);console.log(t.getTime(),n.getTime()),t.getTime()>n.getTime()||isNaN(t.getTime())||isNaN(n.getTime())?this.updateBlockDetail.get("dateIssuanceDoc").setErrors({incorrect:!0}):(this.updateBlockDetail.get("dateIssuanceDoc").setErrors(null),this.updateBlockDetail.get("dateIssuanceDoc").setValidators(this._validation.dateValidator),this.updateBlockDetail.get("dateIssuanceDoc").updateValueAndValidity())}Issuancedatevalidation(e){this.Issuancedate=e,"Invalid Date"==this.Issuancedate?(console.log(!0),this.errorMsg=!1):(this.errorMsg=!0,console.log(!1))}setValueUPDATE(e){console.log(e),this.outputValueUPDATE[e.fid]=e.docid,console.log(this.outputValueUPDATE)}popupClose(){this.modalPopup=!1}editBlockDetail(e,t){console.log(e),this.modalPopup=!0,this.blockIndexId=t,this.blockName=e.blockName,this.devStartDate=e.devStartDate,this.devEndDate=e.devEndDate,this.dateIssuanceDoc=e.dateIssuanceDoc,this.commencementCertiNo=e.commencementCertiNo,this.height=e.height,this.fsi=e.fsi,this.builtupArea=e.builtupArea,this.outputValueUPDATE.newCommencementCertificateId=e.commencementCertificateId,this.newCommencementCertificateUId=e.commencementCertificateUId,this.docId2.next({docId:e.commencementCertificateId,docUid:e.commencementCertificateUId})}updateBlock(){console.log(this.updateBlockDetail.value),this.extBlockListFk[this.blockIndexId].devEndDate=this.updateBlockDetail.controls.devEndDate.value,this.extBlockListFk[this.blockIndexId].dateIssuanceDoc=this.updateBlockDetail.controls.dateIssuanceDoc.value,this.extBlockListFk[this.blockIndexId].commencementCertificateUId=this.updateBlockDetail.controls.newCommencementCertificateUId.value,this.modalPopup=!1,console.log(this.extBlockListFk)}ngDoCheck(){}getArchitectAssignment(e){this._assignService.assignedArchitectService(e).subscribe(e=>{console.log(e),"ASSIGNED"!=e.status&&(this.formOneActive=!1,this.readOnly=!0,this.closeIcon=!1,this.disableAllTheField(this.extensionForm.controls,this.extensionForm))},e=>{console.log(e),this.formOneActive=!0})}onReasonItemSelect(e){this.reasonArray.push(e),this.reason=this.reasonArray.join()}onReasonSelectAll(e){this.reason=e.join()}onReasonItemDeSelect(e){if(this.reasonArray.length>0){let t=this.reasonArray.indexOf(e);this.reasonArray.splice(t,1),this.reason=this.reasonArray.join()}}onReasontemDeSelectAll(e){this.reason=null}};F.ctorParameters=()=>[{type:g},{type:l.a},{type:u.a},{type:w},{type:l.e},{type:s.e},{type:p.a}],F=o.b([Object(r.n)({selector:"app-apply-ext",template:o.c(n("tM6z")).default,styles:[o.c(n("Qshb")).default]})],F);const N=[{path:"apply-extension",component:v,canActivate:[c.a]},{path:"assign-professional",component:b,canActivate:[c.a]},{path:"form-view",component:x,canActivate:[c.a]},{path:"secure/payment",component:A,canActivate:[c.a]},{path:"payment-result",component:S,canActivate:[c.a]},{path:"apply-ext",component:F,canActivate:[c.a]}];let T=class{};T=o.b([Object(r.J)({imports:[l.f.forChild(N)],exports:[l.f]})],T);var B=n("T9Jj"),P=n("4nBV"),j=n("KAPe"),k=n("5c4+"),U=n("UPf0"),_=n("UPO+"),R=n("5Hd9"),O=n("KD8B"),V=n("/qIY");n.d(t,"ProjectExtensionModule",(function(){return M}));let M=class{};M=o.b([Object(r.J)({declarations:[v,b,x,A,S,F],imports:[O.a,s.b,a.g,i.a,T,a.e,B.a,P.a,j.a,k.a,U.a,R.a,V.a,_.a.forRoot()]})],M)},Pw0C:function(e,t,n){"use strict";n.r(t),t.default='<app-tooltip [tooltipEvent]="tooltipJson"></app-tooltip>\r\n<div class="row" >\r\n\r\n\r\n  <div class="col-md-3 ">\r\n    <div class="leftPanel">\r\n      <ul>\r\n        <li class="icon01"><a class="heightlight" href="javascript:void(0)" [routerLink]="applyExtLink ? [\'/extension/apply-extension\'] : []">Project Extension Detail</a></li>\r\n        <li class="icon02"><a class="heightlight active" href="javascript:void(0)"[routerLink]="asisgnExtLink ? [\'/extension/assign-professional\'] : []">Assign Professionals</a></li>\r\n        <li class="icon03"><a  href="javascript:void(0)"[routerLink]="performCertification ? [\'/extension/form-view\'] : []">Perform Certification</a></li>\r\n        <li class="icon04"><a   href="javascript:void(0)"[routerLink]="paymentExtLink ? [\'/extension/secure/payment\'] : []">Payment</a></li>\r\n      </ul>\r\n      </div>\r\n  </div>\r\n\r\n\r\n\r\n\r\n  <div class="col-md-9">\r\n  <div class="card shadow">\r\n      \x3c!-- .card-body --\x3e\r\n      <div class="card-header">Form 1</div>\r\n      <div class="card-body">\r\n      <div class="row">\r\n\r\n      <div class=" col-md-12 table-responsive mb-4">\r\n        <table class="table table-bordered table-hover" *ngIf="assignTable">\r\n          <thead>\r\n                <tr class="text-center bg-light  text-size-small">\r\n                  <td>COA No</td>\r\n                  <td>Architect Name</td>\r\n                  <td>Email Id</td>\r\n                  <td>Mobile No</td>\r\n                  <td *ngIf="!loadFromSearch">Status</td>\r\n                  <td>Action</td>\r\n                </tr>\r\n            </thead>\r\n              <tbody>\r\n                <tr class="text-center" *ngFor="let architect of architectDetail">\r\n                    <td>{{ architect?.coaNo}}</td>\r\n                    <td>{{  architect?.architectName}} {{architectDetail?.middleName}} {{ architect?.lastName}}</td>\r\n                    <td>{{ architect?.emailId}}</td>\r\n                    <td  >{{ architect?.mobNumber}}</td>\r\n                    <td *ngIf="!loadFromSearch">{{ architect?.status}}</td>\r\n                    <td>\r\n                      <input type="button" class="btn btn-primary" *ngIf="loadFromSearch" value="Assign" (click)="architectFormAssign(architect)">\r\n                      <input type="button" class="btn btn-primary" *ngIf="loadFromSearch" value="Remove" (click)="DeleteFromAssignedArchitect(1)">\r\n                      <input type="button" class="btn btn-primary" *ngIf="!loadFromSearch && (architect?.status == \'ASSIGNED\' || architect?.status == \'INPROGRESS\')" value="Re-Assign" (click)="DeleteFromAssignedArchitect(0)">\r\n                      <span *ngIf="!loadFromSearch && architect?.status == \'UPLOADED\'">--</span>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n          </table>\r\n      </div>\r\n    </div>\r\n      <div class="alert alert-danger" *ngIf="errorSetArc">\r\n        <strong>Error!</strong> No any architect found on this number.\r\n      </div>\r\n\r\n       <div class="row" *ngIf="!disableAssignTab">\r\n          <div class="form-group col-md-4">\r\n\r\n            <label class="control-label">2.1 Search Architect<sup>*</sup> <span class="tooltip-open" (click)="openToolTip($event, \'SEARCH_ARCHITECT\')" >?</span></label>\r\n             <input type="text" class="form-control"   #archVal placeholder="CoA Number" oninput="this.value = this.value.toUpperCase()" onKeyPress="if(this.value.length==14) return false;">\r\n          </div>\r\n          <div class=" col-md-4">\r\n          <div class="form-group">\r\n             <button type="button" class="btn btn-small btn-primary mt-4" (click)="searchArchitectByPAN(archVal.value)">Search</button>\r\n          </div>\r\n        </div>\r\n        </div>\r\n      </div>\r\n      \x3c!-- /.card-body --\x3e\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      \x3c!-- .card-body --\x3e\r\n      <div class="card-header">Form 2</div>\r\n      <div class="card-body">\r\n      <div class="row">\r\n\r\n      <div class=" col-md-12 table-responsive mb-4" >\r\n\r\n        <table class="table table-bordered table-hover" *ngIf="assignEngineerTable">\r\n                  <thead>\r\n                        <tr class="text-center bg-light  text-size-small">\r\n                            <td>Engineer License Number</td>\r\n                            <td>Engineer Name</td>\r\n                            <td>Email Id</td>\r\n                            <td>Mobile No</td>\r\n                            <td  *ngIf="!loadFromSearchEng">Status</td>\r\n                            <td>Action</td>\r\n                        </tr>\r\n                    </thead>\r\n                     <tbody>\r\n                        <tr class="text-center" *ngFor="let engineerDetail of EngineerData">\r\n                          <td>{{engineerDetail?.engineerLicenseNumber}}</td>\r\n                          <td>{{engineerDetail?.firstName}} {{engineerDetail?.middleName}} {{engineerDetail?.lastName}}</td>\r\n                          <td>{{engineerDetail?.emailId}}</td>\r\n\r\n                          <td  >{{engineerDetail?.mobileNo}}</td>\r\n                          <td  *ngIf="!loadFromSearchEng">{{ engineerDetail?.status}}</td>\r\n                          <td>\r\n                            <input type="button" class="btn btn-primary" *ngIf="loadFromSearchEng" value="Assign" (click)="engineerFormAssign(engineerDetail)">\r\n                            <input type="button" class="btn btn-primary" *ngIf="loadFromSearchEng" value="Remove" (click)="DeleteFromAssignedEngineer(1)">\r\n                            <input type="button" class="btn btn-primary" *ngIf="!loadFromSearchEng && (engineerDetail?.status == \'ASSIGNED\' || engineerDetail?.status == \'INPROGRESS\')" value="Re-Assign" (click)="DeleteFromAssignedEngineer(0)">\r\n                            <span *ngIf="!loadFromSearchEng && engineerDetail?.status == \'UPLOADED\'">--</span>\r\n\r\n                          </td>\r\n\r\n                        </tr>\r\n\r\n                   </tbody>\r\n                  </table>\r\n\r\n      </div>\r\n    </div>\r\n\r\n    <div class="alert alert-danger" *ngIf="errorSetEng">\r\n      <strong>Error!</strong> No any Engineer found on this number.\r\n    </div>\r\n\r\n\r\n    <div class="row" *ngIf="!disableAssignTabEng">\r\n        <div class="form-group col-md-4" >\r\n          <label class="control-label">2.2 Search Engineer<sup>*</sup> <span class="tooltip-open" (click)="openToolTip($event, \'SEARCH_ENGINEER\')" >?</span></label>\r\n           <input type="text" class="form-control" #engVal oninput="this.value = this.value.toUpperCase()" onKeyPress="if(this.value.length==10) return false;" placeholder="Engineer PAN">\r\n        </div>\r\n        <div class=" col-md-4">\r\n        <div class="form-group">\r\n<button type="button" class="btn btn-small btn-primary mt-4"  (click)="searchEngineerByPAN(engVal.value)">Search</button>\r\n        </div>\r\n      </div>\r\n\r\n      </div>\r\n\r\n\r\n\r\n      </div>\r\n      \x3c!-- /.card-body --\x3e\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      \x3c!-- .card-body --\x3e\r\n      <div class="card-header">Form 2 A</div>\r\n      <div class="card-body">\r\n      <div class="row">\r\n\r\n      <div class=" col-md-12 table-responsive mb-4" >\r\n\r\n        <table class="table table-bordered table-hover" *ngIf="assignAnxEngineer">\r\n                  <thead>\r\n                        <tr class="text-center bg-light  text-size-small">\r\n                            <td>Engineer License Number</td>\r\n                            <td>Engineer Name</td>\r\n                            <td>Email Id</td>\r\n                            <td>Mobile No</td>\r\n                            <td  *ngIf="!loadAnxSearchEng">Status</td>\r\n                            <td>Action</td>\r\n                        </tr>\r\n                    </thead>\r\n                     <tbody>\r\n                        <tr class="text-center" *ngFor="let engineerAnxDetail of EngineerAnxData">\r\n                          <td>{{engineerAnxDetail?.engineerLicenseNumber}}</td>\r\n                          <td>{{engineerAnxDetail?.firstName}} {{engineerAnxDetail?.middleName}} {{engineerAnxDetail?.lastName}}</td>\r\n                          <td>{{engineerAnxDetail?.emailId}}</td>\r\n\r\n                          <td  >{{engineerAnxDetail?.mobileNo}}</td>\r\n                          <td  *ngIf="!loadAnxSearchEng">{{ engineerAnxDetail?.status}}</td>\r\n                          <td>\r\n                            <input type="button" class="btn btn-primary" *ngIf="loadAnxSearchEng" value="Assign" (click)="engineerAnxAssign(engineerAnxDetail)">\r\n                            <input type="button" class="btn btn-primary" *ngIf="loadAnxSearchEng" value="Remove" (click)="DeleteAnxAssignedEngineer(1)">\r\n                            <input type="button" class="btn btn-primary" *ngIf="!loadAnxSearchEng && (engineerAnxDetail?.status == \'ASSIGNED\' || engineerAnxDetail?.status == \'INPROGRESS\')" value="Re-Assign" (click)="DeleteAnxAssignedEngineer(0)">\r\n                            <span *ngIf="!loadAnxSearchEng && engineerAnxDetail?.status == \'UPLOADED\'">--</span>\r\n\r\n                          </td>\r\n\r\n                        </tr>\r\n\r\n                   </tbody>\r\n                  </table>\r\n\r\n      </div>\r\n    </div>\r\n\r\n    <div class="alert alert-danger" *ngIf="errorAnxEng">\r\n      <strong>Error!</strong> No any Engineer found on this number.\r\n    </div>\r\n\r\n\r\n    <div class="row" *ngIf="!disableAssignAnxEng">\r\n        <div class="form-group col-md-4" >\r\n          <label class="control-label">2.3 Search Engineer<sup>*</sup> <span class="tooltip-open" (click)="openToolTip($event, \'SEARCH_ENGINEER\')" >?</span></label>\r\n           <input type="text" class="form-control" #engAnxVal oninput="this.value = this.value.toUpperCase()" onKeyPress="if(this.value.length==10) return false;" placeholder="Engineer PAN">\r\n        </div>\r\n        <div class=" col-md-4">\r\n        <div class="form-group">\r\n<button type="button" class="btn btn-small btn-primary mt-4"  (click)="searchEngineerAnxByPAN(engAnxVal.value)">Search</button>\r\n        </div>\r\n      </div>\r\n\r\n      </div>\r\n\r\n\r\n\r\n      </div>\r\n      \x3c!-- /.card-body --\x3e\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        \x3c!-- .card-body --\x3e\r\n        <div class="card-header">Form 3</div>\r\n        <div class="card-body">\r\n        <div class="row">\r\n\r\n        <div class=" col-md-12 table-responsive mb-4" >\r\n\r\n          <table class="table table-bordered table-hover" *ngIf="assignCATable">\r\n                    <thead>\r\n                          <tr class="text-center bg-light  text-size-small">\r\n                              <td>CA Membership Number</td>\r\n                              <td>CA Name</td>\r\n                              <td>Email Id</td>\r\n                              <td>Mobile No</td>\r\n                              <td  *ngIf="!loadFromSearchCA">Status</td>\r\n                              <td>Action</td>\r\n                          </tr>\r\n                      </thead>\r\n                       <tbody>\r\n                          <tr class="text-center" *ngFor="let caDetail of dataDisplayCA">\r\n                            <td  class="tabel-text-right">{{caDetail?.caMemberShipNumber}}</td>\r\n                            <td>{{caDetail?.firstName}} {{caDetail?.middleName}} {{caDetail?.lastName}}</td>\r\n                            <td>{{caDetail?.emailId}}</td>\r\n\r\n                            <td  >{{caDetail?.mobileNo}}</td>\r\n                            <td  *ngIf="!loadFromSearchCA">{{ caDetail?.status}}</td>\r\n                            <td>\r\n                              <input type="button" class="btn btn-primary" *ngIf="loadFromSearchCA" value="Assign" (click)="caFormAssign(caDetail)">\r\n                              <input type="button" class="btn btn-primary" *ngIf="loadFromSearchCA" value="Remove" (click)="DeleteFromAssignedCA(1)">\r\n                              <input type="button" class="btn btn-primary" *ngIf="!loadFromSearchCA && (caDetail?.status == \'ASSIGNED\' || caDetail?.status == \'INPROGRESS\')" value="Re-Assign" (click)="DeleteFromAssignedCA(0)">\r\n                              <span *ngIf="!loadFromSearchCA && caDetail?.status == \'UPLOADED\'">--</span>\r\n\r\n                            </td>\r\n\r\n                          </tr>\r\n\r\n                     </tbody>\r\n                    </table>\r\n\r\n        </div>\r\n      </div>\r\n\r\n      <div class="alert alert-danger" *ngIf="errorSetCA">\r\n        <strong>Error!</strong> No any CA found on this number.\r\n      </div>\r\n\r\n      <div class="row" *ngIf="!disableAssignTabCA">\r\n          <div class="form-group col-md-4" >\r\n            <label class="control-label">2.4 Search CA<sup>*</sup><span class="tooltip-open" (click)="openToolTip($event, \'Search_CA\')" >?</span></label>\r\n             <input type="text" class="form-control" #caVal placeholder="ICAI Membership Number" oninput="this.value = this.value.toUpperCase()" onKeyPress="if(this.value.length==6) return false;">\r\n          </div>\r\n          <div class=" col-md-4">\r\n          <div class="form-group">\r\n              <button type="button" class="btn btn-small btn-primary mt-4"  (click)="searchcaByPAN(caVal.value)">Search</button>\r\n          </div>\r\n        </div>\r\n\r\n        </div>\r\n\r\n        <div class="row" *ngIf="allFormFilled">\r\n          <div class="col-md-12 mb-5 heighlightError">\r\n            Forms can be assigned to professionals from this page. You are requested to wait until forms are submitted by professionals. Please note that you are required to accept or decline the first filled forms chronologically before professional starts filling next form (ie. once architect submits Form 1, Promoter has to accept it first so that Engineer can fill up Form 2. Because Form 1, 2, 2A, 3 are interdependent forms)\r\n          </div>\r\n        </div>\r\n              <div class="row">\r\n                <div class="col-md-12 text-center">\r\n                  <button class="btn btn-small btn-primary" (click)="prevTab()" >Previous</button>\r\n                   <button class="btn btn-small btn-primary" (click)="nextTab()" *ngIf="isAddOrEditConditionArchitect"> Next</button>\r\n\r\n                </div>\r\n              </div>\r\n\r\n        </div>\r\n  </div>\r\n  </div>\r\n\r\n\r\n  <app-validation-message [message]="inputJson"></app-validation-message>\r\n  <app-loader *ngIf="loadingSpinner"></app-loader>\r\n'},Qshb:function(e,t,n){"use strict";n.r(t),t.default=""},T2Fv:function(e,t,n){"use strict";n.r(t),t.default=""},cojN:function(e,t,n){"use strict";n.r(t),t.default='<div class="{{allData.class}}">\r\n  {{allData.message}}\r\n</div>\r\n<div class="text-right" >\r\n  <a href="javascript:void(0)"  class="mr-3" (click)="printNavigation()"><u>Print Application</u></a>\r\n  <a href="{{downloadReciept}}" download><u>Print Reciept</u></a>\r\n</div>\r\n\r\n'},dDdo:function(e,t,n){"use strict";n.r(t),t.default='\r\n<div class="row">\r\n\r\n  <div class="col-md-3 ">\r\n    <div class="leftPanel">\r\n        <ul>\r\n        <li class="icon01"><a class="heightlight" href="javascript:void(0)"[routerLink]="applyExtLink ? [\'/extension/apply-extension\'] : []">Project Extension Detail</a></li>\r\n        <li class="icon02"><a class="heightlight" href="javascript:void(0)"[routerLink]="asisgnExtLink ? [\'/extension/assign-professional\'] : []">Assign Professionals</a></li>\r\n        <li class="icon03"><a class="heightlight" href="javascript:void(0)"[routerLink]="performCertification ? [\'/extension/form-view\'] : []">Perform Certification</a></li>\r\n        <li class="icon04"><a class="heightlight active"  href="javascript:void(0)"[routerLink]="paymentExtLink ? [\'/extension/secure/payment\'] : []">Payment</a></li>\r\n        </ul>\r\n        </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n<div class="col-md-9">\r\n  <app-payment-verification *ngIf="showVerification" [transactional]="transactionalData" (buttonStatus)="outPutHandle($event)"></app-payment-verification>\r\n<div  class="card shadow">\r\n  <div class="alert alert-danger" *ngIf="errorMsg">\r\n    <strong>Error!</strong> Please Fill All Valid Values.\r\n    </div>\r\n    <div class="alert alert-success" *ngIf="successMsg">\r\n        <strong>Success!</strong> Submitted Successfully.\r\n        </div>\r\n  \x3c!-- .card-body --\x3e\r\n  <div class="card-header"><b>Payment</b></div>\r\n\r\n  <div class="text-right mr-4 mt-4" (click)="printNavigation()">\r\n    <a href="javascript:void(0)" class="btn btn-small btn-success"><u>Preview Application</u></a>\r\n  </div>\r\n\r\n\r\n\r\n  <form [formGroup]="paymentForm" id="validateFoem">\r\n      <input type="hidden" class="form-control" [(ngModel)]="paymentData.processName" formControlName="processName">\r\n      <input type="hidden" class="form-control" [(ngModel)]="paymentData.registraionType" formControlName="registraionType">\r\n      <input type="hidden" class="form-control" [(ngModel)]="paymentData.processId" formControlName="processId">\r\n      <input type="hidden" class="form-control" [(ngModel)]="paymentData.userName" formControlName="userName">\r\n      <input type="hidden" class="form-control" [(ngModel)]="projectMobileNo" formControlName="mobileNo">\r\n      <input type="hidden" class="form-control" [(ngModel)]="paymentData.emailId" formControlName="emailId">\r\n      <input type="hidden" class="form-control" [(ngModel)]="paymentData.paymentRemarks" formControlName="paymentRemarks">\r\n      <input type="hidden" class="form-control" [(ngModel)]="encDataValue"\r\n      formControlName="encData">\r\n      <input type="hidden" class="form-control" [(ngModel)]="encDataValue_SBI" formControlName="encData_SBI">\r\n      <input type="hidden" class="form-control" [(ngModel)]="paymentGatewayValue"\r\n          formControlName="paymentGateway">\r\n  <div class="card-body">\r\n      <div class="alert alert-danger text-center" *ngIf="paymentFailed">\r\n{{paymentMsg}}\r\n      </div>\r\n      <div class="alert alert-danger font-weight-bold text-center"   *ngIf="paymentData?.status!=\'SUCCESS\'">\r\n     <p class="text-center text-big mb-0"><strong>\u201dPLEASE DO NOT PRESS BACK OR REFRESH\u201d FROM THIS POINT ONWARDS.</strong></p>\r\n    </div>\r\n     <div class="row">\r\n      <div class="col-md-4">\r\n            <div class="title col-md-12  mt-2 mb-1 Title_y text-white">Payment Details</div>\r\n\r\n            <div class="col-md-12 pt-4 pb-4 bg-light">\r\n\r\n                  \r\n                <div class="form-group">\r\n                    <label class="control-label">\x3c!--7.1--\x3e Payment head</label>\r\n                    <input type="text" class="form-control" readonly\r\n                        value="Project Extension Fees" placeholder=""\r\n                         >\r\n                      \r\n                </div>\r\n          <div class="form-group">\r\n\r\n              <label class="control-label">\x3c!--7.2--\x3e GujRERA Unique Token Number</label>\r\n\r\n              <input type="text" class="form-control"  readonly placeholder="" [(ngModel)]="paymentData.tokenNo" formControlName="paymentTokenNo" >\r\n\r\n\r\n      </div>\r\n             <div class="form-group">\r\n                  <div>\r\n                  <label class="control-label">Amount (<i class="fa fa-inr" aria-hidden="true"></i>) (A)<sup>*</sup></label>\r\n                  <div>\r\n                  <input type="text" class="form-control" readonly [(ngModel)]="paymentData.amount" placeholder="" formControlName="reqAmount" >\r\n                </div>\r\n              </div>\r\n              </div>\r\n\r\n                <div class="form-group">\r\n                      <div>\r\n                      <label class="control-label">Addl. Amount (<i class="fa fa-inr" aria-hidden="true"></i>) (B)<sup>*</sup>\r\n                          \x3c!--Effective from 1-October know more..--\x3e</label>\r\n                          <div>\r\n                          <input type="text" class="form-control" readonly [(ngModel)]="paymentData.penaltyAmount"  placeholder="" formControlName="reqPenaltyAmount" >\r\n                    </div>\r\n                  </div>\r\n                  </div> \r\n\r\n                    <div class="form-group">\r\n\r\n                      <label class="control-label">\x3c!--7.3--\x3e Total Amount (<i class="fa fa-inr" aria-hidden="true"></i>) (A+B)<sup>*</sup></label>\r\n\r\n                      <input type="hidden" class="form-control" readonly [(ngModel)]="paymentData.totalProjectAmount"  placeholder="" formControlName="reqTotalAmount" >\r\n\r\n                      <input type="text" class="form-control" readonly   placeholder="" value="{{transformAmount(totalAmount)}}" >\r\n\r\n                  </div>\r\n\r\n                </div>\r\n\r\n        </div>\r\n        <div class="col-md-8 customPaymentList">\r\n            <app-payment-description></app-payment-description>\r\n      </div>\r\n      </div>\r\n\r\n\r\n  <div class="row">\r\n      <div class="col-md-12">\r\n        <div class="title col-md-12  mt-2 mb-4 Title_y"  *ngIf="paymentData?.status!=\'SUCCESS\'">Term &amp; Condition</div>\r\n         <p  *ngIf="paymentData?.status!=\'SUCCESS\'"><input type="checkbox" for="checkPenalty" (click)="checkValue($event)" class="requiredValFld" >\r\n          I agree to all Terms and Condition defined by GUJRERA For using Online Payment Gateway Facility using this Portal. The detailed T&amp;C can be found <b>\u201dTerms &amp; Conditions\u201d</b> Section on this website.\r\n          <span class="requiredValFldMsg" >Please accept Terms and Conditions.</span>\r\n          </p>\r\n          <p   *ngIf="paymentData?.status!=\'SUCCESS\'"><input type="checkbox"  (click)="checkValue($event)" class="requiredValFld" name="showonpublicdomain" > The required information as per the RERA act will be displayed in public domain\r\n          <span class="requiredValFldMsg" > Please affirm the declarations.</span>\r\n          </p>\r\n          <p   *ngIf="paymentData?.status!=\'SUCCESS\'">\r\n          <input type="checkbox" (click)="checkValue($event)" class="requiredValFld" name="affirm" id="affirm" > [I/We] solemnly affirm and declare that the particulars given in herein are correct to [my /our] knowledge and belief and nothing material has been concealed by [me/us] therefrom\r\n          <span class="requiredValFldMsg" > Please affirm the declarations.</span>\r\n\r\n          </p>\r\n          <p   *ngIf="paymentData?.status!=\'SUCCESS\'">\r\n            <input type="checkbox" (click)="checkValue($event)" class="requiredValFld" name="affirm" id="affirm" > I/We hereby affirm and declare that, I/We have read all the particulars on this website and in the event if this project is submitted as a "New Project" and found as "On-going" at the time of evaluation, I/We stand liable to abide by the actions taken as per the GUJ RERA Authority/ Act\r\n            <span class="requiredValFldMsg" > Please affirm the declarations.</span>\r\n\r\n            </p>\r\n            <p  *ngIf="paymentData?.status!=\'SUCCESS\'"><input type="checkbox"  (click)="checkValue($event)" class="requiredValFld" >\r\n              I agree to all Terms and Condition defined by GUJRERA for using Online Payment Gateway facility using this Portal <a href="/resources/staticpage/Gujrera_User_Manual_Grievance_Redressal_v1_External_Users.pdf" target="_blank" title="Click Here" class="text-danger font-weight-bold"> (here)</a>. I also agree to all Terms and Condition defined by <strong>Payment Gateway Service provider (SBI ePay or HDFC Payment Gateway - as may be applicable)</strong> for performing the payment transaction as you will experience in subsequent steps after this page.\r\n                <span class="requiredValFldMsg" >Please accept Terms and Conditions.</span>\r\n                </p>\r\n        </div>\r\n  </div>\r\n\r\n\r\n\r\n\r\n      <div class="text-center">\r\n          <button type="button" class="btn btn-primary" value="previous" (click)="prevTab()"> Previous</button>\r\n\r\n          <ng-container *ngIf="checkPaymentActivity">\r\n          <button  *ngIf="paymentData?.status!=\'SUCCESS\'" type="button" [disabled]="documentCheck" class="btn btn-primary" disabled id="paymentBtn" value="next" (click)="postPaymentDetails()" ><i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i> Agree & Pay \u20b9 {{transformAmount(totalAmount)}}</button>\r\n        </ng-container>\r\n        </div>\r\n  </div>\r\n\r\n</form>\r\n\r\n</div>\r\n\r\n</div>\r\n\r\n</div>\r\n<app-gateway-selection (gatewayOutput)="selectGatewayConfirm($event)" [gatewayInput]="openGatewayPop"></app-gateway-selection>\r\n<app-loader *ngIf="loadingSpinner"></app-loader>\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n'},fVRx:function(e,t,n){"use strict";n.r(t),t.default=""},kovy:function(e,t,n){"use strict";n.r(t),t.default=""},lsxD:function(e,t,n){"use strict";n.r(t),t.default='<div class="row">\r\n  <div class="col-md-3 ">\r\n    <div class="leftPanel">\r\n      <ul>\r\n        <li class="icon01"><a class="heightlight" href="javascript:void(0)"[routerLink]="applyExtLink ? [\'/extension/apply-extension\'] : []">Project Extension Detail</a></li>\r\n        <li class="icon02"><a class="heightlight" href="javascript:void(0)"[routerLink]="asisgnExtLink ? [\'/extension/assign-professional\'] : []">Assign Professionals</a></li>\r\n        <li class="icon03"><a class="heightlight active" href="javascript:void(0)"[routerLink]="performCertification ? [\'/extension/form-view\'] : []">Perform Certification</a></li>\r\n        <li class="icon04"><a   href="javascript:void(0)"[routerLink]="paymentExtLink ? [\'/extension/secure/payment\'] : []">Payment</a></li>\r\n      </ul>\r\n      </div>\r\n  </div>\r\n\r\n\r\n<div class="col-md-9">\r\n<app-form-one-view-summary *ngIf="form1Call" [inputJsonValue]="inputJsonVariableOne"></app-form-one-view-summary>\r\n<app-form-two-view-summary *ngIf="form2Call" [inputJsonValue]="inputJsonVariableTwo"></app-form-two-view-summary>\r\n<app-form-two-anx-view-summary *ngIf="form2AnxCall" [inputJsonValue]="inputJsonVariableTwoAnxx"></app-form-two-anx-view-summary>\r\n<app-form-three-view-summary *ngIf="form3Call" [inputJsonValue]="inputJsonVariableThree"></app-form-three-view-summary>\r\n\r\n\r\n\r\n<div class="row mt-4 mb-4">\r\n\r\n\r\n\r\n  <div class="col-md-12 text-center">\r\n\r\n\r\n    <ng-container *ngIf="form1Call">\r\n      <button *ngIf="form1Call" class="btn btn-primary" (click)="prevTab(1)">\r\n        <i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>\r\n        Previous\r\n      </button>\r\n      <button *ngIf="form1Call && !isNotUploadedEngineer && !isArcNotAccepted" class="btn btn-primary" (click)="nextTab(1)">\r\n        <i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>\r\n        Next\r\n      </button>\r\n\r\n\r\n        <button *ngIf="form1Call && isArcNotAccepted && hideFormOne" class="btn btn-primary" (click)="acceptTabBTN(1)">\r\n          <i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>\r\n          Accept\r\n        </button>\r\n        <button *ngIf="(form1Call && isArcNotAccepted && hideFormOne) || (form1Call && discardForm1 && paymentStatus)" class="btn btn-primary" (click)="rejectTabBTN(1)">\r\n          <i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>\r\n          {{rejectBtnForm1Name}}\r\n        </button>\r\n      </ng-container>\r\n\r\n\r\n    <ng-container *ngIf="form2Call">\r\n        <button *ngIf="form2Call" class="btn btn-primary" (click)="prevTab(2)">\r\n          <i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>\r\n          Previous\r\n        </button>\r\n        <button *ngIf="(form2Call && !isNotUploadedAnx && !isEnggNotAccepted) || !isCaNotAccepted" class="btn btn-primary" (click)="nextTab(2)">\r\n          <i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>\r\n          Next\r\n        </button>\r\n        <button *ngIf="form2Call && isEnggNotAccepted && hideFormTwo" class="btn btn-primary" (click)="acceptTabBTN(2)">\r\n          <i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>\r\n          Accept\r\n        </button>\r\n        <button *ngIf="(form2Call && isEnggNotAccepted && hideFormTwo) || (form2Call && discardForm2 && paymentStatus)" class="btn btn-primary" (click)="rejectTabBTN(2)">\r\n          <i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>\r\n          {{rejectBtnForm2Name}}\r\n        </button>\r\n      </ng-container>\r\n\r\n\r\n      <ng-container *ngIf="form2AnxCall">\r\n        <button *ngIf="form2AnxCall" class="btn btn-primary" (click)="prevTab(22)">\r\n          <i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>\r\n          Previous\r\n        </button>\r\n        <button *ngIf="(form2AnxCall && !isNotUploadedCA && !isAnxEnggNotAccepted) || !isCaNotAccepted" class="btn btn-primary" (click)="nextTab(22)">\r\n          <i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>\r\n          Next\r\n        </button>\r\n        <button *ngIf="form2AnxCall && isAnxEnggNotAccepted && hideFormTwoAnx" class="btn btn-primary" (click)="acceptTabBTN(22)">\r\n          <i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>\r\n          Accept\r\n        </button>\r\n        <button *ngIf="(form2AnxCall && isAnxEnggNotAccepted && hideFormTwoAnx) || (form2AnxCall && discardForm2Anx && paymentStatus)" class="btn btn-primary" (click)="rejectTabBTN(22)">\r\n          <i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>\r\n          {{rejectBtnForm2AnxName}}\r\n        </button>\r\n      </ng-container>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    <ng-container *ngIf="form3Call">\r\n      <button *ngIf="form3Call" class="btn btn-primary" (click)="prevTab(3)">\r\n        <i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>\r\n        Previous\r\n      </button>\r\n      <button *ngIf="form3Call && !isCaNotAccepted" class="btn btn-primary" (click)="nextTab(3)">\r\n        <i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>\r\n        Next\r\n      </button>\r\n\r\n      <button *ngIf="form3Call && isCaNotAccepted && hideFormThree" class="btn btn-primary" (click)="acceptTabBTN(3)">\r\n        <i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>\r\n        Accept\r\n      </button>\r\n      <button *ngIf="(form3Call && isCaNotAccepted && hideFormThree) || (form3Call && discardForm3 && paymentStatus)" class="btn btn-primary" (click)="rejectTabBTN(3)">\r\n        <i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>\r\n        {{rejectBtnForm3Name}}\r\n      </button>\r\n\r\n    </ng-container>\r\n  </div>\r\n</div>\r\n</div>\r\n</div>\r\n<app-loader *ngIf="loadingSpinner"></app-loader>\r\n\r\n\r\n\r\n\r\n          \x3c!-- The Modal --\x3e\r\n          <div class="modal fade show" *ngIf="popShow">\r\n            <div class="modal-dialog">\r\n            <div class="modal-content">\r\n            \r\n            \x3c!-- Modal Header --\x3e\r\n            <div class="modal-header">\r\n            <h4 class="modal-title">Message</h4>\r\n            </div>\r\n            \r\n            <div class="modal-body">\r\n               \r\n             <div class="alert alert-danger">No details would be allowed to be changed post this stage</div>\r\n\r\n            </div>\r\n            <div class="modal-footer">\r\n                <button value="Submit"  class="btn btn-primary" (click)="popClose()">Cancel</button>\r\n                <button value="Submit"  class="btn btn-primary" (click)="formThreeAccept()">Accept</button>\r\n                </div>\r\n            </div>\r\n          \r\n            </div>\r\n            </div>\r\n            <div class="popup-overlay" *ngIf="popShow"></div>\r\n            \r\n            <app-validation-message [message]="inputJson"></app-validation-message>'},tM6z:function(e,t,n){"use strict";n.r(t),t.default='<app-tooltip [tooltipEvent]="tooltipJson"></app-tooltip>\r\n<div class="row ">\r\n \r\n  <div class="col-md-12">\r\n    <form [formGroup]="extensionForm" id="validateFoem">\r\n      <div class="card shadow mb-4">\r\n        <div class="alert alert-danger" *ngIf="errorMsg">\r\n          <strong>Error!</strong> Something went wrong!!.\r\n        </div>\r\n        <div class="alert alert-success" *ngIf="successMsg">\r\n          <strong>Success!</strong>Project Extension applied Successfully.\r\n        </div>\r\n        <div class="card-header"><b>Project Extension Form</b></div>\r\n        \x3c!-- .card-body-kys --\x3e\r\n\r\n        <div class="card-body asd">\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="row">\r\n\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">1.1 Extend To Date<sup>*</sup> <span class="tooltip-open"\r\n                      (click)="openToolTip($event, \'EXTEND_DATE\')">?</span></label>\r\n                  <input type="date" class="form-control" #extndDate (change)="checkDate(extndDate.value)"\r\n                    formControlName="extendToDate" min="{{actualProjectEndDate | date:\'yyyy-MM-dd\'}}"\r\n                    max="{{projectEndDate | date:\'yyyy-MM-dd\'}}" [ngModel]="extendToDate | date: \'yyyy-MM-dd\'">\r\n                  <div class="error-box"><small class="error">Extend To date can not be greater than one year of project\r\n                      end date</small></div>\r\n                </div>\r\n\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">1.2 Reason for Seeking Extension<sup>*</sup> <span class="tooltip-open"\r\n                      (click)="openToolTip($event, \'REASON_SEEKING_EXTENSION\')">?</span></label>\r\n                      <ng-multiselect-dropdown\r\n                      [placeholder]="\'--Select--\'" formControlName="multiSelect"\r\n                      [data]="reasonDropdownList"\r\n                      [(ngModel)]="selectedDistrictItems"\r\n                      [settings]="districtdropdownSettings"\r\n                      (onSelect)="onReasonItemSelect($event)"\r\n                      (onSelectAll)="onReasonSelectAll($event)"\r\n                      (onDeSelect)="onReasonItemDeSelect($event)"\r\n                      (onDeSelectAll)="onReasontemDeSelectAll($event)"\r\n                      [disabled]="!closeIcon"\r\n                      >\r\n                      </ng-multiselect-dropdown>\r\n                  \x3c!-- <select class="form-control" formControlName="reason" [ngModel]="reason">\r\n                    <option value="">--Select--</option>\r\n                    <option value="BU Permission is not received as per RERA Act" > BU Permission is not received as per RERA Act </option>\r\n                    <option value="Society Registration is not received as per RERA Act"> Society Registration is not received as per RERA Act </option>\r\n                    <option value="BU Permission is received but Society formation is stuck due to 10 members not available for Society Registration">BU Permission is received but Society formation is stuck due to 10 members not available for Society Registration</option>\r\n                    <option value="Project is not complete due to situations like Financial, Less Bookings, Labour, Material, Disputes, Business Conditions etc">Project is not complete due to situations like Financial, Less Bookings, Labour, Material, Disputes, Business Conditions etc </option>\r\n                    <option value="Construction work complete but NOC like Fire & Lift NOC etc. not received so we can not apply for BU permission.">Construction work complete but NOC like Fire & Lift NOC etc. not received so we can not apply for BU permission.</option>\r\n                    <option value="BU Permission and Society Registration - both are not received">BU Permission and Society Registration - both are not received </option> \r\n                  </select> --\x3e\r\n                  <input type="hidden" class="form-control" formControlName="reason" [(ngModel)]="reason">\r\n\r\n                  <div class="error-box"><small class="error"> Please select Reason for Seeking Extension</small></div>\r\n                </div>\r\n\r\n                \x3c!-- <div class="form-group col-md-6" *ngIf="showOth">\r\n                  <label class="control-label">1.3 Reason for Seeking Extension(Other)<sup>*</sup>\r\n                    <span class="tooltip-open" (click)="openToolTip($event, \'REASON_SEEKING_EXTENSION_OTH\')">?</span>\r\n                  </label>\r\n\r\n                  <textarea class="form-control" formControlName="reasonExt" [ngModel]="reasonExt"></textarea>\r\n\r\n\r\n                  <div class="error-box"><small class="error"> Please enter Reason for Seeking Extension</small></div>\r\n                </div> --\x3e\r\n\r\n                <div class="table-responsive">\r\n                  <table class="table table-bordered">\r\n                    <thead>\r\n                      <tr>\r\n                        <td>Block Name <span class="tooltip-open"(click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span> </td>\r\n                        <td>Development Start Date <span class="tooltip-open"(click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span> </td>\r\n                        <td>Development End Date <span class="tooltip-open"(click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span> </td>\r\n                        <td>Height (in Meter) as per Section Plan of this Block<span class="tooltip-open"(click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span> </td>\r\n                        <td>FSI <span class="tooltip-open"(click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span> </td>\r\n                        <td>Builtup Area <span class="tooltip-open"(click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span> </td>\r\n                        <td>Commencement Certificate No. <span class="tooltip-open"(click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span> </td>\r\n                        <td>Date of Latest Commencement Certificate <span class="tooltip-open"(click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span> </td>\r\n                        <td>All Commencement Certificates of this block <span class="tooltip-open"(click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span> </td>\r\n                        <td *ngIf="formOneActive">Action</td>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr *ngFor="let a of extBlockListFk, let i= index">\r\n                        <td>{{a.blockName}}</td>\r\n                        <td  class="text-nowrap">{{a.devStartDate| date : "dd-MM-yyyy"}}</td>\r\n                        <td  class="text-nowrap">{{a.devEndDate| date : "dd-MM-yyyy"}}</td>\r\n                        <td  class="tabel-text-right">{{a.height}}</td>\r\n                        <td  class="tabel-text-right">{{a.fsi}}</td>\r\n                        <td  class="tabel-text-right">{{a.builtupArea}}</td>\r\n\r\n                        <td class="tabel-text-right">{{a.commencementCertiNo}}</td>\r\n\r\n                        <td  class="text-nowrap">{{a.dateIssuanceDoc| date : "dd-MM-yyyy"}}</td>\r\n                        <td>\r\n                          <span *ngIf="a.commencementCertificateUId;else no_file_found">\r\n                            <app-multi-file-view [Uid]="a.commencementCertificateUId"></app-multi-file-view>\r\n                          </span>\r\n                          <ng-template #no_file_found>--</ng-template>\r\n                        </td>  \r\n                        <td *ngIf="formOneActive">\r\n                        <button  (click)="editBlockDetail(a,i)" class="btn btn-primary">Edit</button>   \r\n                      </td>   \r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n\r\n                \x3c!-- <div class="form-group col-md-6">\r\n<label class="control-label">Commencement Certificate<sup>*</sup></label>\r\n<input type="hidden" [(ngModel)]="outputValue.commencentCertiId" formControlName="commencentCertiId">\r\n<app-file-upload (myEvent)="setValue($event)" [parm]="{fileId:\'commencentCertiId\',docId:commencentCertiFId,show:false,fileType:[\'pdf\']}"></app-file-upload>\r\n<div class="error-box"><small class="error">Please upload file</small></div>\r\n</div>\r\n\r\n<div class="form-group col-md-6">\r\n    <label class="control-label">Commencement Certificate Date<sup>*</sup></label>\r\n    <input type="date" class="form-control" formControlName="commencentCertiDate" max="{{maxDate | date:\'yyyy-MM-dd\'}}" [ngModel]="commencentCertiDate| date: \'yyyy-MM-dd\'" readonly>\r\n    <div class="error-box"><small class="error">Please Commencement Certificate Date</small>\r\n    </div>\r\n    </div> --\x3e\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <label class="control-label"><b>1.3 Supporting Documents(If Any)  </b>\r\n       \r\n        \r\n          <span class="ml-2 textNormal"><label class="radio-inline radio-inlineBtn"> <input type="radio"\r\n                name="documentCondition" value="YES" (change)="checkOthDoc($event)" formControlName="documentCondition"\r\n                [(ngModel)]="abc"> YES </label>\r\n            <label class="radio-inline radio-inlineBtn"> <input type="radio" name="documentCondition" value="NO"\r\n                (change)="checkOthDoc($event)" formControlName="documentCondition" [(ngModel)]="abc"> NO</label></span>\r\n        </label>\r\n        <div class="card-body asd">\r\n          <div class="row" *ngIf="isOptional">\r\n            <div class="col-md-8" *ngIf="projectExtensionDocOtherList.length > 0">\r\n              <div class="form-group">\r\n                <table class="table table-bordered">\r\n                  <tr *ngFor="let a of projectExtensionDocOtherList, let i= index">\r\n                    <td  class="tabel-text-right">{{i+1}}</td>\r\n                    <td> {{a.otherProjectExteDocName}}</td>\r\n                    \x3c!-- <td> {{a.otherProjectExteDocCap}}</td>  --\x3e\r\n                    <td *ngIf="closeIcon"><input type="button" value="Delete" class="btn btn-danger"\r\n                        (click)="deleteOthDocTr(i)"></td>\r\n                    <td *ngIf="a.otherProjectExteDocUId">\r\n                      <app-multi-file-view [Uid]="a.otherProjectExteDocUId"></app-multi-file-view>\r\n                    </td>\r\n                  </tr>\r\n                </table>\r\n                <br />\r\n              </div>\r\n            </div>\r\n\r\n            <div class="col-md-8" *ngIf="closeIcon">\r\n              <label><strong>1.3.1  Document</strong><sup>*</sup> <span class="tooltip-open"\r\n                (click)="openToolTip($event, \'SUPPORT_DOCS\')">?</span></label>\r\n              <app-file-upload (myEvent)="setMultiFileDoc($event)"\r\n                [parm]="{fileId:\'mNocFileId\', docId:supDocFId,caption:true,show:false,fileType:[\'pdf\']}">\r\n              </app-file-upload>\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n\r\n\r\n        \x3c!-- /.card-body Documents --\x3e\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        <div class="row">\r\n          <div class="col-md-12">\r\n            <h3>Form B (Declaration Drainage/Carpet Affidavit along with Form-B to be uploaded here)<sup class="h_sup">*</sup></h3>\r\n            <div>[Affidavit by Promoter]</div>\r\n            <hr>\r\n            \x3c!-- <div class="row" *ngIf="closeIcon">\r\n              <div class="form-group col-md-4">\r\n                <input type="text" class="form-control" #promoterB1 placeholder="PAN No"\r\n                  oninput="this.value = this.value.toUpperCase()"\r\n                  onKeyPress="if(this.value.length==10) return false;" formControlName="FormB1PromoterPanNo">\r\n                <div class="error-box"><small class="error">Please enter valid PAN No</small></div>\r\n              </div>\r\n              <div class=" col-md-4">\r\n                <div class="form-group">\r\n                  <button type="button" class="btn btn-small btn-primary mt-4"\r\n                    (click)="searchByPAN(promoterB1.value,5)">Search</button>\r\n                </div>\r\n              </div>\r\n            </div> --\x3e\r\n          </div>\r\n        </div>\r\n        <div class="row">\r\n          <div class="col-md-4">\r\n            <div class="form-group">\r\n              <label class="control-label">1.4 Date of Issuance of Document</label>\r\n              <input type="date" max="{{currDate}}" [(ngModel)]="oldDocValueValue.declarationFormbDocIssuanceDate"\r\n                class="form-control" formControlName="declarationFormbDocIssuanceDate" readonly>\r\n              <div class="error-box"><small class="error"> Please enter valid Date of Issuance of Document</small></div>\r\n            </div>\r\n          </div>\r\n          <div class="col-md-4">\r\n            <div class="form-group">\r\n              <label class="control-label">1.5 Authorized Signatory of Project who has signed Form B</label>\r\n              <input type="text" class="form-control" readonly\r\n                [(ngModel)]="oldDocValueValue.declarationFormbIssuerName"\r\n                formControlName="declarationFormbIssuerName">\r\n              <div class="error-box"><small class="error"> Please enter valid  Promoter Name</small></div>\r\n            </div>\r\n          </div>\r\n          <div class="col-md-4">\r\n            <div class="form-group">\r\n              <label class="control-label">1.6 Contact Details</label>\r\n              <input type="number" class="form-control" readonly\r\n                [(ngModel)]="oldDocValueValue.declarationFormbIssuerCONTACT"\r\n                formControlName="declarationFormbIssuerCONTACT" onKeyPress="if(this.value.length==10) return false;">\r\n              <div class="error-box"><small class="error"> Please enter valid Contact Details</small></div>\r\n            </div>\r\n          </div>\r\n          <div class="col-md-4">\r\n            <div class="form-group">\r\n              <label class="control-label">1.7 Declaration Form-B</label>\r\n              <input type="hidden" class="form-control" [(ngModel)]="outputValue.declarationFormbDocId"\r\n                formControlName="declarationFormbDocId" placeholder="">\r\n              <app-file-upload (myEvent)="setValue($event)"\r\n                [parm]="{fileId:\'declarationFormbDocId\',docId:docId34,close:false,show:false,fileType:[\'pdf\']}">\r\n              </app-file-upload>\r\n              <div class="error-box"><small class="error"> Please upload valid  Declaration Form-B</small></div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n          <div class="col-md-4" *ngIf="formOneActive || decilarionFormBUId!=null">\r\n            <label class="control-label">1.7.1  New Declaration Form-B\r\n\r\n              <span class="tooltip-open" (click)="openToolTip($event, \'UPLOAD_NEW_DECL_FORMB\')">?</span>\r\n            </label>\r\n            <input type="hidden" [(ngModel)]="outputValue.decilarionFormBId" formControlName="decilarionFormBId">\r\n            \x3c!-- <input type="hidden" [(ngModel)]="extensionData.projectExtensionDoc.decilarionFormBUId"\r\n              formControlName="decilarionFormBUId"> --\x3e\r\n            <app-file-upload (myEvent)="setValue($event)"\r\n              [parm]="{fileId:\'decilarionFormBId\',docId:decilarionFormBFId,close:closeIcon,show:false,fileType:[\'pdf\']}">\r\n            </app-file-upload>\r\n            <div class="error-box"><small class="error">Please upload valid New Declaration Form-B</small></div>\r\n          </div>\r\n\r\n\r\n        </div>\r\n        <div class="card-header" *ngIf="isJointDevelopmentYes"><b>In Case of Joint Development</b></div>\r\n        <div class="card-body asd" *ngIf="isJointDevelopmentYes">\r\n\r\n\r\n        \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n          <div class="row" *ngIf="isJointDevelopmentYes">\r\n\r\n            <div class="col-md-12">\r\n              <h3>Form B-1 at the time of development agreement<sup class="h_sup">*</sup></h3>\r\n              <div>[Affidavit by Promoter]</div>\r\n              <hr>\r\n              \x3c!-- <div class="row" *ngIf="closeIcon">\r\n              <div class="form-group col-md-4">\r\n                <input type="text" class="form-control" #promoterB1 placeholder="PAN No"\r\n                  oninput="this.value = this.value.toUpperCase()"\r\n                  onKeyPress="if(this.value.length==10) return false;" formControlName="FormB1PromoterPanNo">\r\n                <div class="error-box"><small class="error">Please enter valid PAN No</small></div>\r\n              </div>\r\n              <div class=" col-md-4">\r\n                <div class="form-group">\r\n                  <button type="button" class="btn btn-small btn-primary mt-4"\r\n                    (click)="searchByPAN(promoterB1.value,5)">Search</button>\r\n                </div>\r\n              </div>\r\n            </div> --\x3e\r\n            </div>\r\n          </div>\r\n          <div class="row" *ngIf="isJointDevelopmentYes">\r\n            <div class="col-md-4">\r\n              <div class="form-group">\r\n                <label class="control-label">1.8 Date of Issuance of Document</label>\r\n                <input type="date" max="{{currDate}}" [(ngModel)]="oldDocValueValue.declarationFormB1Issurance"\r\n                  class="form-control" formControlName="declarationFormB1Issurance" readonly>\r\n                <div class="error-box"><small class="error"> Please enter valid  Date of Issuance of Document</small></div>\r\n              </div>\r\n            </div>\r\n            <div class="col-md-4">\r\n              <div class="form-group">\r\n                <label class="control-label">1.9 Authorized Signatory of Project who has signed Form B1</label>\r\n                <input type="text" class="form-control" readonly\r\n                  [(ngModel)]="oldDocValueValue.declarationFormB1IssurName"\r\n                  formControlName="declarationFormB1IssurName">\r\n                <div class="error-box"><small class="error"> Please enter valid  Promoter Name</small></div>\r\n              </div>\r\n            </div>\r\n            <div class="col-md-4">\r\n              <div class="form-group">\r\n                <label class="control-label">1.10 Contact Details</label>\r\n                <input type="number" class="form-control" readonly\r\n                  [(ngModel)]="oldDocValueValue.declarationFormB1Contact" formControlName="declarationFormB1Contact"\r\n                  onKeyPress="if(this.value.length==10) return false;">\r\n                <div class="error-box"><small class="error"> Please enter valid  Contact Details</small></div>\r\n              </div>\r\n            </div>\r\n            <div class="col-md-4">\r\n              <div class="form-group">\r\n                <label class="control-label">1.11 Declaration Form-B1</label>\r\n                <input type="hidden" class="form-control" [(ngModel)]="outputValue.declarationFormB1Id"\r\n                  formControlName="declarationFormB1Id" placeholder="">\r\n                <app-file-upload (myEvent)="setValue($event)"\r\n                  [parm]="{fileId:\'declarationFormB1Id\',docId:docId32,close:false,show:false,fileType:[\'pdf\']}">\r\n                </app-file-upload>\r\n                <div class="error-box"><small class="error"> Please upload valid  Declaration Form-B1</small></div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class="col-md-4" *ngIf="formOneActive || newFormB1UId!=null">\r\n              <label class="control-label">1.11.1  New Declaration Form-B1\r\n                <span class="tooltip-open" (click)="openToolTip($event, \'UPLOAD_NEW_DECL_FORMBONE\')">?</span>\r\n              </label>\r\n              <input type="hidden" [(ngModel)]="outputValue.newFormB1DocId" formControlName="newFormB1DocId">\r\n              \x3c!-- <input type="hidden" [(ngModel)]="extensionData.newFormB1DocUId" formControlName="newFormB1DocUId"> --\x3e\r\n              <app-file-upload (myEvent)="setValue($event)"\r\n                [parm]="{fileId:\'newFormB1DocId\',docId:newFormB1DocBId,close:closeIcon,show:false,fileType:[\'pdf\']}">\r\n              </app-file-upload>\r\n              <div class="error-box"><small class="error">Please upload valid New Declaration Form-B1</small></div>\r\n            </div>\r\n\r\n          </div>\r\n\r\n\r\n          <div class="row" *ngIf="isJointDevelopmentYes">\r\n            <div class="col-md-12">\r\n              <h3>Form B-2 at the time of development agreement<sup class="h_sup">*</sup></h3>\r\n          <div> [Affidavit by Promoter and Land Owner]</div>\r\n          <div>Form B2 required to be signed by all the land owners</div>\r\n              <hr>\r\n            </div>\r\n          </div>\r\n          <div class="row" *ngIf="isJointDevelopmentYes">\r\n            <div class="col-md-4">\r\n              <div class="form-group">\r\n                <label class="control-label">1.12 Date of Issuance of Document</label>\r\n                <input type="date" max="{{currDate}}" [(ngModel)]="oldDocValueValue.declarationFormB2Issurance"\r\n                  class="form-control" formControlName="declarationFormB2Issurance" readonly>\r\n                <div class="error-box"><small class="error"> Please enter valid  Date of Issuance of Document</small></div>\r\n              </div>\r\n            </div>\r\n            <div class="col-md-4">\r\n              <div class="form-group">\r\n                <label class="control-label">1.13 Land Owner\'s Name</label>\r\n                <input type="text" class="form-control" [(ngModel)]="oldDocValueValue.declarationFormB2IssurName"\r\n                  formControlName="declarationFormB2IssurName" readonly>\r\n                <div class="error-box"><small class="error"> Please enter valid  Land Owner\'s Name</small></div>\r\n              </div>\r\n            </div>\r\n            \x3c!-- <div class="col-md-4">\r\n              <div class="form-group">\r\n                <label class="control-label"> Land owner Name</label>\r\n                <input type="text" class="form-control" [(ngModel)]="oldDocValueValue.declarationFormB2LandName"\r\n                  formControlName="declarationFormB2LandName" readonly>\r\n                <div class="error-box"><small class="error">Please enter Land owner Name</small></div>\r\n              </div>\r\n            </div> --\x3e\r\n\r\n            <div class="col-md-4">\r\n              <div class="form-group">\r\n                <label class="control-label">1.14 Contact Details</label>\r\n                <input type="number" class="form-control" [(ngModel)]="oldDocValueValue.declarationFormB2Contact"\r\n                  formControlName="declarationFormB2Contact" onKeyPress="if(this.value.length==10) return false;"\r\n                  readonly>\r\n                <div class="error-box"><small class="error"> Please enter valid  Contact Details</small></div>\r\n              </div>\r\n            </div>\r\n            <div class="col-md-4">\r\n              <div class="form-group">\r\n                <label class="control-label">1.15 Declaration Form-B2\r\n                  \r\n                </label>\r\n                <input type="hidden" class="form-control" [(ngModel)]="outputValue.declarationFormB2Id"\r\n                  formControlName="declarationFormB2Id" placeholder="">\r\n                <app-file-upload (myEvent)="setValue($event)"\r\n                  [parm]="{fileId:\'declarationFormB2Id\',docId:docId33,close:false,show:false,fileType:[\'pdf\']}">\r\n                </app-file-upload>\r\n                <div class="error-box"><small class="error"> Please upload valid  Declaration Form-B2</small></div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class="col-md-4" *ngIf="formOneActive || newFormB2UId!=null">\r\n              <label class="control-label">1.15.1 New Declaration Form-B2<span class="tooltip-open" (click)="openToolTip($event, \'UPLOAD_NEW_DECL_FORMBTWO\')">?</span></label>\r\n              <input type="hidden" [(ngModel)]="outputValue.newFormB2DocId" formControlName="newFormB2DocId">\r\n              \x3c!-- <input type="hidden" [(ngModel)]="extensionData.newFormB2DocUId" formControlName="newFormB2DocUId"> --\x3e\r\n              <app-file-upload (myEvent)="setValue($event)"\r\n                [parm]="{fileId:\'newFormB2DocId\',docId:newFormB2DocBId,close:closeIcon,show:false,fileType:[\'pdf\']}">\r\n              </app-file-upload>\r\n              <div class="error-box"><small class="error">Please upload  valid New Declaration Form-B2</small></div>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      </div>\r\n\r\n      <div class="text-center mt-4">\r\n        <span>\r\n          <button type="button"  *ngIf="formOneActive" [disabled]="this.extensionForm.invalid" class="btn btn-primary"\r\n            (click)="submitExtForm()"><i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>\r\n            Update & Save</button>\r\n            \x3c!-- <button type="button"  *ngIf="!formOneActive"  class="btn btn-primary"\r\n              (click)="nextBtn()"><i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>\r\n              Next</button> --\x3e\r\n        </span>\r\n        \x3c!-- <span *ngIf="readOnly">\r\n          <button type="button" class="btn btn-primary" (click)="next()"><i class="fa fa-spinner fa-spin text-white"\r\n              *ngIf="loader" aria-hidden="true"></i> Next </button>\r\n        </span> --\x3e\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<div class="modal show" id="myModal" *ngIf="modalPopup">\r\n  <div class="modal-dialog modal-lg">\r\n    <div class="modal-content">\r\n\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n        <h4 class="modal-title">Update Block Detail</h4>\r\n        <button type="button" class="close" (click)="popupClose()">&times;</button>\r\n      </div>\r\n\r\n      \x3c!-- Modal body --\x3e\r\n      <div class="modal-body">\r\n        <form [formGroup]="updateBlockDetail" class="card-body" id="validateFoem">\r\n          <div class="row">\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label"> Block Name<span class="tooltip-open"\r\n                  (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span></label>\r\n              <input type="text" class="form-control" readonly value="{{blockName}}"\r\n                placeholder="">\r\n              <div class="error-box"><small class="error"> Please enter valid Block Name</small></div>\r\n            </div>\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label"> Development Start Date<span class="tooltip-open"\r\n                  (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span></label>\r\n              <input class="form-control"\r\n                name="Startdate" type="text" readonly value="{{devStartDate | date:\'dd-MM-yyyy\'}}">\r\n              <div class="error-box"><small class="error"> Please enter valid Development Start Date</small></div>\r\n              <div *ngIf="errorMsg">{{errTxt}}</div>\r\n            </div>\r\n\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label"> Development End Date<sup>*</sup><span class="tooltip-open"\r\n                  (click)="openToolTip($event,\'BLCK_ENT_3\')">?</span></label>\r\n              <input class="form-control" min="{{ devStartDate}}" name="Enddate" [(ngModel)]="devEndDate" type="date" max="{{ endDate}}" #edate\r\n              (change)="edatevalidation(edate.value)"\r\n                formControlName="devEndDate">\r\n              <div class="error-box"><small class="error"> Please enter valid Development End Date</small></div>\r\n              <div *ngIf="errorMsg">{{errTxt}}</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class="row">\r\n\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label"> Date of Latest Commencement Certificate<sup>*</sup><span class="tooltip-open"\r\n                  (click)="openToolTip($event,\'BLCK_ENT_07\')">?</span></label>\r\n              <input class="form-control" name="dateIssuanceDoc" type="date" formControlName="dateIssuanceDoc"\r\n                max="{{devStartDate}}" #comDate (change)="commdatevalidation(comDate.value)" [(ngModel)]="dateIssuanceDoc" >\r\n              <div class="error-box"><small class="error"> Please enter valid  Date of Latest Commencement Certificate</small></div>\r\n              <div *ngIf="errorMsg">{{errTxt}}</div>\r\n            </div>\r\n\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label"> Commencement certificate No<span class="tooltip-open"\r\n                  (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span></label>\r\n              <input type="text" class="form-control notDecimal"  readonly\r\n                value="{{commencementCertiNo}}" placeholder="">\r\n              <div class="error-box"><small class="error"> Please enter valid  Commencement Certificate No</small></div>\r\n            </div>\r\n\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label"> Height (in Meter) as per Section Plan of this Block<span class="tooltip-open"\r\n                  (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span></label>\r\n              <input type="number" class="form-control" readonly  value="{{height}}" placeholder=""\r\n                onKeyPress="if(this.value.length==3) return false;">\r\n              <div class="error-box"><small class="error"> Please enter valid  Height (in Meter) as per Section Plan of this Block</small></div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n\r\n\r\n          <div class="row">\r\n\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label"> FSI of Block (In Sq Meter)<span class="tooltip-open"\r\n                  (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span></label>\r\n              <input type="number" class="form-control" value="{{fsi}}"  readonly placeholder=""\r\n                onKeyPress="if(this.value.length==10) return false;">\r\n              <div class="error-box"><small class="error">Please note Please note FSI could be max upto x10 of Land Area of Project Under\r\n                  Registration value and should not less than 1.</small></div>\r\n            </div>\r\n\r\n\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label"> Built-up Area of Block (In Sq Meter)<span\r\n                  class="tooltip-open" (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span></label>\r\n              <input type="number" class="form-control" readonly  value="{{builtupArea}}"\r\n                placeholder="" onKeyPress="if(this.value.length==10) return false;">\r\n              <div class="error-box"><small class="error">Please note Built-up Area always will be >=FSI</small></div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n\r\n          <div class="row">\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label"> All Commencement Certificates of this block <sup>*</sup><span class="tooltip-open"\r\n                (click)="openToolTip($event,\'BLCK_ENT_08\')">?</span></label>\r\n\r\n              <input type="hidden" [(ngModel)]="outputValueUPDATE.newCommencementCertificateId"\r\n                formControlName="newCommencementCertificateId">\r\n                <input type="hidden" [(ngModel)]="newCommencementCertificateUId"\r\n                  formControlName="newCommencementCertificateUId">\r\n\r\n                \r\n              <app-file-upload (myEvent)="setValueUPDATE($event)"\r\n                [parm]="{fileId:\'newCommencementCertificateId\',docId:docId2,close:true,show:false, fileType:[\'pdf\']}">\r\n              </app-file-upload>\r\n              <div class="error-box"><small class="error">Please Upload All Commencement Certificates of this block</small></div>\r\n            </div>\r\n\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      \x3c!-- Modal footer --\x3e\r\n      <div class="modal-footer">\r\n        <button type="button" (click)="updateBlock()" [disabled]="this.updateBlockDetail.invalid"\r\n          class="btn btn-primary">Update</button>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="popup-overlay" *ngIf="modalPopup"></div>\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n<app-loader *ngIf="loadingSpinner"></app-loader>'},zPIA:function(e,t,n){"use strict";n.r(t),t.default='<app-tooltip [tooltipEvent]="tooltipJson"></app-tooltip>\r\n<div class="row mt-4">\r\n  <div class="col-md-3 ">\r\n    <div class="leftPanel">\r\n      <ul>\r\n        <li class="icon01"><a class="heightlight active" href="javascript:void(0)"\r\n            [routerLink]="\'/extension/apply-extension\'">Project Extension Detail</a></li>\r\n        <li class="icon02"><a href="javascript:void(0)"\r\n            [routerLink]="asisgnExtLink ? [\'/extension/assign-professional\'] : []">Assign Professionals</a></li>\r\n        <li class="icon03"><a href="javascript:void(0)"\r\n            [routerLink]="performCertification ? [\'/extension/form-view\'] : []">Perform Certification</a></li>\r\n        <li class="icon04"><a href="javascript:void(0)"\r\n            [routerLink]="paymentExtLink ? [\'/extension/secure/payment\'] : []">Payment</a></li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n  <div class="col-md-9">\r\n    <form [formGroup]="extensionForm" id="validateFoem">\r\n      <div class="card shadow mb-4">\r\n        <div class="alert alert-danger" *ngIf="errorMsg">\r\n          <strong>Error!</strong> Something went wrong!!.\r\n        </div>\r\n        <div class="alert alert-success" *ngIf="successMsg">\r\n          <strong>Success!</strong>Project Extension applied Successfully.\r\n        </div>\r\n        <div class="card-header"><b>Project Extension Form</b></div>\r\n        \x3c!-- .card-body-kys --\x3e\r\n\r\n        <div class="card-body asd">\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="row">\r\n\r\n                <div class="form-group col-md-3">\r\n                  <label class="control-label">1.1 Extend To Date<sup>*</sup> <span class="tooltip-open"\r\n                      (click)="openToolTip($event, \'EXTEND_DATE\')">?</span></label>\r\n                  \x3c!-- <input type="date" class="form-control" #extndDate (change)="checkDate(extndDate.value)"\r\n                    formControlName="extendToDate" max="{{projectUpdatedEndDate1Yr | date:\'yyyy-MM-dd\'}}"\r\n                    min="{{projectUpdatedEndDate1Day | date:\'yyyy-MM-dd\'}}"\r\n                    [ngModel]="extendToDate | date: \'yyyy-MM-dd\'"> --\x3e\r\n                    <input type="date" class="form-control" #extndDate (change)="checkDate(extndDate.value)"\r\n                    formControlName="extendToDate"\r\n                    min="{{projectUpdatedEndDate1Day | date:\'yyyy-MM-dd\'}}"\r\n                    max="{{projectUpdatedEndDate1Yr | date:\'yyyy-MM-dd\'}}"\r\n                    [ngModel]="extendToDate | date: \'yyyy-MM-dd\'">\r\n                    \r\n                  <div class="error-box"><small class="error">{{errorMessageExt}}</small></div>\r\n                </div>\r\n\r\n                <div class="form-group col-md-9">\r\n                  <label class="control-label">1.2 Reason for Seeking Extension<sup>*</sup> <span class="tooltip-open"\r\n                      (click)="openToolTip($event, \'REASON_SEEKING_EXTENSION\')">?</span></label>\r\n                  <ng-multiselect-dropdown [placeholder]="\'--Select--\'" formControlName="multiSelect"\r\n                    [data]="reasonDropdownList" [(ngModel)]="selectedDistrictItems"\r\n                    [settings]="districtdropdownSettings" (onSelect)="onReasonItemSelect($event)"\r\n                    (onSelectAll)="onReasonSelectAll($event)" (onDeSelect)="onReasonItemDeSelect($event)"\r\n                    (onDeSelectAll)="onReasontemDeSelectAll($event)" [disabled]="!closeIcon">\r\n                  </ng-multiselect-dropdown>\r\n\r\n                  \x3c!-- <select class="form-control" formControlName="reason" [ngModel]="reason">\r\n                    <option value="">--Select--</option>\r\n                    <option value="BU Permission is not received as per RERA Act" > BU Permission is not received as per RERA Act </option>\r\n                    <option value="Society Registration is not received as per RERA Act"> Society Registration is not received as per RERA Act </option>\r\n                    <option value="BU Permission is received but Society formation is stuck due to 10 members not available for Society Registration">BU Permission is received but Society formation is stuck due to 10 members not available for Society Registration</option>\r\n                    <option value="Project is not complete due to situations like Financial, Less Bookings, Labour, Material, Disputes, Business Conditions etc">Project is not complete due to situations like Financial, Less Bookings, Labour, Material, Disputes, Business Conditions etc </option>\r\n                    <option value="Construction work complete but NOC like Fire & Lift NOC etc. not received so we can not apply for BU permission.">Construction work complete but NOC like Fire & Lift NOC etc. not received so we can not apply for BU permission.</option>\r\n                    <option value="BU Permission and Society Registration - both are not received">BU Permission and Society Registration - both are not received </option> \r\n                  </select> --\x3e\r\n\r\n                  <input type="hidden" class="form-control" formControlName="reason" [(ngModel)]="reason">\r\n                  <div class="error-box"><small class="error"> Please select Reason for Seeking Extension</small></div>\r\n                </div>\r\n\r\n                \x3c!-- <div class="form-group col-md-6" *ngIf="showOth">\r\n                  <label class="control-label">1.3 Reason for Seeking Extension(Other)<sup>*</sup>\r\n                    <span class="tooltip-open" (click)="openToolTip($event, \'REASON_SEEKING_EXTENSION_OTH\')">?</span>\r\n                  </label>\r\n\r\n                  <textarea class="form-control" formControlName="reasonExt" [ngModel]="reasonExt"></textarea>\r\n\r\n\r\n                  <div class="error-box"><small class="error"> Please enter Reason for Seeking Extension</small></div>\r\n                </div> --\x3e\r\n\r\n                <div class="table-responsive">\r\n                  <table class="table table-bordered">\r\n                    <thead>\r\n                      <tr>\r\n                        <td>Block Name <span class="tooltip-open"\r\n                            (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span> </td>\r\n                        <td>Development Start Date <span class="tooltip-open"\r\n                            (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span> </td>\r\n                        <td>Development End Date <span class="tooltip-open"\r\n                            (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span> </td>\r\n                        <td>Height (in Meter) as per Section Plan of this Block<span class="tooltip-open"\r\n                            (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span> </td>\r\n                        <td>FSI <span class="tooltip-open" (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span>\r\n                        </td>\r\n                        <td>Builtup Area <span class="tooltip-open"\r\n                            (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span> </td>\r\n                        <td>Commencement Certificate No. <span class="tooltip-open"\r\n                            (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span> </td>\r\n                        <td>Date of Latest Commencement Certificate <span class="tooltip-open"\r\n                            (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span> </td>\r\n                        <td>All Commencement Certificates of this block <span class="tooltip-open"\r\n                            (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span> </td>\r\n                        <td *ngIf="formOneActive">Action</td>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr *ngFor="let a of extBlockListFk, let i= index">\r\n                        <td>{{a.blockName}}</td>\r\n                        <td class="text-nowrap">{{a.devStartDate| date : "dd-MM-yyyy"}}</td>\r\n                        <td class="text-nowrap">{{a.devEndDate| date : "dd-MM-yyyy"}}</td>\r\n                        <td class="tabel-text-right">{{a.height}}</td>\r\n                        <td class="tabel-text-right">{{a.fsi}}</td>\r\n                        <td class="tabel-text-right">{{a.builtupArea}}</td>\r\n\r\n                        <td class="tabel-text-right">{{a.commencementCertiNo}}</td>\r\n\r\n                        <td class="text-nowrap">{{a.dateIssuanceDoc | date : "dd-MM-yyyy"}}</td>\r\n                        <td>\r\n                          <span *ngIf="a.commencementCertificateUId;else no_file_found">\r\n                            <app-multi-file-view [Uid]="a.commencementCertificateUId"></app-multi-file-view>\r\n                          </span>\r\n                          <ng-template #no_file_found>--</ng-template>\r\n                        </td>\r\n                        <td *ngIf="formOneActive">\r\n                          <button (click)="editBlockDetail(a,i)" class="btn btn-primary">Edit</button>\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n\r\n                \x3c!-- <div class="form-group col-md-6">\r\n<label class="control-label">Commencement Certificate<sup>*</sup></label>\r\n<input type="hidden" [(ngModel)]="outputValue.commencentCertiId" formControlName="commencentCertiId">\r\n<app-file-upload (myEvent)="setValue($event)" [parm]="{apiType:\'NEW\', fileId:\'commencentCertiId\',docId:commencentCertiFId,show:false,fileType:[\'pdf\']}"></app-file-upload>\r\n<div class="error-box"><small class="error">Please upload file</small></div>\r\n</div>\r\n\r\n<div class="form-group col-md-6">\r\n    <label class="control-label">Commencement Certificate Date<sup>*</sup></label>\r\n    <input type="date" class="form-control" formControlName="commencentCertiDate" max="{{maxDate | date:\'yyyy-MM-dd\'}}" [ngModel]="commencentCertiDate| date: \'yyyy-MM-dd\'" readonly>\r\n    <div class="error-box"><small class="error">Please Commencement Certificate Date</small>\r\n    </div>\r\n    </div> --\x3e\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <label class="control-label"><b>1.3 Supporting Documents(If Any) {{isOrderDoc}} </b>\r\n\r\n          <ng-container *ngIf="isOrderDoc; else _notOther">\r\n\r\n            <input type="hidden" name="documentCondition" formControlName="documentCondition" [(ngModel)]="abc">\r\n\r\n\r\n            <span class="ml-2 textNormal"><label class="radio-inline radio-inlineBtn"> <input type="radio"\r\n              name="documentCondition" value="YES" checked disabled> YES </label>\r\n          <label class="radio-inline radio-inlineBtn"> <input type="radio" value="NO" disabled> NO</label></span>\r\n          </ng-container>\r\n\r\n          <ng-template #_notOther>\r\n            <span class="ml-2 textNormal"><label class="radio-inline radio-inlineBtn"> <input type="radio"\r\n              name="documentCondition" value="YES" (change)="checkOthDoc(\'YES\')" formControlName="documentCondition"\r\n              [(ngModel)]="abc" readonly> YES </label>\r\n          <label class="radio-inline radio-inlineBtn"> <input type="radio" name="documentCondition" value="NO" (change)="checkOthDoc(\'NO\')" formControlName="documentCondition" [(ngModel)]="abc" readonly> NO</label></span>\r\n        </ng-template>\r\n          \r\n\r\n\r\n\r\n\r\n        </label>\r\n        <div class="card-body asd">\r\n          <div *ngIf="isOptional">\r\n            <div class="row">\r\n              <div class="col-md-8" *ngIf="projectExtensionDocOtherList.length > 0">\r\n                <div class="form-group">\r\n                  <table class="table table-bordered">\r\n                    <tr *ngFor="let a of projectExtensionDocOtherList, let i= index">\r\n                      <td class="tabel-text-right">{{i+1}}</td>\r\n                      <td> {{a.otherProjectExteDocName}}</td>\r\n                      <td> {{a.otherProjectExteDocCap}}</td>\r\n                      <td *ngIf="closeIcon"><input type="button" value="Delete" class="btn btn-danger"\r\n                          (click)="deleteOthDocTr(i)"></td>\r\n                      <td *ngIf="a.otherProjectExteDocUId">\r\n                        <app-multi-file-view [Uid]="a.otherProjectExteDocUId"></app-multi-file-view>\r\n                      </td>\r\n                    </tr>\r\n                  </table>\r\n                  <br />\r\n                </div>\r\n              </div>\r\n\r\n              <div class="col-md-8" *ngIf="closeIcon">\r\n                <label><strong>1.3.1 Document</strong><sup>*</sup> <span class="tooltip-open"\r\n                    (click)="openToolTip($event, \'SUPPORT_DOCS\')">?</span></label>\r\n                <app-file-upload (myEvent)="setMultiFileDoc($event)"\r\n                  [parm]="{apiType:\'NEW\', fileId:\'mNocFileId\', docId:supDocFId,staticDocId:\'supDocFId\',caption:true,show:false,fileType:[\'pdf\']}">\r\n                </app-file-upload>\r\n              </div>\r\n\r\n            </div>\r\n            <div class="row mt-3">\r\n              <div class="col-md-4">\r\n                <div class="form-group">\r\n                  <label class="control-label"><strong>1.3.2 Reason for extension on promoter\'s letter head</strong><sup\r\n                      class="h_sup">*</sup></label>\r\n                  <input type="hidden" class="form-control" [(ngModel)]="newSupportDocument.reasonForExtensionDocUId"\r\n                    formControlName="reasonForExtensionDocUId">\r\n                  <input type="hidden" class="form-control" [(ngModel)]="outputValue.reasonForExtensionDocId"\r\n                    formControlName="reasonForExtensionDocId" placeholder="">\r\n                  <app-file-upload (myEvent)="setValue($event)"\r\n                    [parm]="{apiType:\'NEW\', fileId:\'reasonForExtensionDocId\',docId:docId36,staticDocId:\'docId36\',close:closeIconNew,show:false,fileType:[\'pdf\']}">\r\n                  </app-file-upload>\r\n                  \x3c!-- *ngIf="formOneActive; else _not1"  --\x3e\r\n                 \r\n\r\n\r\n                  <div class="error-box"><small class="error"> Please upload valid Document</small></div>\r\n                </div>\r\n              </div>\r\n              <div class="col-md-4">\r\n                <div class="form-group">\r\n                  <label class="control-label"><strong>1.3.3 Letter of Proof/ Supporting Documents for Application of\r\n                      B.U. , Society Registration if undertaken by Promoter etc.. is required to be\r\n                      submitted.</strong></label>\r\n                  <input type="hidden" class="form-control" [(ngModel)]="newSupportDocument.letterOfProofUId"\r\n                    formControlName="letterOfProofUId">\r\n                  <input type="hidden" class="form-control" [(ngModel)]="outputValue.letterOfProofId"\r\n                    formControlName="letterOfProofId" placeholder="">\r\n                  <app-file-upload  (myEvent)="setValue($event)"\r\n                    [parm]="{apiType:\'NEW\', fileId:\'letterOfProofId\',docId:docId37,staticDocId:\'docId37\',close:closeIconNew,show:false,fileType:[\'pdf\']}">\r\n                  </app-file-upload>\r\n                 \r\n                  <div class="error-box"><small class="error"> Please upload valid Document</small></div>\r\n                </div>\r\n              </div>\r\n              <div class="col-md-4">\r\n                <div class="form-group">\r\n                  <label class="control-label"><strong>1.3.4 An Affidavit stating that all dues of the Authority with\r\n                      respect to the project complaints, suo-moto cases, hearing process, judgements made by RERA\r\n                      authority have been fulfilled and complied before the application of the project extension is made\r\n                      to the authority and there are no complaints in regard to this project by any allottee.<sup\r\n                        class="h_sup">*</sup></strong></label>\r\n                  <input type="hidden" class="form-control" [(ngModel)]="newSupportDocument.affidavitStatingUId"\r\n                    formControlName="affidavitStatingUId">\r\n                  <input type="hidden" class="form-control" [(ngModel)]="outputValue.affidavitStatingId"\r\n                    formControlName="affidavitStatingId" placeholder="">\r\n                  <app-file-upload  (myEvent)="setValue($event)"\r\n                    [parm]="{apiType:\'NEW\', fileId:\'affidavitStatingId\',docId:docId38,staticDocId:\'docId38\',close:closeIconNew,show:false,fileType:[\'pdf\']}">\r\n                  </app-file-upload>\r\n\r\n\r\n\r\n                  <div class="error-box"><small class="error"> Please upload valid Document</small></div>\r\n                </div>\r\n              </div>\r\n              <div class="col-md-4">\r\n                <div class="form-group">\r\n                  <label class="control-label"><strong>1.3.5 Assurance in the form of Architect Certificate regarding\r\n                      the Project progress as per Senction Plan from Authority<sup\r\n                        class="h_sup">*</sup></strong></label>\r\n                  <input type="hidden" class="form-control" [(ngModel)]="newSupportDocument.architectCertificateUId"\r\n                    formControlName="architectCertificateUId">\r\n                  <input type="hidden" class="form-control" [(ngModel)]="outputValue.architectCertificateId"\r\n                    formControlName="architectCertificateId" placeholder="">\r\n                  <app-file-upload  (myEvent)="setValue($event)"\r\n                    [parm]="{apiType:\'NEW\', fileId:\'architectCertificateId\',docId:docId39,staticDocId:\'docId39\',close:closeIconNew,show:false,fileType:[\'pdf\']}">\r\n                  </app-file-upload>\r\n\r\n                  \r\n\r\n\r\n                  <div class="error-box"><small class="error"> Please upload valid Document</small></div>\r\n                </div>\r\n              </div>\r\n              <div class="col-md-4">\r\n                <div class="form-group">\r\n                  <label class="control-label"><strong>1.3.6 2/3 allottees approval/ consent as per Authority Order-45 required to be submitted. (must be submitted in case of more than 1 year of extension after\r\n                      project end date)</strong> <sup *ngIf="isOrderDoc">*</sup> </label>\r\n                  <input type="hidden" class="form-control" [(ngModel)]="newSupportDocument.allotteesConsentUId"\r\n                    formControlName="allotteesConsentUId">\r\n                  <input type="hidden" class="form-control" [(ngModel)]="outputValue.allotteesConsentId"\r\n                    formControlName="allotteesConsentId" placeholder="">\r\n                  <app-file-upload   (myEvent)="setValue($event)"\r\n                    [parm]="{apiType:\'NEW\', fileId:\'allotteesConsentId\',docId:docId40,staticDocId:\'docId40\',close:closeIconNew,show:false,fileType:[\'pdf\']}">\r\n                  </app-file-upload>\r\n\r\n\r\n                  <div class="error-box"><small class="error"> Please upload valid Document</small></div>\r\n                </div>\r\n              </div>\r\n              <div class="col-md-4">\r\n                <div class="form-group">\r\n                  <label class="control-label"><strong>1.3.7 Project schedule / timelines w.r.t. pending activities of\r\n                      the project (Gantt Chart)</strong></label>\r\n                  <input type="hidden" class="form-control" [(ngModel)]="newSupportDocument.ganttChardDocUId"\r\n                    formControlName="ganttChardDocUId">\r\n                  <input type="hidden" class="form-control" [(ngModel)]="outputValue.ganttChardDocId"\r\n                    formControlName="ganttChardDocId" placeholder="">\r\n                  <app-file-upload   (myEvent)="setValue($event)"\r\n                    [parm]="{apiType:\'NEW\', fileId:\'ganttChardDocId\',docId:docId41,staticDocId:\'docId41\',close:closeIconNew,show:false,fileType:[\'pdf\']}">\r\n                  </app-file-upload>\r\n\r\n                 \r\n\r\n                  <div class="error-box"><small class="error"> Please upload valid Document</small></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n\r\n\r\n        \x3c!-- /.card-body Documents --\x3e\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        <div class="row">\r\n          <div class="col-md-12">\r\n            <h3>Form B (Declaration Drainage/Carpet Affidavit along with Form-B to be uploaded here)<sup\r\n                class="h_sup">*</sup></h3>\r\n            <div>[Affidavit by Promoter]</div>\r\n            <hr>\r\n            \x3c!-- <div class="row" *ngIf="closeIcon">\r\n              <div class="form-group col-md-4">\r\n                <input type="text" class="form-control" #promoterB1 placeholder="PAN No"\r\n                  oninput="this.value = this.value.toUpperCase()"\r\n                  onKeyPress="if(this.value.length==10) return false;" formControlName="FormB1PromoterPanNo">\r\n                <div class="error-box"><small class="error">Please enter valid PAN No</small></div>\r\n              </div>\r\n              <div class=" col-md-4">\r\n                <div class="form-group">\r\n                  <button type="button" class="btn btn-small btn-primary mt-4"\r\n                    (click)="searchByPAN(promoterB1.value,5)">Search</button>\r\n                </div>\r\n              </div>\r\n            </div> --\x3e\r\n          </div>\r\n        </div>\r\n        <div class="row">\r\n          <div class="col-md-4">\r\n            <div class="form-group">\r\n              <label class="control-label">1.4 Date of Issuance of Document</label>\r\n              <input type="date" max="{{currDate}}" [(ngModel)]="oldDocValueValue.declarationFormbDocIssuanceDate"\r\n                class="form-control" formControlName="declarationFormbDocIssuanceDate" readonly>\r\n              <div class="error-box"><small class="error"> Please enter valid Date of Issuance of Document</small></div>\r\n            </div>\r\n          </div>\r\n          <div class="col-md-4">\r\n            <div class="form-group">\r\n              <label class="control-label">1.5 Authorized Signatory of Project who has signed Form B</label>\r\n              <input type="text" class="form-control" readonly [(ngModel)]="oldDocValueValue.declarationFormbIssuerName"\r\n                formControlName="declarationFormbIssuerName">\r\n              <div class="error-box"><small class="error"> Please enter valid Promoter Name</small></div>\r\n            </div>\r\n          </div>\r\n          <div class="col-md-4">\r\n            <div class="form-group">\r\n              <label class="control-label">1.6 Contact Details</label>\r\n              <input type="number" class="form-control" readonly\r\n                [(ngModel)]="oldDocValueValue.declarationFormbIssuerCONTACT"\r\n                formControlName="declarationFormbIssuerCONTACT" onKeyPress="if(this.value.length==10) return false;">\r\n              <div class="error-box"><small class="error"> Please enter valid Contact Details</small></div>\r\n            </div>\r\n          </div>\r\n          <div class="col-md-4">\r\n            <div class="form-group">\r\n              <label class="control-label">1.7 Declaration Form-B</label>\r\n              <input type="hidden" class="form-control" [(ngModel)]="outputValue.declarationFormbDocId"\r\n                formControlName="declarationFormbDocId" placeholder="">\r\n              <app-file-upload  (myEvent)="setValue($event)"\r\n                [parm]="{apiType:\'NEW\', fileId:\'declarationFormbDocId\',docId:docId34,staticDocId:\'docId34\',close:false,show:false,fileType:[\'pdf\']}">\r\n              </app-file-upload>\r\n\r\n\r\n              <div class="error-box"><small class="error"> Please upload valid Declaration Form-B</small></div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n          <div class="col-md-4" *ngIf="formOneActive || decilarionFormBUId!=null">\r\n            <label class="control-label">1.7.1 New Declaration Form-B<sup>*</sup>\r\n\r\n              <span class="tooltip-open" (click)="openToolTip($event, \'UPLOAD_NEW_DECL_FORMB\')">?</span>\r\n            </label>\r\n            <input type="hidden" [(ngModel)]="outputValue.decilarionFormBId" formControlName="decilarionFormBId">\r\n            \x3c!-- <input type="hidden" [(ngModel)]="extensionData.projectExtensionDoc.decilarionFormBUId"\r\n              formControlName="decilarionFormBUId"> --\x3e\r\n            <app-file-upload (myEvent)="setValue($event)"\r\n              [parm]="{apiType:\'NEW\', fileId:\'decilarionFormBId\',docId:decilarionFormBFId,staticDocId:\'decilarionFormBFId\',close:closeIcon,show:false,fileType:[\'pdf\']}">\r\n            </app-file-upload>\r\n            <div class="error-box"><small class="error">Please upload valid New Declaration Form-B</small></div>\r\n          </div>\r\n\r\n\r\n        </div>\r\n        <div class="card-header" *ngIf="isJointDevelopmentYes"><b>In Case of Joint Development</b></div>\r\n        <div class="card-body asd" *ngIf="isJointDevelopmentYes">\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n          <div class="row" *ngIf="isJointDevelopmentYes">\r\n\r\n            <div class="col-md-12">\r\n              <h3>Form B-1 at the time of development agreement<sup class="h_sup">*</sup></h3>\r\n              <div>[Affidavit by Promoter]</div>\r\n              <hr>\r\n              \x3c!-- <div class="row" *ngIf="closeIcon">\r\n              <div class="form-group col-md-4">\r\n                <input type="text" class="form-control" #promoterB1 placeholder="PAN No"\r\n                  oninput="this.value = this.value.toUpperCase()"\r\n                  onKeyPress="if(this.value.length==10) return false;" formControlName="FormB1PromoterPanNo">\r\n                <div class="error-box"><small class="error">Please enter valid PAN No</small></div>\r\n              </div>\r\n              <div class=" col-md-4">\r\n                <div class="form-group">\r\n                  <button type="button" class="btn btn-small btn-primary mt-4"\r\n                    (click)="searchByPAN(promoterB1.value,5)">Search</button>\r\n                </div>\r\n              </div>\r\n            </div> --\x3e\r\n            </div>\r\n          </div>\r\n          <div class="row" *ngIf="isJointDevelopmentYes">\r\n            <div class="col-md-4">\r\n              <div class="form-group">\r\n                <label class="control-label">1.8 Date of Issuance of Document</label>\r\n                <input type="date" max="{{currDate}}" [(ngModel)]="oldDocValueValue.declarationFormB1Issurance"\r\n                  class="form-control" formControlName="declarationFormB1Issurance" readonly>\r\n                <div class="error-box"><small class="error"> Please enter valid Date of Issuance of Document</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-md-4">\r\n              <div class="form-group">\r\n                <label class="control-label">1.9 Authorized Signatory of Project who has signed Form B1</label>\r\n                <input type="text" class="form-control" readonly\r\n                  [(ngModel)]="oldDocValueValue.declarationFormB1IssurName"\r\n                  formControlName="declarationFormB1IssurName">\r\n                <div class="error-box"><small class="error"> Please enter valid Promoter Name</small></div>\r\n              </div>\r\n            </div>\r\n            <div class="col-md-4">\r\n              <div class="form-group">\r\n                <label class="control-label">1.10 Contact Details</label>\r\n                <input type="number" class="form-control" readonly\r\n                  [(ngModel)]="oldDocValueValue.declarationFormB1Contact" formControlName="declarationFormB1Contact"\r\n                  onKeyPress="if(this.value.length==10) return false;">\r\n                <div class="error-box"><small class="error"> Please enter valid Contact Details</small></div>\r\n              </div>\r\n            </div>\r\n            <div class="col-md-4">\r\n              <div class="form-group">\r\n                <label class="control-label">1.11 Declaration Form-B1</label>\r\n                <input type="hidden" class="form-control" [(ngModel)]="outputValue.declarationFormB1Id"\r\n                  formControlName="declarationFormB1Id" placeholder="">\r\n                <app-file-upload (myEvent)="setValue($event)"\r\n                  [parm]="{apiType:\'NEW\', fileId:\'declarationFormB1Id\',docId:docId32,staticDocId:\'docId32\',close:false,show:false,fileType:[\'pdf\']}">\r\n                </app-file-upload>\r\n                <div class="error-box"><small class="error"> Please upload valid Declaration Form-B1</small></div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class="col-md-4" *ngIf="formOneActive || newFormB1UId!=null">\r\n              <label class="control-label">1.11.1 New Declaration Form-B1<sup>*</sup>\r\n                <span class="tooltip-open" (click)="openToolTip($event, \'UPLOAD_NEW_DECL_FORMBONE\')">?</span>\r\n              </label>\r\n              <input type="hidden" [(ngModel)]="outputValue.newFormB1DocId" formControlName="newFormB1DocId">\r\n              \x3c!-- <input type="hidden" [(ngModel)]="extensionData.newFormB1DocUId" formControlName="newFormB1DocUId"> --\x3e\r\n              <app-file-upload (myEvent)="setValue($event)"\r\n                [parm]="{apiType:\'NEW\', fileId:\'newFormB1DocId\',docId:newFormB1DocBId,staticDocId:\'newFormB1DocBId\',close:closeIconNew,show:false,fileType:[\'pdf\']}">\r\n              </app-file-upload>\r\n              <div class="error-box"><small class="error">Please upload valid New Declaration Form-B1</small></div>\r\n            </div>\r\n\r\n          </div>\r\n\r\n\r\n          <div class="row" *ngIf="isJointDevelopmentYes">\r\n            <div class="col-md-12">\r\n              <h3>Form B-2 at the time of development agreement<sup class="h_sup">*</sup></h3>\r\n              <div> [Affidavit by Promoter and Land Owner]</div>\r\n              <div>Form B2 required to be signed by all the land owners</div>\r\n              <hr>\r\n            </div>\r\n          </div>\r\n          <div class="row" *ngIf="isJointDevelopmentYes">\r\n            <div class="col-md-4">\r\n              <div class="form-group">\r\n                <label class="control-label">1.12 Date of Issuance of Document</label>\r\n                <input type="date" max="{{currDate}}" [(ngModel)]="oldDocValueValue.declarationFormB2Issurance"\r\n                  class="form-control" formControlName="declarationFormB2Issurance" readonly>\r\n                <div class="error-box"><small class="error"> Please enter valid Date of Issuance of Document</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-md-4">\r\n              <div class="form-group">\r\n                <label class="control-label">1.13 Land Owner\'s Name</label>\r\n                <input type="text" class="form-control" [(ngModel)]="oldDocValueValue.declarationFormB2IssurName"\r\n                  formControlName="declarationFormB2IssurName" readonly>\r\n                <div class="error-box"><small class="error"> Please enter valid Land Owner\'s Name</small></div>\r\n              </div>\r\n            </div>\r\n            \x3c!-- <div class="col-md-4">\r\n              <div class="form-group">\r\n                <label class="control-label"> Land owner Name</label>\r\n                <input type="text" class="form-control" [(ngModel)]="oldDocValueValue.declarationFormB2LandName"\r\n                  formControlName="declarationFormB2LandName" readonly>\r\n                <div class="error-box"><small class="error">Please enter Land owner Name</small></div>\r\n              </div>\r\n            </div> --\x3e\r\n\r\n            <div class="col-md-4">\r\n              <div class="form-group">\r\n                <label class="control-label">1.14 Contact Details</label>\r\n                <input type="number" class="form-control" [(ngModel)]="oldDocValueValue.declarationFormB2Contact"\r\n                  formControlName="declarationFormB2Contact" onKeyPress="if(this.value.length==10) return false;"\r\n                  readonly>\r\n                <div class="error-box"><small class="error"> Please enter valid Contact Details</small></div>\r\n              </div>\r\n            </div>\r\n            <div class="col-md-4">\r\n              <div class="form-group">\r\n                <label class="control-label">1.15 Declaration Form-B2\r\n\r\n                </label>\r\n                <input type="hidden" class="form-control" [(ngModel)]="outputValue.declarationFormB2Id"\r\n                  formControlName="declarationFormB2Id" placeholder="">\r\n                <app-file-upload (myEvent)="setValue($event)"\r\n                  [parm]="{apiType:\'NEW\', fileId:\'declarationFormB2Id\',docId:docId33,staticDocId:\'docId33\',close:false,show:false,fileType:[\'pdf\']}">\r\n                </app-file-upload>\r\n                <div class="error-box"><small class="error"> Please upload valid Declaration Form-B2</small></div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class="col-md-4" *ngIf="formOneActive || newFormB2UId!=null">\r\n              <label class="control-label">1.15.1 New Declaration Form-B2<sup>*</sup><span class="tooltip-open"\r\n                  (click)="openToolTip($event, \'UPLOAD_NEW_DECL_FORMBTWO\')">?</span></label>\r\n              <input type="hidden" [(ngModel)]="outputValue.newFormB2DocId" formControlName="newFormB2DocId">\r\n              \x3c!-- <input type="hidden" [(ngModel)]="extensionData.newFormB2DocUId" formControlName="newFormB2DocUId"> --\x3e\r\n              <app-file-upload (myEvent)="setValue($event)"\r\n                [parm]="{apiType:\'NEW\', fileId:\'newFormB2DocId\',docId:newFormB2DocBId,staticDocId:\'newFormB2DocBId\',close:closeIconNew,show:false,fileType:[\'pdf\']}">\r\n              </app-file-upload>\r\n              <div class="error-box"><small class="error">Please upload valid New Declaration Form-B2</small></div>\r\n            </div>\r\n\r\n          </div>\r\n        \r\n        </div>\r\n\r\n        <div class="row">\r\n          <div class="col-md-4">\r\n            <div class="form-group">\r\n              <label class="control-label">FSI/TDR or Statutory document <sup>*</sup></label>\r\n              <input type="hidden" class="form-control" [(ngModel)]="statutoryDocumentUId"\r\n                formControlName="statutoryDocumentUId" placeholder="">\r\n              <input type="hidden" class="form-control" [(ngModel)]="outputValue.statutoryDocumentId"\r\n                formControlName="statutoryDocumentId" placeholder="">\r\n              <app-file-upload  (myEvent)="setValue($event)"\r\n                [parm]="{apiType:\'NEW\', fileId:\'statutoryDocumentId\',docId:docId51, staticDocId:\'docId51\',close:closeIcon,show:false,fileType:[\'pdf\']}"></app-file-upload>\r\n              <div class="error-box"><small class="error">Please upload valid FSI/TDR or Statutory document</small></div>\r\n            </div>\r\n          </div>\r\n          <div class="col-md-4">\r\n            <div class="form-group">\r\n              <label class="control-label">Any other document </label>\r\n              <input type="hidden" class="form-control" [(ngModel)]="outputValue.anyOtherDocumentId"\r\n                formControlName="anyOtherDocumentId" placeholder="">\r\n                <input type="hidden" class="form-control" [(ngModel)]="anyOtherDocumentUId"\r\n                formControlName="anyOtherDocumentUId" placeholder="">\r\n              <app-file-upload (myEvent)="setValue($event)"\r\n                [parm]="{apiType:\'NEW\', fileId:\'anyOtherDocumentId\',docId:docId52, staticDocId:\'docId52\',close:closeIcon,show:false,fileType:[\'pdf\']}"></app-file-upload> \r\n              <div class="error-box"><small class="error">Please upload valid any other document</small></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <hr>\r\n\r\n        \x3c!-- AS DISCUSSED WITH RUPAL - SAME TYPE DOCUMENT ALREADY ADDED IN SUPPORTING DOCUMENT SO REMOVE THIS ON DATE - 01-SEPT-2022 --\x3e\r\n\r\n        \x3c!-- <div class="row">\r\n          <div class="col-md-4" *ngIf="isOrderDoc || order45DocUid!=null">\r\n            <div class="form-group">\r\n              <label class="control-label">1.16 Upload 2/3rd consent of allottee (as per order 45)<sup>*</sup></label>\r\n              <input type="hidden" class="form-control" [(ngModel)]="outputValue.order45DocId"\r\n                formControlName="order45DocId" placeholder="">\r\n              <input type="hidden" class="form-control" [(ngModel)]="order45DocUid" formControlName="order45DocUid"\r\n                placeholder="">\r\n              <app-file-upload (myEvent)="setValue($event)"\r\n                [parm]="{apiType:\'NEW\', fileId:\'order45DocId\',docId:docId35,close:closeIconNew,show:false,fileType:[\'pdf\']}">\r\n              </app-file-upload>\r\n              <div class="error-box"><small class="error"> Please upload valid Upload 2/3rd consent of allottee (as per\r\n                  order 45)</small></div>\r\n            </div>\r\n          </div>\r\n        </div> --\x3e\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      </div>\r\n\r\n      <div class="text-center mt-4">\r\n        <div  *ngIf="devEndNotMatched" class="alert alert-danger">Note: The end date of block development cannot exceed the end date of the project</div>\r\n        <span>\r\n          <button type="button" *ngIf="formOneActive" [disabled]="this.extensionForm.invalid || dataInvalid || devEndNotMatched"\r\n            class="btn btn-primary" (click)="submitExtForm()"><i class="fa fa-spinner fa-spin text-white" *ngIf="loader"\r\n              aria-hidden="true"></i>\r\n            Save & Next</button>\r\n          <button type="button" *ngIf="!formOneActive" class="btn btn-primary" (click)="nextBtn()"><i\r\n              class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>\r\n            Next</button>\r\n        </span>\r\n        \x3c!-- <span *ngIf="readOnly">\r\n          <button type="button" class="btn btn-primary" (click)="next()"><i class="fa fa-spinner fa-spin text-white"\r\n              *ngIf="loader" aria-hidden="true"></i> Next </button>\r\n        </span> --\x3e\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<div class="modal show" id="myModal" *ngIf="modalPopup">\r\n  <div class="modal-dialog modal-lg">\r\n    <div class="modal-content">\r\n\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n        <h4 class="modal-title">Update Block Detail</h4>\r\n        <button type="button" class="close" (click)="popupClose()">&times;</button>\r\n      </div>\r\n\r\n      \x3c!-- Modal body --\x3e\r\n      <div class="modal-body">\r\n        <form [formGroup]="updateBlockDetail" class="card-body" id="validateFoem">\r\n          <div class="row">\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label"> Block Name<span class="tooltip-open"\r\n                  (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span></label>\r\n              <input type="text" class="form-control" readonly value="{{blockName}}" placeholder="">\r\n              <div class="error-box"><small class="error"> Please enter valid Block Name</small></div>\r\n            </div>\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label"> Development Start Date<span class="tooltip-open"\r\n                  (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span></label>\r\n              <input class="form-control" name="Startdate" type="text" readonly\r\n                value="{{devStartDate | date:\'dd-MM-yyyy\'}}">\r\n              <div class="error-box"><small class="error"> Please enter valid Development Start Date</small></div>\r\n              <div *ngIf="errorMsg">{{errTxt}}</div>\r\n            </div>\r\n\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label"> Development End Date<sup>*</sup><span class="tooltip-open"\r\n                  (click)="openToolTip($event,\'BLCK_ENT_3\')">?</span></label>\r\n              <input class="form-control" min="{{ devStartDate}}" max="{{extendUpdateDate | date:\'yyyy-MM-dd\'}}"\r\n                name="Enddate" [(ngModel)]="devEndDate" type="date" #edate (change)="edatevalidation(edate.value)"\r\n                formControlName="devEndDate">\r\n              <div class="error-box"><small class="error"> Please enter valid Development End Date</small></div>\r\n              <div *ngIf="errorMsg">{{errTxt}}</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class="row">\r\n\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label"> Date of Latest Commencement Certificate<sup>*</sup><span\r\n                  class="tooltip-open" (click)="openToolTip($event,\'BLCK_ENT_07\')">?</span></label>\r\n              <input class="form-control" name="dateIssuanceDoc" type="date" formControlName="dateIssuanceDoc"\r\n                max="{{devStartDate}}" #comDate (change)="commdatevalidation(comDate.value)"\r\n                [(ngModel)]="dateIssuanceDoc">\r\n              <div class="error-box"><small class="error"> Please enter valid Date of Latest Commencement\r\n                  Certificate</small></div>\r\n              <div *ngIf="errorMsg">{{errTxt}}</div>\r\n            </div>\r\n\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label"> Commencement certificate No<sup>*</sup><span class="tooltip-open"\r\n                  (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span></label>\r\n              <input type="text" class="form-control" formControlName="commencementCertiNo"\r\n                [(ngModel)]="commencementCertiNo" placeholder="" onKeyPress="if(this.value.length==255) return false;">\r\n              <div class="error-box"><small class="error"> Please enter valid Commencement Certificate No</small></div>\r\n            </div>\r\n\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label"> Height (in Meter) as per Section Plan of this Block<span\r\n                  class="tooltip-open" (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span></label>\r\n              <input type="number" class="form-control" readonly value="{{height}}" placeholder=""\r\n                onKeyPress="if(this.value.length==3) return false;">\r\n              <div class="error-box"><small class="error"> Please enter valid Height (in Meter) as per Section Plan of\r\n                  this Block</small></div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n\r\n\r\n          <div class="row">\r\n\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label"> FSI of Block (In Sq Meter)<span class="tooltip-open"\r\n                  (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span></label>\r\n              <input type="number" class="form-control" value="{{fsi}}" readonly placeholder=""\r\n                onKeyPress="if(this.value.length==10) return false;">\r\n              <div class="error-box"><small class="error">Please note Please note FSI could be max upto x10 of Land Area\r\n                  of Project Under\r\n                  Registration value and should not less than 1.</small></div>\r\n            </div>\r\n\r\n\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label"> Built-up Area of Block (In Sq Meter)<span class="tooltip-open"\r\n                  (click)="openToolTip($event,\'PRJ_EXT_READ_ONLY\')">?</span></label>\r\n              <input type="number" class="form-control" readonly value="{{builtupArea}}" placeholder=""\r\n                onKeyPress="if(this.value.length==10) return false;">\r\n              <div class="error-box"><small class="error">Please note Built-up Area always will be >=FSI</small></div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n\r\n          <div class="row">\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label"> All Commencement Certificates of this block <sup>*</sup><span\r\n                  class="tooltip-open" (click)="openToolTip($event,\'BLCK_ENT_08\')">?</span></label>\r\n\r\n              <input type="hidden" [(ngModel)]="outputValueUPDATE.newCommencementCertificateId"\r\n                formControlName="newCommencementCertificateId">\r\n              <input type="hidden" [(ngModel)]="newCommencementCertificateUId"\r\n                formControlName="newCommencementCertificateUId">\r\n\r\n\r\n              <app-file-upload (myEvent)="setValueUPDATE($event)"\r\n                [parm]="{apiType:\'NEW\', fileId:\'newCommencementCertificateId\',docId:docId2,staticDocId:\'docId2\',close:true,show:false, fileType:[\'pdf\']}">\r\n              </app-file-upload>\r\n              <div class="error-box"><small class="error">Please Upload All Commencement Certificates of this\r\n                  block</small></div>\r\n            </div>\r\n\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      \x3c!-- Modal footer --\x3e\r\n      <div class="modal-footer">\r\n        <button type="button" (click)="updateBlock()" [disabled]="this.updateBlockDetail.invalid"\r\n          class="btn btn-primary">Update</button>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="popup-overlay" *ngIf="modalPopup"></div>\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n<app-loader *ngIf="loadingSpinner"></app-loader>'}}]);