function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{"/GmL":function(e,t,a){"use strict";a.r(t),t.default=""},H5O9:function(e,t,a){"use strict";a.r(t),t.default=""},MU1S:function(e,t,a){"use strict";a.r(t),t.default='<div class="{{allData.class}}">\r\n  {{allData.message}}\r\n</div>\r\n\r\n<div class="text-right" >\r\n  <a href="{{downloadReciept}}" download><u>Print Reciept</u></a>\r\n</div>'},QYcl:function(e,t,a){"use strict";a.r(t);var n=a("mrSG"),r=a("8Y7J"),o=a("SVse"),s=a("iInd"),i=a("yfuv"),l=a("Hdm8"),c=a("R/mc"),p=a("FvaC"),d=a("vTBr"),u=a("2Vo4"),m=function(){function e(t,a){_classCallCheck(this,e),this._apiURL=t,this._http=a,this.paymentFaild=new u.a({})}return _createClass(e,[{key:"postPaymentResultService",value:function(e,t){return"PROJECT_REG"==t?this._http.securepost(this._apiURL.projectRegAPI+"secure/land-area/payment/save",e):this._http.securepost(this._apiURL.projectAltAPI+"secure/land-area/payment/save",e)}}]),e}();m.ctorParameters=function(){return[{type:p.a},{type:d.a}]},m=n.b([Object(r.B)({providedIn:"root"})],m);var y=a("s7LF"),h=function(){function e(t,a){_classCallCheck(this,e),this._http=t,this._apiURL=a}return _createClass(e,[{key:"getPaymentDetailsService",value:function(e,t){return"PROJECT_REG"==t?this._http.secureget(this._apiURL.projectRegAPI+"secure/land-area/payment/open-form/project/"+e):"PROJECT_ALT"==t?this._http.secureget(this._apiURL.projectAltAPI+"secure/land-area/payment/open-form/project/"+e):void 0}},{key:"getProfileService",value:function(){return this._http.secureget(this._apiURL.registrationAPI+"secure/profile_details")}},{key:"postPaymentDetailsService",value:function(e){return this._http.post(this._apiURL.payment+"savePaymentDetail",e)}},{key:"encPaymentDetailsService",value:function(e){return this._http.post(this._apiURL.payment+"encDataForSecurePay",e)}}]),e}();h.ctorParameters=function(){return[{type:d.a},{type:p.a}]},h=n.b([Object(r.B)({providedIn:"root"})],h);var f=function(){function e(t,a,n,r){_classCallCheck(this,e),this._securePayment=t,this._router=a,this._paymentService=n,this._payResultService=r,this.counter=0,this.openGatewayPop=new u.a({}),this.errorMsg=!1,this.successMsg=!1,this.loader=!1,this.paymentData={processName:"",registraionType:"",processId:"",userName:"",mobileNo:"",emailId:"",paymentRemarks:""},this.paymentFailed=!1,this.loadingSpinner=!1,this.inputJson=new u.a({})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.landAreaProjectId=parseInt(sessionStorage.getItem("landAreaProjectId")),this.landAreaProcessType=sessionStorage.getItem("landAreaProcessType"),console.log(sessionStorage.getItem("landAreaProjectId")),this.paymentForm=new y.d({paymentTokenNo:new y.c(null),reqAmount:new y.c(null),reqPenaltyAmount:new y.c(null),reqTotalAmount:new y.c(null),processName:new y.c(null,[y.h.required]),registraionType:new y.c(null,[y.h.required]),processId:new y.c(null,[y.h.required]),redirectUrl:new y.c("change-landarea/landarea-payment/landarea-payment-result",[y.h.required]),userName:new y.c(null,[y.h.required]),mobileNo:new y.c(null,[y.h.required]),emailId:new y.c(null,[y.h.required]),paymentRemarks:new y.c(null,[y.h.required]),paymentGateway:new y.c(null),encData:new y.c(null),encData_SBI:new y.c(null)}),this._payResultService.paymentFaild.subscribe((function(t){console.log(t),e.paymentFailed=t.show,e.paymentMsg=t.message})),this.getprofile(),this.getPaymentDetails()}},{key:"getprofile",value:function(){var e=this;this._paymentService.getProfileService().subscribe((function(t){console.log(t),e.projectMobileNo=t.mobileNo,e.userName=t.complainantName,e.emailId=t.emailId}))}},{key:"getPaymentDetails",value:function(){var e=this;this._paymentService.getPaymentDetailsService(this.landAreaProjectId,this.landAreaProcessType).subscribe((function(t){console.log(t),"200"==t.status&&(e.paymentData.processName="Registration Fees",e.paymentData.registraionType="Project Land Area/Status/Property Type Changing Fees",e.paymentData.processId=e.landAreaProjectId,e.paymentData.paymentRemarks=t.data.remarks,e.paymentData.tokenNo=t.data.paymentToken,e.paymentData.reqAmount=t.data.amount,e.paymentData.reqPenaltyAmount=t.data.penaltyAmount,e.paymentData.reqTotalAmount=t.data.totalAmount),setTimeout((function(){e.encDataForSecurePay()}),1e3)}),(function(e){console.log(e)}))}},{key:"encDataForSecurePay",value:function(){var e=this;this._paymentService.encPaymentDetailsService(this.paymentForm.value).subscribe((function(t){e.loadingSpinner=!1,e.encDataValue=t.data.encData,e.encDataValue_SBI=t.data.encData_SBI}))}},{key:"selectGatewayConfirm",value:function(e){var t=this;this.loadingSpinner=!0,this.paymentGatewayValue=e,setTimeout((function(){t.savePaymentDetails()}),1e3)}},{key:"savePaymentDetails",value:function(){var e=this;this._paymentService.postPaymentDetailsService(this.paymentForm.value).subscribe((function(t){e._securePayment.secureData.next(t),e.loadingSpinner=!1,e._router.navigate(["secure-payment"])}),(function(t){e.inputJson.next({popShow:!0,popMsg:t.error.message,popClass:"alert alert-danger",popRoute:""}),console.log(t),e.loadingSpinner=!1}))}},{key:"postPaymentDetails",value:function(){this.openGatewayPop.next({openPop:!0})}},{key:"prevTab",value:function(){this._router.navigate(["dashboard/promoter"])}},{key:"checkValue",value:function(e){!0===e.target.checked?this.counter++:this.counter--,3==this.counter?document.getElementById("paymentBtn").removeAttribute("disabled"):document.getElementById("paymentBtn").setAttribute("disabled","disabled")}}]),e}();f.ctorParameters=function(){return[{type:c.a},{type:s.e},{type:h},{type:m}]},f=n.b([Object(r.n)({selector:"app-landarea-payment",template:n.c(a("y9LK")).default,styles:[n.c(a("H5O9")).default]})],f);var v=a("dkfh"),g=function(){function e(t,a,n,r){_classCallCheck(this,e),this._apiURL=t,this._payConfirm=a,this._router=n,this._payResultService=r}return _createClass(e,[{key:"ngOnInit",value:function(){this.projectId=parseInt(sessionStorage.getItem("projectId")),this.bcrId=parseInt(sessionStorage.getItem("bcrId")),this.postPaymentResult()}},{key:"postPaymentResult",value:function(){var e=this,t=sessionStorage.getItem("landAreaProcessType");this._payConfirm.setData.subscribe((function(a){var n;console.log("payment Mode ",a),a&&(n={amount:a.reqAmount,paymentMode:a.payMode,paymentStatus:a.status,paymentToken:a.paymentTokenNo,penaltyAmount:a.reqPenaltyAmount,remarks:"",sbiTransactionRefNo:a.sbiReferenceNo,totalAmount:a.reqTotalAmount,transactionNo:a.resTransactionNo},"PROJECT_REG"==t?n.projectRegId=a.processId:"PROJECT_ALT"==t&&(n.projectAltId=a.processId)),e.downloadReciept=e._apiURL.paymentDownload+"downloadPatmentReciept/"+a.resTransactionNo,console.log(n),e._payResultService.postPaymentResultService(n,t).subscribe((function(t){200==t.status&&sessionStorage.setItem("printAckBcr",t.data.aknowledgementNo),"SUCCESS"==t.data.paymentStatus||"BOOKED"==t.data.paymentStatus?e.allData={message:"Your payment has been successfully paid.",class:"alert alert-success"}:"PENDING"==t.data.paymentStatus?e.allData={message:t.message,class:"alert alert-warning"}:(e._payResultService.paymentFaild.next({show:!0,message:t.message}),e._router.navigate(["change-landarea/landarea-payment"])),console.log(t)}),(function(t){console.log(t),e._payResultService.paymentFaild.next({show:!0,message:"Payment Failed, Please try again"}),e._router.navigate(["change-landarea/landarea-payment"])}))}))}}]),e}();g.ctorParameters=function(){return[{type:p.a},{type:v.a},{type:s.e},{type:m}]},g=n.b([Object(r.n)({selector:"app-landarea-payment-result",template:n.c(a("MU1S")).default,styles:[n.c(a("/GmL")).default]})],g);var b=[{path:"change-land-detail",component:l.a,canActivate:[i.a]},{path:"landarea-payment",component:f,canActivate:[i.a]},{path:"landarea-payment/landarea-payment-result",component:g,canActivate:[i.a]}],P=_createClass((function e(){_classCallCheck(this,e)}));P=n.b([Object(r.J)({imports:[s.f.forChild(b)],exports:[s.f]})],P);var w=a("ybvR"),k=a("4nBV"),R=a("KD8B"),S=a("UPf0"),_=a("5Hd9"),A=a("DbvJ"),C=a("Y/lY"),I=a("L7/k");a.d(t,"ChangeLandAreaModule",(function(){return D}));var D=_createClass((function e(){_classCallCheck(this,e)}));D=n.b([Object(r.J)({declarations:[f,g],imports:[o.b,P,y.g,y.e,w.a,R.a,k.a,S.a,A.a,_.a,I.a,C.a],exports:[]})],D)},y9LK:function(e,t,a){"use strict";a.r(t),t.default='\r\n\r\n  <div  class="card shadow">\r\n    <div class="alert alert-danger" *ngIf="errorMsg">\r\n      <strong>Error!</strong> Please Fill All Valid Values.\r\n      </div>\r\n      <div class="alert alert-success" *ngIf="successMsg">\r\n          <strong>Success!</strong> Submitted Successfully.\r\n          </div>\r\n    \x3c!-- .card-body --\x3e\r\n    <div class="card-header"><b>Payment</b></div>\r\n    <form [formGroup]="paymentForm" id="validateFoem">\r\n        <input type="hidden" class="form-control" [(ngModel)]="paymentData.processName" formControlName="processName">\r\n        <input type="hidden" class="form-control" [(ngModel)]="paymentData.registraionType" formControlName="registraionType">\r\n        <input type="hidden" class="form-control" [(ngModel)]="paymentData.processId" formControlName="processId">\r\n        <input type="hidden" class="form-control" [(ngModel)]="userName" formControlName="userName">\r\n        <input type="hidden" class="form-control" [(ngModel)]="projectMobileNo" formControlName="mobileNo">\r\n        <input type="hidden" class="form-control" [(ngModel)]="emailId" formControlName="emailId">\r\n        <input type="hidden" class="form-control" [(ngModel)]="paymentData.paymentRemarks" formControlName="paymentRemarks">\r\n        <input type="hidden" class="form-control" [(ngModel)]="encDataValue"\r\n            formControlName="encData">\r\n            <input type="hidden" class="form-control" [(ngModel)]="encDataValue_SBI" formControlName="encData_SBI">\r\n            <input type="hidden" class="form-control" [(ngModel)]="paymentGatewayValue"\r\n                formControlName="paymentGateway">\r\n    <div class="card-body">\r\n        <div class="alert alert-danger text-center" *ngIf="paymentFailed">\r\n{{paymentMsg}}\r\n        </div>\r\n       <p class="text-center"><strong>\u201dPLEASE DO NOT PRESS BACK OR REFRESH\u201d FROM THIS POINT ONWARDS.</strong></p>\r\n<div class="row">\r\n        <div class="col-md-12">\r\n\r\n            <div class="form-group">\r\n                    <div class="row">\r\n                <label class="control-label col-md-6">Unique Token Number</label>\r\n                <div class="col-md-6">\r\n                <input type="text" class="form-control"  readonly placeholder="" [(ngModel)]="paymentData.tokenNo" formControlName="paymentTokenNo" >\r\n              </div>\r\n            </div>\r\n        </div>\r\n              <div class="form-group">\r\n                    <div class="row">\r\n                    <label class="control-label col-md-6">RERA Fees (A)<sup>*</sup></label>\r\n                    <div class="col-md-6">\r\n                    <input type="text" class="form-control" readonly [(ngModel)]="paymentData.reqAmount"  placeholder="" formControlName="reqAmount" >\r\n                  </div>\r\n                </div>\r\n                </div>\r\n\r\n                  <div class="form-group">\r\n                        <div class="row">\r\n                        <label class="control-label col-md-6">RERA Late Submission Charges (B)<sup>*</sup>\r\n                            Effective from 1-October know more..</label>\r\n                            <div class="col-md-6">\r\n                            <input type="text" class="form-control" readonly  [(ngModel)]="paymentData.reqPenaltyAmount"   placeholder="" formControlName="reqPenaltyAmount" >\r\n                      </div>\r\n                    </div>\r\n                    </div>\r\n\r\n                      <div class="form-group">\r\n                        <div class="row">\r\n                        <label class="control-label col-md-6">RERA Total Fees to be Paid (A + B)<sup>*</sup></label>\r\n                        <div class="col-md-6">\r\n                        <input type="text" class="form-control" [(ngModel)]="paymentData.reqTotalAmount" readonly  placeholder="" formControlName="reqTotalAmount" >\r\n                      </div>\r\n                    </div>\r\n                    </div>\r\n\r\n          </div>\r\n        </div>\r\n    <div class="row">\r\n        <div class="col-md-12   customPaymentList" >\r\n            <app-payment-description></app-payment-description>\r\n            \r\n            \x3c!-- <h3>Notice: </h3>\r\n            <ol class="list-ol">\r\n                   <li >\r\n                       You will be re-directed to <b>SBI ePay Payment Gateway</b>\r\n                       from which you can pay this amount using\r\n                       <b> \u201dNet Banking\u201d \u201a \u201dCredit Card\u201d \u201a  \u201dDebit Card\u201d</b>\r\n                       options available on ePayment Gateway.\r\n                       <br>\r\n                   </li>\r\n                   <li >\r\n                        In Corporate Account - Net Banking Maker - Checker Scenario, Checker has to ensure to "Check and Approve" transaction within 20 minutes\r\n                        post initiating the transaction to ensure successful transaction.\r\n                        Failing to which, the transaction will be treated as Failed. For further inquiry/ refund please contact SBI ePay\r\n                   </li>\r\n                   <li >\r\n                       <b>REFUND (Scenarios and Process)</b>\r\n                       <ol type="A" class="list-alhpa">\r\n                           <li >\r\n                            As stated in detailed T&amp;C, the paid fee does not in any way guarantee issuance of services and the fees paid is not eligible for refund or chargeback in any case.\r\n                           </li>\r\n                           <li >\r\n                               When a candidate makes double payment by mistake, the refund (part/ full) may be considered, as the Authority may decide, subject to\r\n                           </li>\r\n                       </ol>\r\n                       <ul class="list-circle">\r\n                           <li >\r\n                               The user bring it to the notice of the GUJRERA authority by email within 7 days of making such payment. Any request beyond 7 days will not be entertained.\r\n                           </li>\r\n                           <li >\r\n                               The email should be sent to <b><a href="mailto:epay-rera@gujarat.gov.in" title="epay-rera@gujarat.gov.in">epay-rera@gujarat.gov.in</a></b> with subject line clearly mentioning "Request for Refund" words along with other details of the transaction.\r\n                           </li>\r\n                       </ul>\r\n                       <ol type="A" class="list-alhpa">\r\n                           <li >\r\n                               The refund process (in case of double payment by mistake only), via the same source of payments made in such cases, will be initiated in 3 to 5 working days after receiving the refund request and due decision about the refund amount is taken by the GUJRERA Authority.\r\n                           </li>\r\n                           <li >\r\n                               In case of auto-refund (when the amount does not reach GUJRERA Account), the time taken for credit depends on bank and varies from bank to bank and GUJRERA has no control over it. Hence, one may contact the respective bank for such transactions.\r\n                           </li>\r\n                       </ol>\r\n                   </li>\r\n\r\n           </ol> --\x3e\r\n           </div>\r\n           <div class="col-md-12" > \r\n           <p><input type="checkbox" for="checkPenalty" (click)="checkValue($event)" class="requiredValFld" >\r\n            I agree to all Terms and Condition defined by GUJRERA For using Online Payment Gateway Facility using this Portal. The detailed T&amp;C can be found <b>\u201dTerms &amp; Conditions\u201d</b> Section on this website.\r\n            <span class="requiredValFldMsg" >Please accept Terms and Conditions.</span>\r\n            </p>\r\n            <p><input type="checkbox"  (click)="checkValue($event)" class="requiredValFld" name="showonpublicdomain"> The required information as per the RERA act will be displayed in public domain\r\n            <span class="requiredValFldMsg" > Please affirm the declarations.</span>\r\n            </p>\r\n            <p>\r\n            <input type="checkbox" (click)="checkValue($event)" class="requiredValFld" name="affirm" id="affirm"> [I/We] solemnly affirm and declare that the particulars given in herein are correct to [my /our] knowledge and belief and nothing material has been concealed by [me/us] therefrom\r\n            <span class="requiredValFldMsg" > Please affirm the declarations.</span>\r\n\r\n            </p>\r\n        </div>\r\n    </div>\r\n\r\n\r\n\r\n\r\n        <div class="text-center">\r\n            <button type="button" class="btn btn-primary" value="previous" (click)="prevTab()"> Previous</button>\r\n            <button type="button" class="btn btn-primary" disabled id="paymentBtn" value="next" (click)="postPaymentDetails()" ><i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i> Agree & Pay \u20b9 {{ paymentData.reqTotalAmount }}</button>\r\n          </div>\r\n    </div>\r\n\r\n  </form>\r\n\r\n  </div>\r\n  <app-gateway-selection (gatewayOutput)="selectGatewayConfirm($event)" [gatewayInput]="openGatewayPop"></app-gateway-selection>\r\n  \r\n  <app-validation-message [message]="inputJson"></app-validation-message>\r\n  <app-loader *ngIf="loadingSpinner"></app-loader>'}}]);