function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{"+MAC":function(t,e,a){"use strict";a.r(e),e.default='<div class="row">\r\n<div class="col-md-12 text-center mb-4 title_text_2">Agent Work Details for {{yearlyDataDetailsDisplayName}}</div>\r\n<div class="col-md-12 text-center mb-4 title_text_2">Start Date: {{yearlyDataDetailsStartDate | date:\'dd-MM-yyyy\'}} End Date: {{yearlyDataDetailsEndDate | date:\'dd-MM-yyyy\'}}</div>\r\n</div>\r\n<form [formGroup]="projectForm" id="validateFoem" class="headerBg">\r\n\r\n<div class="row mt-4" [ngClass]="[ actionClass ? \'actionClass\' : \'\']">\r\n  <div class="col-md-12">\r\n    <div id="labels" class="card shadow">\r\n      <div class="card-header">\r\n        <b>Agents Project</b>\r\n      </div>\r\n      <div class="card-body">\r\n        <div formArrayName="agentWorkStatusList">\r\n        <div *ngFor="let group of projectArray.controls; let i = index" [formGroupName]="i">\r\n          <div class="row mt-4">\r\n            <div class="form-group col-md-3">\r\n              <label class="control-label">Project Registration No.\r\n                <span class="tooltip-open" (click)="openToolTip($event, \'ECOURT_COMPLAINT_RERA_REG_NO\')" >?</span>\r\n              </label>\r\n            </div>\r\n            <div class="form-group col-md-3">\r\n              <div class="input-group">\r\n                <input class="form-control border-secondary py-2" type="search" formControlName="projectRegNo">\r\n                <div class="input-group-append">\r\n                  <button class="btn btn-outline-secondary" type="button" (click)="searchProjectDetails(i)">\r\n                    <i class="icon-search-3"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\r\n                  Please Enter Rera Registration No</small></div>\r\n            </div>\r\n            <input class="form-control" type="hidden" formControlName="projectRegNo">\r\n            <input class="form-control" type="hidden" formControlName="projectId">\r\n            <div class="form-group col-md-3">\r\n              <label class="control-label">Project Name\r\n                <span class="tooltip-open" (click)="openToolTip($event, \'ECOURT_COMPLAINT_PROJECT_NAME\')" >?</span>\r\n              </label>\r\n            </div>\r\n            <div class="form-group col-md-3">\r\n              <input type="text" class="form-control" formControlName="projectName" >\r\n              <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\r\n                  Please Enter Project Name</small></div>\r\n            </div>\r\n\r\n          </div>\r\n          <div class="row">\r\n            <div class="form-group col-md-3">\r\n              <label class="control-label font-weight-bold">Start Date</label>\r\n            </div>\r\n            <div class="form-group col-md-3">\r\n              <input type="date" data-date-format="DD-MMMM-YYYY" class="form-control" formControlName="startDate">\r\n              <div class="error-box"><small class="error">\r\n                <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please select valid start date</small></div>\r\n            </div>\r\n            <div class="form-group col-md-3">\r\n              <label class="control-label font-weight-bold">End Date</label>\r\n            </div>\r\n            <div class="form-group col-md-3">\r\n              <input type="date" data-date-format="DD-MMMM-YYYY" class="form-control" formControlName="endDate" >\r\n              <div class="error-box"><small class="error">\r\n                <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please select valid end date</small></div>\r\n            </div>\r\n          </div>\r\n\r\n          \x3c!----------------------------\x3e\r\n\r\n          <div class="productPage">\r\n            <div class="prodtabContent">\r\n              <div class="cbStatus">\r\n                <div class="cbstatusBox">\r\n                  <div class="row">\r\n\r\n                    <div class="col-md-12"><h2 class="title">\r\n                      <div *ngIf="status != \'SUCCESS\'">Select </div>&nbsp;\r\n                      Units Dealt with</h2></div>\r\n                  </div>\r\n                  <div class="blockUnite mt-0">\r\n                    <div class="row">\r\n                    <div class="col-sm-12 block p-0">\r\n                      <div class="content">\r\n                        <span *ngFor="let unit of unitArrVal[i]">\r\n                          <ng-container *ngIf="unitListTempArr.indexOf(unit.blockName + \'-\' + unit.flatNo) > -1;else NoBooked">\r\n                            <a class="unitNumber" href="javascript:void(0)" (click)="selectUnit(unit.flatNo, unit.blockName, i, $event)" data-title="{{unit.flatNo}}">{{unit?.blockName}} - {{unit?.flatNo}}</a>\r\n                          </ng-container>\r\n                          <ng-template #NoBooked>\r\n                            <a class="unitNumber un-booked" href="javascript:void(0)" (click)="selectUnit(unit.flatNo, unit.blockName, i, $event)" data-title="{{unit.flatNo}}">{{unit?.blockName}} - {{unit?.flatNo}}</a>\r\n                          </ng-template>\r\n                        </span>\r\n                      </div>\r\n                      \x3c!-- <div class="bottom">\r\n                        <span class="unBook">Unbooked</span>\r\n                        <span class="booked">Booked</span>\r\n                      </div> --\x3e\r\n                    </div>\r\n                  </div>\r\n                  </div>\r\n                  <div>Select Unit to confirm units dealt with in this period <br /><span class="bookedBG"></span> Units dealt with, <span class="unbookedBG"></span> Units not dealt with</div>\r\n\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          \x3c!----------------------------\x3e\r\n          <div class="row mt-4 mb-4" *ngIf="displayaction === false">\r\n            <div class="col-md-12 text-right">\r\n              <button *ngIf="projectArray.length > 1" class="btn btn-small bg-danger text-white" (click)="removeProjectDetails(i)">Delete</button>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <div class="row mt-4 mb-4" *ngIf="displayaction === false">\r\n          <div class="col-md-12 text-right">\r\n            <button class="btn btn-small bg-success text-white" (click)="addProjectDetails()">Add More</button>\r\n          </div>\r\n        </div>\r\n        </div>\r\n      </div>\r\n      \x3c!-- /.card-body --\x3e\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n\r\n<div class="row mt-4 form-group">\r\n  <div class="col-md-12">\r\n    <div class="form-group">\r\n      <label class="control-label font-weight-bold">Remarks<sup>*</sup></label>\r\n      <ckeditor [editor]="Editor" class="clauseslists" [config]="{ toolbar: [ \'heading\', \'|\', \'bold\', \'italic\', \'link\', \'bulletedList\', \'numberedList\', \'blockQuote\']}"  [(ngModel)]="remark" formControlName="remark" size=5 [disabled]="displayaction"></ckeditor>\r\n      <div class="error-box"><small class="error">\r\n        <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please type remark</small></div>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<div class="row mt-4 form-group" *ngIf="isPaymentDoneOfThisProcess">\r\n  <app-payment-view [paymentDataArray]="sendInBehaviou"></app-payment-view>\r\n\r\n  \x3c!-- <div class="col-md-12">\r\n    <div class="form-group">\r\n      <label class="control-label font-weight-bold">Payment</label>\r\n      <div class="row mt-4">\r\n        <div class="col-md-12">\r\n          <div class="card shadow" *ngFor="let p of summarizedPaymentList; let ip = index">\r\n            <div class="card-body">\r\n              <div class="row mb-4">\r\n                <div class="col-md-4 mb-3">\r\n                  <label class="control-label font-weight-bold">Transaction No</label>\r\n                  <input type="text" readonly class="form-control" value="{{p?.transactionNo}}">\r\n                </div>\r\n                <div class="col-md-4 mb-3">\r\n                  <label class="control-label font-weight-bold">Unique Token Number</label>\r\n                  <input type="text" readonly class="form-control"\r\n                    value="{{p?.paymentTokenNo}}">\r\n                </div>\r\n                <div class="col-md-4 mb-3">\r\n                  <label class="control-label font-weight-bold">Status</label>\r\n                  <input type="text" readonly class="form-control" value="{{p?.status}}">\r\n                </div>\r\n                <div class="col-md-4 mb-3">\r\n                  <label class="control-label font-weight-bold">RERA Fees (A)</label>\r\n                  <input type="text" readonly class="form-control" value="{{p?.reqAmount}}">\r\n                </div>\r\n\r\n                <div class="col-md-4 mb-3">\r\n                  <label class="control-label font-weight-bold">Penalty Amount</label>\r\n                  <input type="text" readonly class="form-control"\r\n                    value="{{p?.reqPenaltyAmount}}">\r\n                </div>\r\n                <div class="col-md-4 mb-3">\r\n                  <label class="control-label font-weight-bold">Total Amount</label>\r\n                  <input type="text" readonly class="form-control"\r\n                    value="{{p?.reqTotalAmount}}">\r\n                </div>\r\n\r\n                <div class="col-md-4 mb-3">\r\n                  <label class="control-label font-weight-bold">Credited in RERA A/C</label>\r\n                  <input type="text" readonly class="form-control" value="{{p?.creditFlag}}">\r\n                </div>\r\n               \r\n                <div class="col-md-4 mb-3">\r\n                  <label class="control-label font-weight-bold">Credited On</label>\r\n                  <input type="text" readonly class="form-control"\r\n                    value="{{p?.creditedOn | date : \'dd-MM-yyyy\'}}">\r\n                </div>\r\n                <div class="col-md-4 mb-3">\r\n                  <label class="control-label font-weight-bold">Payment Receipt</label>\r\n\r\n                  <u>\r\n                    <a href="{{downloadReciept}}{{p?.transactionNo}}" class="cursor-pointer"\r\n                      title="Download Payment Receipt"><i class="icon icon-download green" aria-hidden="true"></i></a>\r\n                  </u>\r\n                </div>\r\n              </div>\r\n\r\n\r\n\r\n\r\n            </div>\r\n\r\n \r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div> --\x3e\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  <div class="row text-center"  *ngIf="displayaction === false">\r\n    <div class="col-md-12 text-center mt-2 mb-4">\r\n      <button class="btn btn-primary mr-3" (click)="goBack()">Previous</button>\r\n      <button class="btn btn-primary mr-3" id="saveNext" (click)="formSubmit()" [disabled]="this.projectForm.invalid"><i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>Save & Next</button>\r\n    </div>\r\n  </div>\r\n\r\n</form>\r\n<div class="row" *ngIf="isPaymentDoneOfThisProcess">\r\n  <div class="col-md-12 text-center">\r\n    <button class="btn btn-primary mr-3" (click)="goBack()">Previous</button>\r\n    <button (click)="clickToPrintApplication()" class="btn btn-small btn-success printHide">Print</button>\r\n  </div>\r\n</div>\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n'},"0o99":function(t,e,a){"use strict";a.r(e),e.default='<div class="row mt-4 mb-8">\r\n  <div class="container-fluid">\r\n    <div class="row">\r\n      <div class="col-md-12 mt-4">\r\n\r\n        <div class="card ">\r\n\r\n          <div class="card-header d-flex justify-content-between align-items-center">\r\n            <h2><b>Yearly Return Status</b></h2>\r\n\r\n            <div class="tableTotalCount">Total Result - {{paginationCount}}/{{filterDataArray?.length}}</div>\r\n          </div>\r\n          \x3c!-- <div class="card-header"><b>Project List</b></div> --\x3e\r\n          <div class="card-body">\r\n\r\n\r\n            <div class="table-responsive pb-2">\r\n\r\n              <app-filter-table [filterTableData]="{\'tableJson\':tableJsonData}" (myEvent)="filterValue($event)">\r\n              </app-filter-table>\r\n              <table class="table table-bordered text-center">\r\n\r\n                <thead>\r\n                  <tr class="bg-light  text-size-small text-center">\r\n\r\n                    <th *ngFor="let th of tableHeader">{{th.label}} <div class="sortTable">\r\n                        <a href="javascript:void(0)"\r\n                          [ngClass]="{\'active\':sortData.sortType==\'ASC\' && sortData.key==th.key}"\r\n                          (click)="tableSortFilter(\'ASC\', th.key, th.type,\'sort\')" class="upArrow"><i\r\n                            class="fas fa-arrow-up"></i></a>\r\n                        <a href="javascript:void(0)"\r\n                          [ngClass]="{\'active\':sortData.sortType==\'DESC\' && sortData.key==th.key}"\r\n                          (click)="tableSortFilter(\'DESC\', th.key, th.type,\'sort\')" class="downArrow"><i\r\n                            class="fas fa-arrow-down"></i></a>\r\n                      </div>\r\n                    </th>\r\n\r\n\r\n                  </tr>\r\n                </thead>\r\n                \x3c!-- <thead>\r\n                  <tr class="bg-gray text-dark">\r\n                    <td>Registration Number</td>\r\n                    <td>Agent Name</td>\r\n                    <td>Registration Type</td>\r\n                    <td>Year Name </td>\r\n                    <td>Is Defaulter</td>\r\n                   \r\n                     <td>Defaulter ID</td>\r\n\r\n                     <td>Start Date</td>\r\n                     <td>End Date</td>\r\n                    \r\n                     <td>Submission Date</td> \r\n                  </tr>\r\n                </thead> --\x3e\r\n                <tbody *ngIf="filterDataArray?.length > 0; else no_agentListallData">\r\n\r\n                  <tr\r\n                    *ngFor="let compAll of filterDataArray| paginate: { id: \'foo1\', itemsPerPage: 10, currentPage: currentPageNo } ">\r\n                    \x3c!-- <tr *ngFor="let compAll of agentList"> --\x3e\r\n                    \x3c!-- <td><a href="javascript:void(0)" (click)="viewDetails(compAll.yearlyId,compAll.agentRegNo)">{{ compAll.projectRegNo }}</a></td> --\x3e\r\n                    <td>{{ compAll.agentRegNo }}</td>\r\n                    <td>{{ compAll.agentName }}</td>\r\n                    \x3c!-- <td>\r\n                      {{ compAll.projectName }}\r\n                    </td> --\x3e\r\n                    <td>{{compAll.regType}}</td>\r\n\r\n\r\n                    <td>\r\n                      <ng-container *ngIf="compAll.status == \'SUCCESS\'; else _notFound">\r\n                        <a href="javascript:void(0)" class="link-text" (click)="viewDetails(compAll.yearlyId,compAll.agentRegNo)">{{compAll.yearName}}</a>\r\n                      </ng-container>\r\n                      <ng-template #_notFound>\r\n                        {{compAll.yearName}}\r\n                      </ng-template>\r\n\r\n                    </td>\r\n                    <td>\r\n                      <ng-container *ngIf="compAll.isDefaulter; else _notDef">\r\n                        {{compAll.isDefaulter}}\r\n                      </ng-container>\r\n                      <ng-template #_notDef>NA</ng-template>\r\n                    </td>\r\n                    <td>\r\n                      <ng-container *ngIf="compAll.defaulterId; else _notDef2">\r\n                        {{compAll.defaulterId}}\r\n                      </ng-container>\r\n                      <ng-template #_notDef2>NA</ng-template>\r\n                      \r\n                    </td>\r\n\r\n                    <td>\r\n                      {{transformAmount(compAll.penalityAmt)}}\r\n                    </td>\r\n\r\n                    <td>\r\n                      {{compAll.remarks}}\r\n                    </td>\r\n\r\n                    <td class="text-nowrap">{{compAll.startDate | date:"dd-MM-yyyy"}}</td>\r\n\r\n                    <td class="text-nowrap">{{compAll.endDate | date:"dd-MM-yyyy"}}</td>\r\n                    <td>\r\n                      <ng-container *ngIf="compAll.extendeddate; else _notDef1">\r\n                        {{compAll.extendeddate | date:"dd-MM-yyyy"}}\r\n                      </ng-container>\r\n                      <ng-template #_notDef1>NA</ng-template>\r\n\r\n                    </td>\r\n                    \r\n                    <td class="text-nowrap">\r\n                    \r\n                      <ng-container *ngIf="compAll.submissionDate; else _notDef3">\r\n                        {{compAll.submissionDate | date:"dd-MM-yyyy"}}\r\n                      </ng-container>\r\n                      <ng-template #_notDef3>NA</ng-template>\r\n                    \r\n                      \r\n                    </td>\r\n\r\n                    <td>{{compAll.status}}</td>\r\n\r\n\r\n                  </tr>\r\n\r\n                </tbody>\r\n\r\n                <ng-template #no_agentListallData>\r\n                  <tbody>\r\n                    <tr>\r\n                      <td class="error text-center alert alert-danger" colspan="13">No record found!</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </ng-template>\r\n                \x3c!-- <tbody *ngIf="!agentList">\r\n                  <tr class="text-center">\r\n                    <td colspan="10"><div class="alert alert-danger">No Record Found!</div></td>\r\n                  </tr>\r\n              </tbody> --\x3e\r\n              </table>\r\n\r\n\r\n              <div class="col-md-12 text-right" *ngIf="filterDataArray?.length > 0">\r\n                <pagination-controls id="foo1" (pageChange)="getPageNo($event)"></pagination-controls>\r\n              </div>\r\n              \x3c!-- <div class="col-md-12 text-right">\r\n                  <pagination-controls  id="foo5" (pageChange)="challan = $event"></pagination-controls>\r\n                </div>\r\n              --\x3e\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\x3c!-- <app-loader *ngIf="loadingSpinner"></app-loader> --\x3e'},"6Dwq":function(t,e,a){"use strict";a.r(e),e.default=""},AHku:function(t,e,a){"use strict";a.r(e),e.default='<div class="{{allData.class}}">\r\n    {{allData.message}}\r\n  </div>\r\n  <div class="text-center">\r\n    \x3c!-- <p>{{transNo}}</p> --\x3e\r\n    \x3c!-- <div class="text-center"><a href="/#/payment" class="btn btn-primary mt-2" target="_blank">print</a> --\x3e\r\n      <div class="text-center" *ngIf="transNo">\r\n        \x3c!-- <a href="http://15.206.175.42/payment/downloadPatmentReciept/{{ transNo }}" class="btn btn-primary mt-2" target="_blank">print</a> --\x3e\r\n        <span><a href="{{downloadp}}" class="btn btn-primary mt-2" target="_blank">Print Reciept</a></span>\r\n          &nbsp;&nbsp;\r\n        <span>\r\n          <a href="javascript:void(0);" class="btn btn-primary mt-2" (click)="clickToPrintApplication();">Print Application</a>\r\n        </span>\r\n        \x3c!-- <span class="ml-2"><a [routerLink]="[\'/complaint-registration/printcomp\']" target="_blank" class="btn btn-primary mt-2">Print Application</a></span> --\x3e\r\n       \r\n      \x3c!-- <button type="button" class="btn btn-primary" (click)="PrintData(\'ONTXNO61201404101122\')">Print</button> --\x3e\r\n    </div>\r\n'},C1Dh:function(t,e,a){"use strict";a.r(e),e.default=""},Ervm:function(t,e,a){"use strict";a.r(e),e.default='<div class="row" *ngIf="showVerification">\r\n\t<div class="col-md-12">\r\n\t\t<app-payment-verification [transactional]="transactionalData" (buttonStatus)="outPutHandle($event)"></app-payment-verification>\r\n\t</div>\r\n</div>\r\n\r\n<form [formGroup]="uploadForm" id="validateFoem">\r\n    <div class="row mt-4">\r\n        <div class="col-md-12">\r\n            <div id="labels" class="card shadow">\r\n                \x3c!-- .card-body --\x3e\r\n                <div class="card-header">\r\n                    <b>Payment</b>\r\n                    <input type="hidden" class="form-control" [(ngModel)]="paymentData.paymentId"\r\n                        formControlName="paymentId">\r\n                    <input type="hidden" class="form-control" [(ngModel)]="paymentData.amount"\r\n                        formControlName="reqAmount">\r\n                    \x3c!-- <input type="hidden" class="form-control" [(ngModel)]="paymentData.penaltyAmount" formControlName="reqPenaltyAmount"> --\x3e\r\n                    \x3c!-- <input type="hidden" class="form-control" [(ngModel)]="paymentData.totalAmount" formControlName="reqTotalAmount"> --\x3e\r\n                    <input type="hidden" class="form-control" [(ngModel)]="paymentData.processName"\r\n                        formControlName="processName">\r\n                    <input type="hidden" class="form-control" [(ngModel)]="paymentData.registraionType"\r\n                        formControlName="registraionType">\r\n\r\n                    <input type="hidden" class="form-control" [(ngModel)]="yearlyId"\r\n                        formControlName="processId">\r\n                    <input type="hidden" class="form-control" [(ngModel)]="paymentData.userName"\r\n                        formControlName="userName">\r\n                    <input type="hidden" class="form-control" [(ngModel)]="paymentData.mobileNo"\r\n                        formControlName="mobileNo">\r\n                    <input type="hidden" class="form-control" [(ngModel)]="paymentData.emailId"\r\n                        formControlName="emailId">\r\n                    <input type="hidden" class="form-control" [(ngModel)]="paymentData.paymentRemarks"\r\n                        formControlName="paymentRemarks">\r\n                        <input type="hidden" class="form-control" [(ngModel)]="encDataValue"\r\n                        formControlName="encData">\r\n                        <input type="hidden" class="form-control" [(ngModel)]="paymentGatewayValue"\r\n                            formControlName="paymentGateway">\r\n\r\n\r\n                </div>\r\n\r\n                <div class="card-body ">\r\n                    <div class="alert alert-danger text-center" *ngIf="paymentFailed">\r\n                        {{paymentMsg}}\r\n                    </div>\r\n                    <div class="alert alert-danger font-weight-bold text-center">\r\n                        <h2 class="text-danger text-big mb-0">\u201cPLEASE DO NOT PRESS BACK OR REFRESH\u201d FROM THIS POINT\r\n                            ONWARDS.</h2>\r\n                    </div>\r\n                    <div class="alert alert-danger" *ngIf="errorCheck">\r\n                        <strong><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Error</strong> Something\r\n                        went wrong!\r\n                    </div>\r\n                    <div class="alert alert-success" *ngIf="successCheck">\r\n                        <strong><i class="fa fa-check" aria-hidden="true"></i> </strong> Form Submitted Successfully!\r\n                    </div>\r\n                    \x3c!-- <div class="row">\r\n                        <div class="col-md-12">\r\n                            <p>Note: Only SB Collect will accept, SB collect has online payment facility through any\r\n                                bank, credit card, debit card. No other model(e.g. IMPS, Mobile wallet, UPI etc.) will\r\n                                be accepted or considred against your application</p>\r\n                        </div>\r\n\r\n                    </div> --\x3e\r\n\r\n\r\n\r\n                    <div class="row">\r\n\r\n                        <div class="col-md-4">\r\n\r\n                            <div class="title col-md-12  mt-2 mb-1 Title_y">Payment Details</div>\r\n                            <div class="col-md-12 pt-4 pb-4 bg-light">\r\n                                <div class="form-group">\r\n            \r\n                                    <label class="control-label">   Payment head </label>\r\n                                    \r\n                                    <input type="text" class="form-control" readonly\r\n                                        value="{{paymentData.registraionType}}" placeholder="">\r\n                                      \r\n                                      \r\n                                </div>\r\n                                \r\n                                <div class="form-group">\r\n                                    <label class="control-label">GujRERA Unique Token Number<sup>*</sup></label>\r\n                                    <input type="text" class="form-control" readonly placeholder=""\r\n                                        formControlName="paymentTokenNo" [(ngModel)]="paymentData.tokenNo" />\r\n\r\n                                        \r\n                                    <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                                aria-hidden="true"></i> please enter text</small>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="form-group">\r\n                                    <label class="control-label">Amount (<i class="fa fa-inr" aria-hidden="true"></i>) (A)<sup>*</sup></label>\r\n                                    <input type="hidden" class="form-control" readonly placeholder=""\r\n                                        formControlName="reqAmount" [(ngModel)]="paymentData.amount" />\r\n\r\n\r\n                                        <input type="text" class="form-control" readonly [value]="transformAmount(paymentData.amount)" />\r\n\r\n\r\n                                    <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                                aria-hidden="true"></i> please enter text</small></div>\r\n\r\n                                </div>\r\n                                \r\n                                <div class="form-group">\r\n                                    <label class="control-label">Addl. Amount (<i class="fa fa-inr" aria-hidden="true"></i>) (B)<sup>*</sup>\r\n                                        \x3c!--<span class="badge badge-warning text-white">Effective from 1-October</span>--\x3e</label>\r\n                                    <input type="hidden" class="form-control" [(ngModel)]="paymentData.penaltyAmount" formControlName="reqPenaltyAmount" readonly>\r\n\r\n                                    <input type="text" class="form-control" readonly [value]="transformAmount(paymentData.penaltyAmount)" />\r\n                                </div>\r\n                                <div class="form-group">\r\n                                    <label class="control-label">Total Amount (<i class="fa fa-inr" aria-hidden="true"></i>) (A+B)<sup>*</sup></label>\r\n                                  \r\n                                        <input type="hidden" class="form-control" readonly\r\n                                        [(ngModel)]="paymentData.totalAmount" formControlName="reqTotalAmount"\r\n                                        required />\r\n\r\n                                        <input type="text" class="form-control" readonly [value]="transformAmount(paymentData.totalAmount)" />\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="col-md-8 customPaymentList">\r\n                            <app-payment-description></app-payment-description>\r\n\r\n                        </div>\r\n\r\n\r\n\r\n\r\n                    </div>\r\n\r\n                    <div class="row">\r\n                        <div class="col-md-12">\r\n                            <div class="title col-md-12  mt-2 mb-4 Title_y">Term & Condition</div>\r\n                            <div class="form-group">\r\n\r\n                                <label for="inputEmail3" class="control-label"><strong><input\r\n                                            formControlName="checkbox1" type="checkbox" class="mr-3">I agree to all\r\n                                        Terms and Condition defined by GUJRERA For using Online Payment Gateway Facility\r\n                                        using this Portal. The detailed T&amp;C can be found "Terms &amp; Conditions"\r\n                                        Section on this website.</strong></label>\r\n                                <label for="inputEmail3" class="control-label"><strong><input\r\n                                            formControlName="checkbox4" type="checkbox" class="mr-3">I verify that the\r\n                                        contents of the above sections are true to my personal knowledge and belief and\r\n                                        that I have not suppressed any material fact(s)</strong></label>\r\n                                        <label for="inputEmail3" class="control-label"><strong><input\r\n                                            formControlName="checkbox5" type="checkbox" class="mr-3">I agree to all Terms and Condition defined by GUJRERA for using Online Payment Gateway facility using this Portal <a href="/resources/staticpage/Gujrera_User_Manual_Grievance_Redressal_v1_External_Users.pdf" target="_blank" title="Click Here" class="text-danger font-weight-bold"> (here)</a>. I also agree to all Terms and Condition defined by <strong>Payment Gateway Service provider (SBI ePay or HDFC Payment Gateway - as may be applicable)</strong> for performing the payment transaction as you will experience in subsequent steps after this page.</strong></label>\r\n\r\n                            </div>\r\n\r\n\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                </div>\r\n            </div>\r\n            <div class="col-md-12 text-center mt-4">\r\n                <button type="button" class="btn btn-primary" (click)="goBack()">Previous</button>\r\n                <button type="button" *ngIf="checkPayment" [disabled]="uploadForm.invalid" class="btn btn-primary" id="paymentBtn"\r\n                    (click)="postPaymentDetails()"><i class="fa fa-spinner fa-spin text-white" *ngIf="loader"\r\n                        aria-hidden="true"></i>Submit</button>\r\n\r\n            </div>\r\n\r\n\r\n\r\n\r\n\r\n            \x3c!-- /.card-body --\x3e\r\n        </div>\r\n\r\n    </div>\r\n</form>\r\n\r\n\r\n<app-loader *ngIf="loadingSpinner"></app-loader>\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n<app-gateway-selection (gatewayOutput)="selectGatewayConfirm($event)" [gatewayInput]="openGatewayPop"></app-gateway-selection>'},"Fb+n":function(t,e,a){"use strict";a.r(e),e.default='.legend-text span {\n  padding-left: 15px;\n  margin-right: 30px;\n  position: relative;\n}\n\n.legend-text span::before {\n  position: absolute;\n  content: "";\n  height: 12px;\n  width: 12px;\n  border-radius: 8px;\n  background: #eff1f3;\n  left: 0;\n  top: 4px;\n}\n\n.legend-text span.open::before {\n  background: #32a761;\n}\n\n.legend-text span.submitted::before {\n  background: #007bff;\n}\n\n.legend-text span.exempt::before {\n  background: #ec7b0d;\n}\n\n.legend-text span.default::before {\n  background: #e43c3c;\n}\n\n.qprRow .qprText .qprCol.submitted .left {\n  background: #007bff;\n}\n\n.qprRow .qprText .qprCol.exempted .left {\n  background: #ec7b0d;\n}\n\n.qprRow .qprText .qprCol.defaulted .left {\n  background: #e43c3c;\n}\n\n.qprRow .qprText .qprCol.inactive .left {\n  background: #eff1f3;\n}\n\n.qprRow .qprText .qprCol.activeC .left {\n  background: #32a761;\n}\n\n.qprRow .qprText {\n  flex-wrap: wrap;\n}\n\n.qprTextCol {\n  width: 20%;\n  display: inline-block;\n}\n\n@media only screen and (max-width: 991px) {\n  .qprTextCol {\n    width: 25%;\n  }\n}\n\n@media only screen and (max-width: 767px) {\n  .qprTextCol {\n    width: 50%;\n  }\n\n  .qprRow .qprText {\n    flex-direction: row !important;\n  }\n}\n\n.showNote {\n  margin: 16px;\n  text-align: center;\n}'},JCbt:function(t,e,a){"use strict";a.r(e);var n=a("mrSG"),r=a("8Y7J"),o=a("SVse"),s=a("iInd"),i=a("FvaC"),l=a("vTBr"),c=function(){function t(e,a){_classCallCheck(this,t),this._http=e,this._apiURL=a}return _createClass(t,[{key:"getYearDetails",value:function(){return this._http.secureget(this._apiURL.reraCompRegistrationAPI+"agent_reg/secure/agent/work/get-auto-gent-y")}}]),t}();c.ctorParameters=function(){return[{type:l.a},{type:i.a}]},c=n.b([Object(r.B)({providedIn:"root"})],c);var d=function(){function t(e,a,n,r){var o=this;_classCallCheck(this,t),this._route=e,this._apiURL=a,this._httpServ=n,this._date=r,this.yearListdata=new Array,this.showLable=!1,this.getCurrentYear=function(){var t=o._date.transform(new Date,"yyyy"),e=o._date.transform(new Date,"M");["1","2","3"].includes(e)?o.currentFY=t:o.currentFY=parseInt(t)+1,o.yearListdata.length>0&&o.yearListdata.forEach((function(t){"ACTIVE"!=t.status&&"DEFAULT-ACTIVE"!=t.status||(o.showLable=!0)}))}}return _createClass(t,[{key:"ngOnInit",value:function(){sessionStorage.removeItem("yId"),sessionStorage.removeItem("agentRegNoTemp"),this.getYearDetails()}},{key:"getYearDetails",value:function(){var t=this;this._httpServ.getYearDetails().subscribe((function(e){t.yearListdata=e.data,console.log(t.yearListdata),t.getCurrentYear()}))}},{key:"goToYearlyDetailForm",value:function(t){sessionStorage.setItem("yId",t),sessionStorage.setItem("agentRegNoTemp",""),this._route.navigate(["agent/add-yearly-details"])}},{key:"goToYearlySubmittedDetailForm",value:function(t,e){sessionStorage.setItem("yId",t),sessionStorage.setItem("agentRegNoTemp",e),this._route.navigate(["agent/add-yearly-details"])}}]),t}();d.ctorParameters=function(){return[{type:s.e},{type:i.a},{type:c},{type:o.e}]},d=n.b([Object(r.n)({selector:"app-agent-yearly-details",template:n.c(a("r+iX")).default,styles:[n.c(a("Fb+n")).default]})],d);var p=a("s7LF"),u=function(){function t(e,a){_classCallCheck(this,t),this._http=e,this._apiURL=a}return _createClass(t,[{key:"getYearDetails",value:function(t){return this._http.secureget(this._apiURL.reraCompRegistrationAPI+"agent_reg/secure/agent/work/get-work-y-byid/"+t)}},{key:"postData",value:function(t){return this._http.securepost(this._apiURL.reraCompRegistrationAPI+"agent_reg/secure/agent/work/save-update-list-work-status-y",t)}},{key:"getProjectDetails",value:function(t){return this._http.securepost(this._apiURL.reraCompRegistrationAPI+"project_reg/secure/project-app/getproject-regNo",t)}},{key:"getUnitList",value:function(t){return this._http.secureget(this._apiURL.reraCompRegistrationAPI+"formthree/secure/get-fromthree-units-by-projectid/"+t)}},{key:"getPaymentRefence",value:function(t){return this._http.secureget(this._apiURL.payment+"secure/getPaymentByTrxNo/"+t)}}]),t}();u.ctorParameters=function(){return[{type:l.a},{type:i.a}]},u=n.b([Object(r.B)({providedIn:"root"})],u);var m=a("p87Y"),g=a("2Vo4"),y=a("+z1p"),h=function(){function t(e,a,n,r,o,s,i){var l=this;_classCallCheck(this,t),this._route=e,this._apiURL=a,this._httpServ=n,this._validation=r,this._fb=o,this.location=s,this.datePipe=i,this.Editor=y,this.projectRegNoArr=new Array,this.yearlyDataDetails=new Array,this.yearlyAgentWorkListArr=new Array,this.unitListDataArr=new Array,this.unitListTempArr=new Array,this.unitListDataTemp=new Array,this.unitArrVal=new Array,this.unitArrTempVal=new Array,this.loader=!1,this.inputJson=new g.a({}),this.errorMsg=!1,this.successMsg=!1,this.popMsg=!1,this.unitListData=[],this.displayaction=!1,this.actionClass=!1,this.isPaymentDoneOfThisProcess=!1,this.summarizedPaymentList=new Array,this.sendInBehaviou=new g.a([]),this.paymentRefrence=function(t,e){l._httpServ.getPaymentRefence(t).subscribe((function(t){if(console.log("aaaaaa"),null!=t.data){var a,n;n=(a=t.data.transactionDate.split("/"))[0]+"-"+a[1]+"-"+a[2],t.data.transactionDate=n,l.summarizedPaymentList[e]=t.data,l.sendInBehaviou.next(l.summarizedPaymentList)}}),(function(t){console.log(t)}))},this.clickToPrintApplication=function(){console.log("printSection"),l._route.navigate(["agent/print-yearly-details"])}}return _createClass(t,[{key:"ngOnInit",value:function(){this.downloadReciept=this._apiURL.paymentDownload+"downloadPatmentReciept/",this.isreadonly="",this.yId=sessionStorage.getItem("yId"),this.agentRegNoTemp=sessionStorage.getItem("agentRegNoTemp"),this.agentRegNoTemp&&(this.displayaction=!0,this.actionClass=!0),console.log(this.yId),console.log(this.agentRegNoTemp),this.getYearDetails(this.yId),this.projectRegNoArr=[],this.projectForm=this._fb.group({remark:new p.c("",[p.h.required]),yearId:new p.c(this.yId),agentWorkStatusList:this._fb.array([this.addProjectgroup()])})}},{key:"addProjectgroup",value:function(){return this._fb.group({projectRegNo:new p.c(null),projectId:new p.c(null),projectName:new p.c(null),startDate:new p.c(""),endDate:new p.c(""),yearlyId:new p.c(this.yId),unitsList:new p.c(null)})}},{key:"formSubmit",value:function(){for(var t=this,e=0;e<this.projectArray.length;e++){if(this.unitListDataTemp=[],this.unitListDataArr.length>0)for(var a=0;a<this.unitListDataArr.length;a++)this.unitListDataArr[a].key===e&&this.unitListDataTemp.push({flatNo:this.unitListDataArr[a].flatNo,blockName:this.unitListDataArr[a].blockName});this.projectForm.controls.agentWorkStatusList.controls[e].controls.unitsList.setValue(this.unitListDataTemp)}console.log(this.projectForm.value),console.log(this.projectForm.getRawValue()),this.popMsg=!0,this._httpServ.postData(this.projectForm.getRawValue()).subscribe((function(e){console.log(e),sessionStorage.setItem("yearlyId",e.data.yearlyId),t.projectForm.reset(),t._route.navigate(["agent/yearly-payment"])}),(function(e){t.loader=!1,t.successMsg=!1,t.errorMsg=!0,t.inputJson.next({popShow:!0,popMsg:e.error.message,popClass:"alert alert-danger",popRoute:""})}))}},{key:"getYearDetails",value:function(t){var e=this;this._httpServ.getYearDetails(t).subscribe((function(t){console.log("Get data by yId"),console.log(t);var a;if(null!==(a=t.data).payment?"ePAY_SENT"==a.payment.status?e.isPaymentDoneOfThisProcess=!1:(e.isPaymentDoneOfThisProcess=!0,e.paymentRefrence(a.payment.transactionNo,0)):e.isPaymentDoneOfThisProcess=!1,e.yearlyDataDetails=t.data,e.yearlyDataDetailsStartDate=t.data.startDate,e.yearlyDataDetailsEndDate=t.data.endDate,e.yearlyDataDetailsDisplayName=t.data.displayName,e.remark=t.data.remarks,e.status=t.data.status,e.yearlyDataDetails.agentWorkList.length>0){e.yearlyAgentWorkListArr=[];for(var n=0;n<e.yearlyDataDetails.agentWorkList.length-1;n++)e.projectArray.push(e.addProjectgroup());e.unitListDataArr=[];for(var r=0;r<e.yearlyDataDetails.agentWorkList.length;r++){e.getUnitList(e.yearlyDataDetails.agentWorkList[r].projectId,r),e.projectRegNoArr.push(e.yearlyDataDetails.agentWorkList[r].projectRegNo),e.yearlyAgentWorkListArr.push({projectRegNo:e.yearlyDataDetails.agentWorkList[r].projectRegNo,projectId:e.yearlyDataDetails.agentWorkList[r].projectId,projectName:e.yearlyDataDetails.agentWorkList[r].projectName,startDate:e.datePipe.transform(e.yearlyDataDetails.agentWorkList[r].startDate,"yyyy-MM-dd"),endDate:e.datePipe.transform(e.yearlyDataDetails.agentWorkList[r].endDate,"yyyy-MM-dd")});for(var o=0;o<e.yearlyDataDetails.agentWorkList[r].unitsList.length;o++)e.unitListDataArr.push({key:r,flatNo:e.yearlyDataDetails.agentWorkList[r].unitsList[o].flatNo,blockName:e.yearlyDataDetails.agentWorkList[r].unitsList[o].blockName}),e.unitListTempArr.push(e.yearlyDataDetails.agentWorkList[r].unitsList[o].blockName+"-"+e.yearlyDataDetails.agentWorkList[r].unitsList[o].flatNo);e.projectForm.controls.agentWorkStatusList.controls[r].controls.projectRegNo.disable(),e.projectForm.controls.agentWorkStatusList.controls[r].controls.projectName.disable(),e.projectForm.controls.agentWorkStatusList.controls[r].controls.startDate.disable(),e.projectForm.controls.agentWorkStatusList.controls[r].controls.endDate.disable()}console.log("unit list-"),console.log(e.unitArrVal),e.projectArray.patchValue(e.yearlyAgentWorkListArr)}}),(function(t){console.log(t),e.isPaymentDoneOfThisProcess=!1}))}},{key:"searchProjectDetails",value:function(t){var e=this;if(-1===this.projectRegNoArr.indexOf(this.projectForm.controls.agentWorkStatusList.value[t].projectRegNo)){var a={regno:this.projectForm.controls.agentWorkStatusList.value[t].projectRegNo};console.log(a),this._httpServ.getProjectDetails(a).subscribe((function(a){e.getUnitList(a.data.projectId,t),console.log(a),e.isreadonly="readonly",e.projectForm.controls.agentWorkStatusList.controls[t].controls.projectName.setValue(a.data.projectName),e.projectForm.controls.agentWorkStatusList.controls[t].controls.projectId.setValue(a.data.projectId),e.projectForm.controls.agentWorkStatusList.controls[t].controls.projectRegNo.setValue(e.projectForm.controls.agentWorkStatusList.value[t].projectRegNo),e.projectForm.controls.agentWorkStatusList.controls[t].controls.startDate.setValue(e.dateFormatChange(a.data.projectStartDate)),e.projectForm.controls.agentWorkStatusList.controls[t].controls.endDate.setValue(e.dateFormatChange(a.data.projectEndDate)),e.projectForm.controls.agentWorkStatusList.controls[t].controls.projectRegNo.disable(),e.projectForm.controls.agentWorkStatusList.controls[t].controls.projectName.disable(),e.projectForm.controls.agentWorkStatusList.controls[t].controls.startDate.disable(),e.projectForm.controls.agentWorkStatusList.controls[t].controls.endDate.disable(),e.projectRegNoArr.push(e.projectForm.controls.agentWorkStatusList.value[t].projectRegNo)}),(function(a){console.log("error"),console.log(a),e.inputJson.next({popShow:!0,popMsg:"Please enter valid RERA Registration No.",popClass:"alert alert-danger",popRoute:""}),e.isreadonly="",e.projectForm.controls.agentWorkStatusList.controls[t].controls.projectRegNo.setValue(""),e.projectForm.controls.agentWorkStatusList.controls[t].controls.projectName.setValue(""),e.projectForm.controls.agentWorkStatusList.controls[t].controls.projectId.setValue(""),e.projectForm.controls.agentWorkStatusList.controls[t].controls.startDate.setValue(""),e.projectForm.controls.agentWorkStatusList.controls[t].controls.endDate.setValue("")}))}else this.inputJson.next({popShow:!0,popMsg:"RERA Registration No. already added",popClass:"alert alert-danger",popRoute:""})}},{key:"getUnitList",value:function(t,e){var a=this;this._httpServ.getUnitList(t).subscribe((function(t){a.unitArrTempVal=[],a.unitListData=t.data,console.log("unit list"),console.log(a.unitListData);for(var n=0;n<a.unitListData.length;n++)a.unitArrTempVal.push({flatNo:a.unitListData[n].flatNo,blockName:a.unitListData[n].blockName});a.unitArrVal[e]=a.unitArrTempVal})),console.log("-----+-----"),console.log(this.unitArrVal)}},{key:"addProjectDetails",value:function(){this.isreadonly="",this.projectArray.push(this.addProjectgroup())}},{key:"removeProjectDetails",value:function(t){for(var e=0;e<this.unitListDataArr.length;e++)this.unitListDataArr[e].key===t&&(this.unitListDataArr.splice(e,1),e=-1);for(var a=0;a<this.unitListDataArr.length;a++)this.unitListDataArr[a].key>t&&(this.unitListDataArr[a].key=this.unitListDataArr[a].key-1);this.projectArray.removeAt(t),this.projectRegNoArr.splice(t,1),this.unitListTempArr.splice(t,1),this.unitArrVal.splice(t,1),console.log(this.unitListDataArr)}},{key:"selectUnit",value:function(t,e,a,n){if(!0===n.target.classList.contains("un-booked"))this.unitListDataArr.push({key:a,flatNo:t,blockName:e}),n.target.classList.remove("un-booked");else{for(var r=0;r<this.unitListDataArr.length;r++)this.unitListDataArr[r].key==a&&this.unitListDataArr[r].flatNo==t&&this.unitListDataArr[r].blockName==e&&this.unitListDataArr.splice(r,1);n.target.classList.add("un-booked")}console.log(this.unitListDataArr)}},{key:"goBack",value:function(){this.location.back()}},{key:"openToolTip",value:function(t,e){}},{key:"dateFormatChange",value:function(t){console.log(t),console.log("changed date");var e=t.split("-").map(Number);return e[0]<10&&(e[0]="0"+e[0]),e[1]<10&&(e[1]="0"+e[1]),console.log(e[2]+"-"+e[1]+"-"+e[0]),e[2]+"-"+e[1]+"-"+e[0]}},{key:"projectArray",get:function(){return this.projectForm.get("agentWorkStatusList")}}]),t}();h.ctorParameters=function(){return[{type:s.e},{type:i.a},{type:u},{type:m.a},{type:p.b},{type:o.h},{type:o.e}]},h=n.b([Object(r.n)({selector:"app-agent-add-yearly-details",template:n.c(a("+MAC")).default,providers:[o.e],styles:[n.c(a("p77N")).default]})],h);var v=function(){function t(e,a){_classCallCheck(this,t),this._http=e,this._apiURL=a}return _createClass(t,[{key:"getPaymentDetailsService",value:function(t){return this._http.secureget(this._apiURL.reraCompRegistrationAPI+"/agent_reg/secure/work/payment/details/agent/"+t)}},{key:"postPaymentDetailsService",value:function(t){return this._http.post(this._apiURL.payment+"savePaymentDetail",t)}},{key:"encPaymentDetailsService",value:function(t){return this._http.post(this._apiURL.payment+"encDataForSecurePay",t)}}]),t}();v.ctorParameters=function(){return[{type:l.a},{type:i.a}]},v=n.b([Object(r.B)({providedIn:"root"})],v);var f=function(){function t(e,a){_classCallCheck(this,t),this._apiURL=e,this._http=a,this.paymentFaild=new g.a({})}return _createClass(t,[{key:"postPaymentResultService",value:function(t){return this._http.securepost(this._apiURL.reraCompRegistrationAPI+"/agent_reg/secure/work/payment/modify",t)}},{key:"PaymentReceipt",value:function(t){return this._apiURL.payment+"downloadPatmentReciept/"+t}}]),t}();f.ctorParameters=function(){return[{type:i.a},{type:l.a}]},f=n.b([Object(r.B)({providedIn:"root"})],f);var b=a("R/mc"),D=function(){function t(e,a,n,r,o,s){var i=this;_classCallCheck(this,t),this._securePayment=e,this._router=a,this._paymentService=n,this._validation=r,this._payResultService=o,this.location=s,this.loadingSpinner=!1,this.inputJson=new g.a({}),this.openGatewayPop=new g.a({}),this.loader=!1,this.errorMsg=!1,this.successCheck=!1,this.errorCheck=!1,this.paymentFailed=!1,this.transactionalData=new g.a({}),this.showVerification=!1,this.showReceipt=!0,this.checkPaymentActivity=!0,this.checkPayment=!0,this.setObserVableValue=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";i.transactionalData.next({registrationType:e,processName:t,processId:i.yearlyId,redirectUrl:a}),i.showVerification=!0},this.outPutHandle=function(t){console.log("outPutHandle",t),i.showReceipt=t.payMentDone>-1,t.hidePayButton>-1?(i.checkPayment=!1,i.showVerification=!0):(i.checkPayment=!0,i.showVerification=!1)}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.paymentData={paymentId:"",amount:"",penaltyAmount:"",totalAmount:"",processName:"",registraionType:"",processId:"",userName:"",mobileNo:"",emailId:"",paymentRemarks:""},this.yearlyId=sessionStorage.getItem("yearlyId"),console.log(this.yearlyId),this.uploadForm=new p.d({paymentId:new p.c(null,[p.h.required]),paymentTokenNo:new p.c(null,[p.h.required]),reqAmount:new p.c(null,[p.h.required]),reqPenaltyAmount:new p.c(null,[p.h.required]),reqTotalAmount:new p.c(null,[p.h.required]),processName:new p.c(null),registraionType:new p.c(null),processId:new p.c(null,[p.h.required]),redirectUrl:new p.c("/agent/yearly-payment-result"),userName:new p.c(null),mobileNo:new p.c(null),emailId:new p.c(null),paymentRemarks:new p.c(null),checkbox1:new p.c("",[p.h.requiredTrue]),checkbox4:new p.c("",[p.h.requiredTrue]),checkbox5:new p.c("",[p.h.requiredTrue]),encData:new p.c(null),paymentGateway:new p.c(null)}),this._payResultService.paymentFaild.subscribe((function(e){console.log(e),t.paymentFailed=e.show,t.paymentMsg=e.message})),this.getPaymentDetails()}},{key:"getPaymentDetails",value:function(){var t=this;this.loadingSpinner=!0,console.log(this.yearlyId),this._paymentService.getPaymentDetailsService(this.yearlyId).subscribe((function(e){t.loadingSpinner=!1,console.log("payment details"),console.log(e),t.paymentData=e.data,t.paymentData.processName="Regulatory Compliance Fees",t.paymentData.registraionType="Agent Annual Return Fees",t.setObserVableValue("Regulatory Compliance Fees","Agent Annual Return Fees","agent/yearly-details"),t.paymentData.userName=t.paymentData.firstName+" "+(null!=t.paymentData.middelName?t.paymentData.middelName:"")+" "+t.paymentData.lastName,console.log(t.paymentData),sessionStorage.setItem("paymentId",e.data.paymentId),setTimeout((function(){t.encDataForSecurePay()}),1e3)}),(function(e){t.loadingSpinner=!1,console.log(e)}))}},{key:"encDataForSecurePay",value:function(){var t=this;this._paymentService.encPaymentDetailsService(this.uploadForm.value).subscribe((function(e){t.loadingSpinner=!1,t.encDataValue=e.data.encData}))}},{key:"selectGatewayConfirm",value:function(t){var e=this;this.loadingSpinner=!0,this.paymentGatewayValue=t,setTimeout((function(){e.savePaymentDetails()}),1e3)}},{key:"savePaymentDetails",value:function(){var t=this;this._paymentService.postPaymentDetailsService(this.uploadForm.value).subscribe((function(e){t._securePayment.secureData.next(e),t.loadingSpinner=!1,t._router.navigate(["secure-payment"])}),(function(e){t.inputJson.next({popShow:!0,popMsg:e.error.message,popClass:"alert alert-danger",popRoute:""}),console.log(e),t.loadingSpinner=!1}))}},{key:"postPaymentDetails",value:function(){this.openGatewayPop.next({openPop:!0})}},{key:"prevTab",value:function(){this._router.navigate(["agent/yearly-details"])}},{key:"ngDoCheck",value:function(){}},{key:"goBack",value:function(){this.location.back()}},{key:"transformAmount",value:function(t){return Number(t).toLocaleString("en-IN")}}]),t}();D.ctorParameters=function(){return[{type:b.a},{type:s.e},{type:v},{type:m.a},{type:f},{type:o.h}]},D=n.b([Object(r.n)({selector:"app-yearly-payment",template:n.c(a("Ervm")).default,styles:[n.c(a("C1Dh")).default]})],D);var k=a("dkfh"),A=function(){function t(e,a,n,r){var o=this;_classCallCheck(this,t),this._payConfirm=e,this._apiURL=a,this._router=n,this._payResultService=r,this.allData={message:"",class:""},this.clickToPrintApplication=function(){o._router.navigate(["agent/print-yearly-details"])}}return _createClass(t,[{key:"ngOnInit",value:function(){this.postPaymentResult()}},{key:"postPaymentResult",value:function(){var t=this;this._payConfirm.setData.subscribe((function(e){console.log("postpayment result"),console.log(e);var a={paymentId:e.paymentId,sbiReferanceNo:e.sbiReferenceNo,transactionNo:e.resTransactionNo,tokenNo:e.paymentTokenNo,status:e.status,yStatusId:e.processId};t.transNo=e.resTransactionNo,t.downloadp=t._apiURL.paymentDownload+"downloadPatmentReciept/"+t.transNo,console.log(a),t._payResultService.postPaymentResultService(a).subscribe((function(e){console.log(e.data.paymentStatus),"SUCCESS"==e.data.paymentStatus||"BOOKED"==e.data.paymentStatus?(t.allData={message:"Payment is successful and Annual return is submitted",class:"alert alert-success"},sessionStorage.setItem("agentRegNoTemp",sessionStorage.getItem("agentId"))):"PENDING"==e.data.paymentStatus?t.allData={message:e.message,class:"alert alert-warning"}:(t._payResultService.paymentFaild.next({show:!0,message:e.message}),t._router.navigate(["agent/yearly-details"])),console.log(e)}),(function(t){console.log(t)}))}))}}]),t}();A.ctorParameters=function(){return[{type:k.a},{type:i.a},{type:s.e},{type:f}]},A=n.b([Object(r.n)({selector:"app-yearly-payment-result",template:n.c(a("AHku")).default,styles:[n.c(a("6Dwq")).default]})],A);var w=function(){function t(e,a){_classCallCheck(this,t),this._reraService=e,this._apiURL=a}return _createClass(t,[{key:"getAgentYearlyData",value:function(t){return this._reraService.secureget(this._apiURL.reraCompRegistrationAPI+"/agent_reg/secure/agent/work/get-yearly-success-list")}},{key:"getAgentYearlyDataAll",value:function(t){return this._reraService.secureget(this._apiURL.reraCompRegistrationAPI+"/agent_reg/secure/agent/work/get-yearly-success-list-alter-all")}}]),t}();w.ctorParameters=function(){return[{type:l.a},{type:i.a}]},w=n.b([Object(r.B)({providedIn:"root"})],w);var N=function(){function t(e,a,n){_classCallCheck(this,t),this._route=e,this._httpService=a,this._router=n,this.allagentListData=1,this.challan=1,this.loadingSpinner=!1,this.inputJson=new g.a({}),this.tableJsonData=new g.a({}),this.paginationCount=10}return _createClass(t,[{key:"ngOnInit",value:function(){this.getData()}},{key:"getData",value:function(){var t=this;this.loadingSpinner=!0,this.agentList=[],this._httpService.getAgentYearlyDataAll({yearlyStatus:"SUCCESS"}).subscribe((function(e){"200"==e.status&&(console.log(e),t.agentList=e.data,t.filterDataArray=t.agentList,t.dataArray=t.agentList,t.tableSortFilter(null,null,null,"default")),t.loadingSpinner=!1}),(function(e){t.loadingSpinner=!1,console.log(e),t.inputJson.next({popShow:!0,popMsg:"something went wrong",popClass:"alert alert-danger",popRoute:""})}))}},{key:"viewDetails",value:function(t,e){sessionStorage.setItem("yId",t),sessionStorage.setItem("agentRegNoTemp",e),this._route.navigate(["agent/add-yearly-details"])}},{key:"tableSortFilter",value:function(t,e,a,n){this.sortData="default"==n?{sortType:"DESC",key:"submissionDate",typ:"date",sort:n}:{sortType:t,key:e,typ:a,sort:n};var r={headers:[{key:"agentRegNo",label:"Registration Number",type:"string"},{key:"agentName",label:"Agent Name",type:"string"},{key:"regType",label:"Registration Type",type:"string"},{key:"yearName",label:"Year Name",type:"string"},{key:"isDefaulter",label:"Is Defaulter",type:"string"},{key:"defaulterId",label:"Defaulter ID",type:"string"},{key:"penalityAmt",label:"Additional Amount",type:"string"},{key:"remarks",label:"Remarks",type:"string"},{key:"startDate",label:"Start Date",type:"date"},{key:"endDate",label:"End Date",type:"date"},{key:"extendeddate",label:"Extended Date",type:"date"},{key:"submissionDate",label:"Submission Date",type:"date"},{key:"status",label:"Status",type:"string"}],actualArray:this.agentList,sortData:this.sortData};this.tableHeader=r.headers,this.tableJsonData.next({exportJson:r}),console.log(r)}},{key:"filterValue",value:function(t){console.log(t),this.filterDataArray=t.filterArray,this.sortData=t.sort,this.getPageNo(1)}},{key:"getPageNo",value:function(t){var e=this;this.currentPageNo=t,this.filterDataArray.length>9&&(this.paginationCount=10*t),0==this.filterDataArray.length&&(this.paginationCount=0),setTimeout((function(){document.querySelector("#foo1").querySelector(".pagination-next").classList.contains("disabled")&&(e.paginationCount=e.filterDataArray.length)}),100)}},{key:"transformAmount",value:function(t){return Number(t).toLocaleString("en-IN")}}]),t}();N.ctorParameters=function(){return[{type:s.e},{type:w},{type:s.e}]},N=n.b([Object(r.n)({selector:"app-agent-yearly-view",template:n.c(a("0o99")).default,styles:[n.c(a("ifra")).default]})],N);var x=function(){function t(e,a){var n=this;_classCallCheck(this,t),this._reraService=e,this._apiURL=a,this.getWfoIdLatestByAgentId=function(t){return n._reraService.secureget(n._apiURL.agentApI+"/secure/agent/docs/wfo/get-agent-approved-records-details/"+t)},this.exemptAnnualReturn=function(t){return n._reraService.secureget(n._apiURL.agentApI+"/secure/agent/docs/wfo/update-yearly-status-byid/"+t)}}return _createClass(t,[{key:"getAgentYearlyData",value:function(t){return this._reraService.securepost(this._apiURL.reraCompRegistrationAPI+"/agent_reg/secure/agent/work/get-all-agent-list",t)}},{key:"conditionalListOfData",value:function(t){return this._reraService.post(this._apiURL.AgentRegAPI+"agent/public/get-all-agent-list",t)}},{key:"postData",value:function(t){return this._reraService.securepost(this._apiURL.reraCompRegistrationAPI+"/agent_reg/secure/agent/work/reopen-one-agent",t)}},{key:"postDataMultiple",value:function(t){return this._reraService.securepost(this._apiURL.reraCompRegistrationAPI+"/agent_reg/secure/agent/work/reopen-multi-agent",t)}},{key:"checkAgentRERA_Application",value:function(t,e){return this._reraService.secureget(this._apiURL.agentApI+"/secure/agent/docs/wfo/get-agentregno-by-Id/"+e+"/"+t)}}]),t}();x.ctorParameters=function(){return[{type:l.a},{type:i.a}]},x=n.b([Object(r.B)({providedIn:"root"})],x);var S=function(){function t(e,a,n,r,o){var s=this;_classCallCheck(this,t),this._route=e,this.datepipe=a,this._httpService=n,this._router=r,this._fb=o,this.allagentListData=1,this.challan=1,this.agentList=new Array,this.loadingSpinner=!1,this.inputJson=new g.a({}),this.hideme=[],this.newArray=new Array,this.selected_rows=new Array,this.loader=!1,this.district="Gujarat",this.hostingForDefaulter=[],this.tableJsonData=new g.a({}),this.currentPageNo=1,this.paginationCount=10,this.configPages={id:"advanced",itemsPerPage:10,currentPage:1},this.comingFromDashboard=!0,this.additionaLfunction=function(){var t=new Date,e=t.getFullYear(),a=t.getMonth(),n=t.getDate();s.date_1="2017-04-01";var r=a+1;r=r<=9?"0"+r:r;var o=n;if(o=o<=9?"0"+o:o,s.date_2=e+"-"+r+"-"+o,console.log("current Date",s.date_2),"DASHBOARD"==sessionStorage.getItem("AAshowType")){var i=sessionStorage.getItem("AAstatusFor");s.statusFor=sessionStorage.getItem("AAstatusFor"),s.date_1=sessionStorage.getItem("AAdate_1"),s.date_2=sessionStorage.getItem("AAdate_2"),s.district=sessionStorage.getItem("AAdistrict"),s.listType="DEFAULT"==i||"DEFAULTED"==i?"DEFAULT":"TOTAL"==i?"all":i,s.onChangeMethod(i),s.comingFromDashboard=!0}else s.comingFromDashboard=!1,s.onChangeMethod("TOTAL");if(s.comingFromDashboard){var l=a+1;l=l<=9?"0"+l:l;var c=n;c=c<=9?"0"+c:c,s.date_2=e+"-"+l+"-"+c}else{var d=a+1;d=d<=9?"0"+d:d;var p=n;p=p<=9?"0"+p:p,s.date_2=e+10+"-"+d+"-"+p}},this.onChangeMethod=function(t){s.statusFor=t,s.listType="DEFAULT"==t||"DEFAULTED"==t?"DEFAULT":t;var e={all:"any",statusFor1:t,statusFor2:t,statusFor3:t,statusFor4:t,statusFor5:t,statusFor6:t,date1:s.date_1,date2:s.date_2,district1:s.district,district2:s.district};s.getListOfData(e)},this.getListOfData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.loadingSpinner=!0,s.agentList=[],s.filterDataArray=[],s.tableSortFilter(null,null,null,null),s._httpService.conditionalListOfData(t).subscribe((function(t){"200"==t.status&&(s.agentList=t.data,s.filterDataArray=t.data,s.tableSortFilter(null,null,null,null),"DEFAULT"==s.listType&&(s.hostingForDefaulter=t.data)),s.loadingSpinner=!1}),(function(t){s.loadingSpinner=!1,console.log(t),s.inputJson.next({popShow:!0,popMsg:"something went wrong",popClass:"alert alert-danger",popRoute:""})}))},this.getWfoIdLatestByAgentId=function(t){s._httpService.getWfoIdLatestByAgentId(t).subscribe((function(e){"200"==e.status&&s.clickToPrint(t,e.data.id),console.log("res by the agent id",e)}),(function(t){console.error("fetching latest details",t)}))},this.clickToPrint=function(t,e){sessionStorage.setItem("agentId",t),sessionStorage.setItem("AGwfoId",e),s._httpService.checkAgentRERA_Application(t,e).subscribe((function(t){if("200"==t.status){var e;e=t.data.updatedOn;var a=new Date(e),n=a.getFullYear(),r=a.getMonth(),o=a.getDate(),i=new Date(n+5,r,o),l=s.datepipe.transform(i,"dd-MM-yyyy");sessionStorage.setItem("ag_reg_old",t.data.agentRegistrationNo),sessionStorage.setItem("ag_reg_cert",t.data.agentRegCertUID),sessionStorage.setItem("ag_reg_next_date",l),s._router.navigate(["agent-app/agent/print-agent-form-j"])}else sessionStorage.removeItem("ag_reg_old"),sessionStorage.removeItem("ag_reg_cert"),sessionStorage.removeItem("ag_reg_next_date"),s._router.navigate(["agent-app/agent/print-agent-form-g"])}),(function(t){sessionStorage.removeItem("ag_reg_old"),sessionStorage.removeItem("ag_reg_cert"),sessionStorage.removeItem("ag_reg_next_date"),s._router.navigate(["agent-app/agent/print-agent-form-g"]),console.log(t)}))},this.exemptThis=function(t,e){s._httpService.exemptAnnualReturn(e).subscribe((function(t){"200"==t.status?(s.additionaLfunction(),s.inputJson.next({popShow:!0,popMsg:"Annual Return is mark as exempted successfully.",popClass:"alert alert-success",popRoute:""})):s.inputJson.next({popShow:!0,popMsg:"Something went wrong.",popClass:"alert alert-danger",popRoute:""})}),(function(t){console.error("exempt",t),s.inputJson.next({popShow:!0,popMsg:"Something went wrong.",popClass:"alert alert-danger",popRoute:""})}))},this.checkRemark=function(t){return null!=t&&t.split(" ").length>14},this.amountChange=function(t){if(null!=t)return Number(t).toLocaleString("en-IN")}}return _createClass(t,[{key:"ngOnInit",value:function(){this.todayDate=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.projectForm=new p.d({defaulterDate:new p.c(null),defaulterId:new p.c(null),defaulterNo:new p.c(null),extendDate:new p.c("",[p.h.required]),reOpenBy:new p.c(null),reOpenDate:new p.c(null),reOpenPenalityAmt:new p.c("",[p.h.required]),remarks:new p.c("",[p.h.required]),yStatus:new p.c(null)}),this.additionaLfunction()}},{key:"addProjectgroup",value:function(){return this._fb.group({defaulterDate:new p.c(null),defaulterId:new p.c(null),defaulterNo:new p.c(null),extendDate:new p.c("",[p.h.required]),reOpenBy:new p.c(null),reOpenDate:new p.c(null),reOpenPenalityAmt:new p.c("",[p.h.required]),remarks:new p.c("",[p.h.required]),yStatus:0})}},{key:"getData",value:function(t){var e=this;this.loadingSpinner=!0,this.agentList=[],this.filterDataArray=[],this.tableSortFilter(null,null,null,"default");var a={yearlyStatus:t};console.log(a),this._httpService.getAgentYearlyData(a).subscribe((function(a){"200"==a.status&&(e.listType=t,console.log(a),e.agentList=a.data,e.agentList.map((function(t){return t.isDefaulter="DEFAILT"==t.yearlyStatus?"Yes":"No"})),e.filterDataArray=a.data,e.tableSortFilter(null,null,null,"default"),console.log(e.agentList.length)),e.loadingSpinner=!1}),(function(t){e.loadingSpinner=!1,console.log(t),e.inputJson.next({popShow:!0,popMsg:"something went wrong",popClass:"alert alert-danger",popRoute:""})}))}},{key:"formSubmit",value:function(){var t=this;console.log(this.projectForm.value),this._httpService.postData(this.projectForm.value).subscribe((function(e){console.log(e),t.projectForm.reset(),"200"==e.status?(t.inputJson.next({popShow:!0,popMsg:"Annual Return is opened successfully.",popClass:"alert alert-success",popRoute:""}),t.onChangeMethod(t.statusFor)):t.inputJson.next({popShow:!0,popMsg:e.message,popClass:"alert alert-danger",popRoute:""})}),(function(e){t.inputJson.next({popShow:!0,popMsg:e.error.message,popClass:"alert alert-danger",popRoute:""})}))}},{key:"formMultipleSubmit",value:function(){var t=this;if(0==this.selected_rows.length)return this.inputJson.next({popShow:!0,popMsg:"Please select multiple Default rows for re-opening.",popClass:"alert alert-danger",popRoute:""}),!1;var e=[],a=new Date;console.log(a);var n=this.datepipe.transform(new Date(a.getFullYear(),a.getMonth(),a.getDate()+20),"yyyy-MM-dd"),r=this.datepipe.transform(new Date(a.getFullYear(),a.getMonth(),a.getDate()+20),"dd-MM-yyyy");if(console.log(n),this.selected_rows.length>0)for(var o=0;o<this.selected_rows.length;o++)e.push({reOpenPenalityAmt:1e4,extendDate:n,reOpenDate:a,remarks:"Default Status has been reopened successfully with the penalty amount Rs 10,000 till date : "+r+".",yStatus:this.selected_rows[o]});console.log("multiple submit"),console.log(e),this._httpService.postDataMultiple(e).subscribe((function(e){console.log(e),"200"==e.status?(t.inputJson.next({popShow:!0,popMsg:"Default Status has been reopened successfully with the penalty amount Rs 10,000 till date : "+r+".",popClass:"alert alert-success",popRoute:""}),t.projectForm.reset(),t.loader=!1,t.onChangeMethod(t.statusFor)):t.inputJson.next({popShow:!0,popMsg:e.message,popClass:"alert alert-danger",popRoute:""})}),(function(e){t.inputJson.next({popShow:!0,popMsg:e.error.message,popClass:"alert alert-danger",popRoute:""})}))}},{key:"showInfo",value:function(t,e){this.hideme[t]=!this.hideme[t],this.Index=t,console.log(this.hideme[t]),console.log(this.Index),this.yearlId=e}},{key:"addProjectDetails",value:function(){this.projectArray.push(this.addProjectgroup())}},{key:"getCheckboxValues",value:function(t,e){var a={order:e},n=[];if(t.target.checked)this.newArray.push(a);else{var r=this.newArray.find((function(t){return t.order===e}));r&&this.newArray.splice(this.newArray.indexOf(r),1),0==this.newArray.length&&(this.newArray=[])}if(this.newArray.length>0)for(var o in this.newArray)n.push(this.newArray[o].order),this.selected_rows=n;else this.selected_rows=[];console.log(this.selected_rows)}},{key:"viewDetails",value:function(t,e){sessionStorage.setItem("yId",t),sessionStorage.setItem("agentRegNoTemp",e),this._route.navigate(["agent/add-yearly-details"])}},{key:"onPageChange",value:function(t){this.configPages.currentPage=t}},{key:"onPageBoundsCorrection",value:function(t){this.configPages.currentPage=t}},{key:"tableSortFilter",value:function(t,e,a,n){this.sortData="default"==n?{sortType:"DESC",key:"startDate",typ:"date",sort:n}:{sortType:t,key:e,typ:a,sort:n};var r={headers:[{key:"agentRegNo",label:"Registration Number",type:"string"},{key:"agentName",label:"Agent Name",type:"string"},{key:"regType",label:"Registration Type",type:"string"},{key:"yearName",label:"Year Name",type:"string"},{key:"dist",label:"District",type:"string"},{key:"isDefaulter",label:"Is Defaulter",type:"string"},{key:"ydefaulterId",label:"Defaulter ID",type:"string"},{key:"penalityAmt",label:"Re-opened Amount",type:"string"},{key:"extendeddate",label:"Extended Date",type:"date"},{key:"Authority Remarks",label:"Remarks",type:"string"},{key:"startDate",label:"Start Date",type:"date"},{key:"endDate",label:"End Date",type:"date"},{key:"yearlyStatus",label:"status",type:"date"}],actualArray:this.agentList,sortData:this.sortData};this.tableHeader=r.headers,this.tableJsonData.next({exportJson:r}),console.log(r)}},{key:"filterValue",value:function(t){console.log(t),this.filterDataArray=t.filterArray,this.sortData=t.sort,this.getPageNo(1)}},{key:"getPageNo",value:function(t){var e=this;this.currentPageNo=t,this.filterDataArray.length>9&&(this.paginationCount=10*t),0==this.filterDataArray.length&&(this.paginationCount=0),setTimeout((function(){document.querySelector("#foo1").querySelector(".pagination-next").classList.contains("disabled")&&(e.paginationCount=e.filterDataArray.length)}),100)}},{key:"projectArray",get:function(){return this.projectForm.get("agentWorkStatusList")}}]),t}();S.ctorParameters=function(){return[{type:s.e},{type:o.e},{type:x},{type:s.e},{type:p.b}]},S=n.b([Object(r.n)({selector:"app-agent-yearly-defaulted",template:n.c(a("boyo")).default,styles:[n.c(a("K4mn")).default]})],S);var L=function(){function t(e,a,n,r,o,s,i){var l=this;_classCallCheck(this,t),this._route=e,this._apiURL=a,this._httpServ=n,this._validation=r,this._fb=o,this.location=s,this.datePipe=i,this.Editor=y,this.projectRegNoArr=new Array,this.yearlyDataDetails=new Array,this.yearlyAgentWorkListArr=new Array,this.unitListDataArr=new Array,this.unitListTempArr=new Array,this.unitListDataTemp=new Array,this.unitArrVal=new Array,this.unitArrTempVal=new Array,this.loader=!1,this.inputJson=new g.a({}),this.errorMsg=!1,this.successMsg=!1,this.popMsg=!1,this.unitListData=[],this.displayaction=!1,this.actionClass=!1,this.isPaymentDoneOfThisProcess=!1,this.summarizedPaymentList=new Array,this.sendInBehaviou=new g.a([]),this.paymentRefrence=function(t,e){l._httpServ.getPaymentRefence(t).subscribe((function(t){if(console.log("aaaaaa"),null!=t.data){var a,n;n=(a=t.data.transactionDate.split("/"))[0]+"-"+a[1]+"-"+a[2],t.data.transactionDate=n,l.summarizedPaymentList[e]=t.data,l.sendInBehaviou.next(l.summarizedPaymentList)}}),(function(t){console.log(t)}))},this.clickToPrintApplication=function(){console.log("printSection"),window.print()}}return _createClass(t,[{key:"ngOnInit",value:function(){this.downloadReciept=this._apiURL.paymentDownload+"downloadPatmentReciept/",this.isreadonly="",this.yId=sessionStorage.getItem("yId"),this.agentRegNoTemp=sessionStorage.getItem("agentRegNoTemp"),this.agentRegNoTemp&&(this.displayaction=!0,this.actionClass=!0),console.log(this.yId),console.log(this.agentRegNoTemp),this.getYearDetails(this.yId),this.projectRegNoArr=[],this.projectForm=this._fb.group({remark:new p.c("",[p.h.required]),yearId:new p.c(this.yId),agentWorkStatusList:this._fb.array([this.addProjectgroup()])})}},{key:"addProjectgroup",value:function(){return this._fb.group({projectRegNo:new p.c(null),projectId:new p.c(null),projectName:new p.c(null),startDate:new p.c(""),endDate:new p.c(""),yearlyId:new p.c(this.yId),unitsList:new p.c(null)})}},{key:"formSubmit",value:function(){for(var t=this,e=0;e<this.projectArray.length;e++){if(this.unitListDataTemp=[],this.unitListDataArr.length>0)for(var a=0;a<this.unitListDataArr.length;a++)this.unitListDataArr[a].key===e&&this.unitListDataTemp.push({flatNo:this.unitListDataArr[a].flatNo,blockName:this.unitListDataArr[a].blockName});this.projectForm.controls.agentWorkStatusList.controls[e].controls.unitsList.setValue(this.unitListDataTemp)}console.log(this.projectForm.value),console.log(this.projectForm.getRawValue()),this.popMsg=!0,this._httpServ.postData(this.projectForm.getRawValue()).subscribe((function(e){console.log(e),sessionStorage.setItem("yearlyId",e.data.yearlyId),t.projectForm.reset(),t._route.navigate(["agent/yearly-payment"])}),(function(e){t.loader=!1,t.successMsg=!1,t.errorMsg=!0,t.inputJson.next({popShow:!0,popMsg:e.error.message,popClass:"alert alert-danger",popRoute:""})}))}},{key:"getYearDetails",value:function(t){var e=this;this._httpServ.getYearDetails(t).subscribe((function(t){console.log("Get data by yId"),console.log(t);var a;if(null!==(a=t.data).payment?"ePAY_SENT"==a.payment.status?e.isPaymentDoneOfThisProcess=!1:(e.isPaymentDoneOfThisProcess=!0,e.paymentRefrence(a.payment.transactionNo,0)):e.isPaymentDoneOfThisProcess=!1,e.yearlyDataDetails=t.data,e.yearlyDataDetailsStartDate=t.data.startDate,e.yearlyDataDetailsEndDate=t.data.endDate,e.yearlyDataDetailsDisplayName=t.data.displayName,e.remark=t.data.remarks,e.status=t.data.status,e.yearlyDataDetails.agentWorkList.length>0){e.yearlyAgentWorkListArr=[];for(var n=0;n<e.yearlyDataDetails.agentWorkList.length-1;n++)e.projectArray.push(e.addProjectgroup());e.unitListDataArr=[];for(var r=0;r<e.yearlyDataDetails.agentWorkList.length;r++){e.getUnitList(e.yearlyDataDetails.agentWorkList[r].projectId,r),e.projectRegNoArr.push(e.yearlyDataDetails.agentWorkList[r].projectRegNo),null==e.yearlyDataDetails.agentWorkList[r].projectRegNo&&null==e.yearlyDataDetails.agentWorkList[r].projectName?e.yearlyAgentWorkListArr.push({projectRegNo:"NA",projectId:"NA",projectName:"NA",startDate:"NA",endDate:"NA"}):e.yearlyAgentWorkListArr.push({projectRegNo:e.yearlyDataDetails.agentWorkList[r].projectRegNo,projectId:e.yearlyDataDetails.agentWorkList[r].projectId,projectName:e.yearlyDataDetails.agentWorkList[r].projectName,startDate:e.datePipe.transform(e.yearlyDataDetails.agentWorkList[r].startDate,"yyyy-MM-dd"),endDate:e.datePipe.transform(e.yearlyDataDetails.agentWorkList[r].endDate,"yyyy-MM-dd")}),e.yearlyAgentWorkListArr.push({projectRegNo:e.yearlyDataDetails.agentWorkList[r].projectRegNo,projectId:e.yearlyDataDetails.agentWorkList[r].projectId,projectName:e.yearlyDataDetails.agentWorkList[r].projectName,startDate:e.datePipe.transform(e.yearlyDataDetails.agentWorkList[r].startDate,"yyyy-MM-dd"),endDate:e.datePipe.transform(e.yearlyDataDetails.agentWorkList[r].endDate,"yyyy-MM-dd")});for(var o=0;o<e.yearlyDataDetails.agentWorkList[r].unitsList.length;o++)e.unitListDataArr.push({key:r,flatNo:e.yearlyDataDetails.agentWorkList[r].unitsList[o].flatNo,blockName:e.yearlyDataDetails.agentWorkList[r].unitsList[o].blockName}),e.unitListTempArr.push(e.yearlyDataDetails.agentWorkList[r].unitsList[o].blockName+"-"+e.yearlyDataDetails.agentWorkList[r].unitsList[o].flatNo);e.projectForm.controls.agentWorkStatusList.controls[r].controls.projectRegNo.disable(),e.projectForm.controls.agentWorkStatusList.controls[r].controls.projectName.disable(),e.projectForm.controls.agentWorkStatusList.controls[r].controls.startDate.disable(),e.projectForm.controls.agentWorkStatusList.controls[r].controls.endDate.disable()}console.log("unit list-"),console.log(e.unitArrVal),e.projectArray.patchValue(e.yearlyAgentWorkListArr)}}),(function(t){console.log(t),e.isPaymentDoneOfThisProcess=!1}))}},{key:"searchProjectDetails",value:function(t){var e=this;if(-1===this.projectRegNoArr.indexOf(this.projectForm.controls.agentWorkStatusList.value[t].projectRegNo)){var a={regno:this.projectForm.controls.agentWorkStatusList.value[t].projectRegNo};console.log(a),this._httpServ.getProjectDetails(a).subscribe((function(a){e.getUnitList(a.data.projectId,t),console.log(a),e.isreadonly="readonly",e.projectForm.controls.agentWorkStatusList.controls[t].controls.projectName.setValue(a.data.projectName),e.projectForm.controls.agentWorkStatusList.controls[t].controls.projectId.setValue(a.data.projectId),e.projectForm.controls.agentWorkStatusList.controls[t].controls.projectRegNo.setValue(e.projectForm.controls.agentWorkStatusList.value[t].projectRegNo),e.projectForm.controls.agentWorkStatusList.controls[t].controls.startDate.setValue(e.dateFormatChange(a.data.projectStartDate)),e.projectForm.controls.agentWorkStatusList.controls[t].controls.endDate.setValue(e.dateFormatChange(a.data.projectEndDate)),e.projectForm.controls.agentWorkStatusList.controls[t].controls.projectRegNo.disable(),e.projectForm.controls.agentWorkStatusList.controls[t].controls.projectName.disable(),e.projectForm.controls.agentWorkStatusList.controls[t].controls.startDate.disable(),e.projectForm.controls.agentWorkStatusList.controls[t].controls.endDate.disable(),e.projectRegNoArr.push(e.projectForm.controls.agentWorkStatusList.value[t].projectRegNo)}),(function(a){console.log("error"),console.log(a),e.inputJson.next({popShow:!0,popMsg:"Please enter valid RERA Registration No.",popClass:"alert alert-danger",popRoute:""}),e.isreadonly="",e.projectForm.controls.agentWorkStatusList.controls[t].controls.projectRegNo.setValue(""),e.projectForm.controls.agentWorkStatusList.controls[t].controls.projectName.setValue(""),e.projectForm.controls.agentWorkStatusList.controls[t].controls.projectId.setValue(""),e.projectForm.controls.agentWorkStatusList.controls[t].controls.startDate.setValue(""),e.projectForm.controls.agentWorkStatusList.controls[t].controls.endDate.setValue("")}))}else this.inputJson.next({popShow:!0,popMsg:"RERA Registration No. already added",popClass:"alert alert-danger",popRoute:""})}},{key:"getUnitList",value:function(t,e){var a=this;this._httpServ.getUnitList(t).subscribe((function(t){a.unitArrTempVal=[],a.unitListData=t.data,console.log("unit list"),console.log(a.unitListData);for(var n=0;n<a.unitListData.length;n++)a.unitArrTempVal.push({flatNo:a.unitListData[n].flatNo,blockName:a.unitListData[n].blockName});a.unitArrVal[e]=a.unitArrTempVal})),console.log("-----+-----"),console.log(this.unitArrVal)}},{key:"addProjectDetails",value:function(){this.isreadonly="",this.projectArray.push(this.addProjectgroup())}},{key:"removeProjectDetails",value:function(t){for(var e=0;e<this.unitListDataArr.length;e++)this.unitListDataArr[e].key===t&&(this.unitListDataArr.splice(e,1),e=-1);for(var a=0;a<this.unitListDataArr.length;a++)this.unitListDataArr[a].key>t&&(this.unitListDataArr[a].key=this.unitListDataArr[a].key-1);this.projectArray.removeAt(t),this.projectRegNoArr.splice(t,1),this.unitListTempArr.splice(t,1),this.unitArrVal.splice(t,1),console.log(this.unitListDataArr)}},{key:"selectUnit",value:function(t,e,a,n){if(!0===n.target.classList.contains("un-booked"))this.unitListDataArr.push({key:a,flatNo:t,blockName:e}),n.target.classList.remove("un-booked");else{for(var r=0;r<this.unitListDataArr.length;r++)this.unitListDataArr[r].key==a&&this.unitListDataArr[r].flatNo==t&&this.unitListDataArr[r].blockName==e&&this.unitListDataArr.splice(r,1);n.target.classList.add("un-booked")}console.log(this.unitListDataArr)}},{key:"goBack",value:function(){this.location.back()}},{key:"openToolTip",value:function(t,e){}},{key:"dateFormatChange",value:function(t){console.log(t),console.log("changed date");var e=t.split("-").map(Number);return e[0]<10&&(e[0]="0"+e[0]),e[1]<10&&(e[1]="0"+e[1]),console.log(e[2]+"-"+e[1]+"-"+e[0]),e[2]+"-"+e[1]+"-"+e[0]}},{key:"clickToBack",value:function(){window.history.back()}},{key:"projectArray",get:function(){return this.projectForm.get("agentWorkStatusList")}}]),t}();L.ctorParameters=function(){return[{type:s.e},{type:i.a},{type:u},{type:m.a},{type:p.b},{type:o.h},{type:o.e}]};var I=[{path:"yearly-details",component:d},{path:"add-yearly-details",component:h},{path:"yearly-payment",component:D},{path:"yearly-payment-result",component:A},{path:"yearly-view",component:N},{path:"yearly-view-default",component:S},{path:"print-yearly-details",component:L=n.b([Object(r.n)({selector:"app-print-agent-yearly-details",template:n.c(a("ogC2")).default,providers:[o.e],styles:[n.c(a("mIIO")).default]})],L)}],R=function t(){_classCallCheck(this,t)};R=n.b([Object(r.J)({imports:[s.f.forChild(I)],exports:[s.f]})],R);var _=a("ybvR"),C=a("4nBV"),P=a("PjcS"),j=a("KAPe"),T=a("pZus"),F=a("5c4+"),M=a("xkgV"),E=a("dTlI"),W=a("UPf0"),O=a("kdZ/"),U=a("5Hd9"),V=a("KD8B"),q=a("SBiz"),B=a("/qIY");a.d(e,"YearlyDetailsModule",(function(){return J}));var J=function t(){_classCallCheck(this,t)};J=n.b([Object(r.J)({declarations:[d,h,D,A,N,S,L],imports:[o.b,R,p.g,_.a,C.a,P.a,j.a,T.a,F.a,E.a,M.a,W.a,O.a,U.a,V.a,q.a,B.a],providers:[o.e]})],J)},K4mn:function(t,e,a){"use strict";a.r(e),e.default=""},boyo:function(t,e,a){"use strict";a.r(e),e.default='<div class="row mt-4 mb-8">\r\n  <div class="container-fluid">\r\n    <div class="row">\r\n      <div class="col-md-12">\r\n\r\n        <div class="card ">\r\n\r\n          \x3c!-- <div class="card-header"><b>All Complaint</b></div> --\x3e\r\n          \x3c!-- <form [formGroup]="SearchForm"> --\x3e\r\n          <div class="card-body">\r\n            <div class="row">\r\n\r\n              <div class="col-md-12">\r\n\r\n                <div class="col-md-3">\r\n                  <div class="form-group">\r\n                    \x3c!-- <label class="control-label font-weight-bold">Complaints Type</label> --\x3e\r\n                    <select class="form-control" (change)="onChangeMethod($event.target.value)">\r\n                      \x3c!-- <option value="">--Select--</option> --\x3e\r\n                      <option value="TOTAL" [selected]="listType==\'TOTAL\'">All</option>\r\n                      <option value="SUCCESS" [selected]="listType==\'SUCCESS\'">Submitted</option>\r\n                      <option value="DEFAULTED" [selected]="listType==\'DEFAULT\'">Defaulted</option>\r\n                      <option value="ACTIVE" [selected]="listType==\'ACTIVE\'">Active</option>\r\n                      <option value="INACTIVE" [selected]="listType==\'INACTIVE\'">InActive</option>\r\n                      <option value="EXEMPTED" [selected]="listType==\'EXEMPTED\'">Exempted</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n\r\n\r\n              </div>\r\n\r\n\r\n            </div>\r\n          </div>\r\n          \x3c!-- </form> --\x3e\r\n        </div>\r\n      </div>\r\n      <div class="col-md-12 mt-4">\r\n\r\n        <div class="card ">\r\n          <div class="d-flex justify-content-between align-items-center">\r\n            <h2>All Agent</h2>\r\n            <div class="tableTotalCount">Total Result - {{paginationCount}}/{{filterDataArray?.length}}</div>\r\n          </div>\r\n          \x3c!-- <div class="card-header"><b>All Agent </b></div> --\x3e\r\n          <div class="card-body">\r\n\r\n\r\n            <div class="table-responsive pb-2">\r\n              <app-filter-table [filterTableData]="{\'tableJson\':tableJsonData}" (myEvent)="filterValue($event)">\r\n              </app-filter-table>\r\n              <table class="table table-bordered text-center">\r\n\r\n                <thead>\r\n                  <tr class="bg-light  text-size-small text-center">\r\n                    <th>Sr.No.</th>\r\n                    <th>Select</th>\r\n                    <th *ngFor="let th of tableHeader">{{th.label}} <div class="sortTable">\r\n                        <a href="javascript:void(0)"\r\n                          [ngClass]="{\'active\':sortData.sortType==\'ASC\' && sortData.key==th.key}"\r\n                          (click)="tableSortFilter(\'ASC\', th.key, th.type,\'sort\')" class="upArrow"><i\r\n                            class="fas fa-arrow-up"></i></a>\r\n                        <a href="javascript:void(0)"\r\n                          [ngClass]="{\'active\':sortData.sortType==\'DESC\' && sortData.key==th.key}"\r\n                          (click)="tableSortFilter(\'DESC\', th.key, th.type,\'sort\')" class="downArrow"><i\r\n                            class="fas fa-arrow-down"></i></a>\r\n                      </div>\r\n                    </th>\r\n                    <th>Action</th>\r\n                  </tr>\r\n                </thead>\r\n\r\n\r\n                <ng-container *ngIf="filterDataArray?.length > 0; else agentList_notRecord">\r\n                  <tbody *ngFor="let compAll of filterDataArray | paginate: { id: \'foo1\', itemsPerPage: 10, currentPage: currentPageNo };let i = index">\r\n                    \x3c!-- <tr *ngFor="let compAll of agentList; let i = index"> --\x3e\r\n                    <tr>\r\n                      <td class="tabel-text-right">{{((currentPageNo-1)*10)+(i+1) }}  \r\n                      </td>\r\n                      <td>\r\n                        <ng-container *ngIf="compAll.yearlyStatus != \'DEFAULT\'; else _defaultShow">\r\n                          <ng-template>\r\n                            <input type="checkbox" disabled (change)="getCheckboxValues($event,compAll.yearlyId)"/>\r\n                          </ng-template>\r\n                          \r\n                        </ng-container>\r\n\r\n                        <ng-template #_defaultShow>\r\n                          <input type="checkbox" (change)="getCheckboxValues($event,compAll.yearlyId)"/>\r\n                        </ng-template>\r\n\r\n                      </td>\r\n                      <td>\r\n                        <a href="javascript:void(0)" class="link-text" (click)="getWfoIdLatestByAgentId(compAll.agentId)">\r\n                          {{compAll.agentRegNo }}\r\n                        </a>\r\n                      </td>\r\n                      <td>\r\n                        {{ compAll.agentName}}\r\n                      </td>\r\n                      <td>{{compAll.regType}}</td>\r\n\r\n\r\n                      <td>\r\n                        <ng-container *ngIf="(listType ==\'SUCCESS\'); else _noSubmission">\r\n                          <a href="javascript:void(0)" class="link-text" (click)="viewDetails(compAll.yearlyId,compAll.agentRegNo)">{{compAll.yearName }}</a>\r\n                      </ng-container>\r\n                      <ng-template #_noSubmission>\r\n                        {{compAll.yearName }}\r\n                      </ng-template>\r\n\r\n                       \r\n                      </td>\r\n                      <td>\r\n                        {{compAll.dist}}\r\n                      </td>\r\n                      <td>\r\n                        {{compAll.isDefaulter}}\r\n                      </td>\r\n                      <td>\r\n                        {{compAll.ydefaulterId}}\r\n                      </td>\r\n\r\n\r\n                      <td>\r\n                        {{amountChange(compAll.penalityAmt)}}\r\n                      </td>\r\n\r\n                      <td>\r\n                        {{compAll.extendeddate | date : \'dd-MM-yyyy\'}}\r\n                      </td>\r\n\r\n\r\n                      <td class="moreLinkTd">\r\n                        <div class="d-flex justify-content-between" *ngIf="compAll.remarks!=null">\r\n                        <div [ngClass]="{textViewMore: checkRemark(compAll.remarks)}">\r\n                          {{compAll.remarks}}\r\n                        </div> \r\n                        <a *ngIf="checkRemark(compAll.remarks)" class="link-color showMore" href="javascript:void()">View More</a> \r\n                        <a class="link-color hideMore" href="javascript:void()">Hide</a>\r\n                      </div>\r\n                      </td>\r\n\r\n\x3c!--                       \r\n                     \r\n                      <td>\r\n                        {{compAll.yrlremarks}}\r\n                      </td> --\x3e\r\n\r\n\r\n\r\n\r\n                      <td>{{compAll.startDate | date:"dd-MM-yyyy"}}</td>\r\n\r\n                      <td>{{compAll.endDate | date:"dd-MM-yyyy"}}</td>\r\n                      <td>{{compAll.yearlyStatus}}</td>\r\n\r\n\r\n                      <td>\r\n                        <ng-container *ngIf="(compAll.yearlyStatus ==\'DEFAULT\'); else _otherNo">\r\n                          <button *ngIf="!hideme[i]" class="btn btn-small bg-success text-white"\r\n                          (click)="showInfo(i,compAll.yearlyId)">Re-Open</button>\r\n                        <button *ngIf="hideme[i]" (click)="hideme[i] = !hideme[i]"\r\n                          class="btn btn-small bg-success text-white">Re-Open</button>\r\n                       \r\n                          <button class="btn btn-small bg-success text-white"\r\n                          (click)="exemptThis(i,compAll.yearlyId)">Exempt</button>\r\n                        </ng-container>\r\n\r\n                        <ng-template #_otherNo>--</ng-template>\r\n                        \r\n                      </td>\r\n\r\n\r\n                    </tr>\r\n           \r\n                    <tr *ngIf="hideme[i]==true" class="sub-table no-bg">\r\n\r\n                      <td colspan="11">\r\n                        <form [formGroup]="projectForm" id="validateFoem" class="headerBg">\r\n                          <div class="col-md-12">\r\n                            <div id="labels" class="card shadow">\r\n                              <div class="card-body">\r\n                                <div>\r\n                                  <div class="row">\r\n                                    <div class="form-group col-md-3">\r\n                                      <label class="control-label">Penalty Amount<sup>*</sup>\r\n                                      </label>\r\n                                    </div>\r\n                                    <div class="form-group col-md-3">\r\n                                      <input type="hidden" formControlName="yStatus" [(ngModel)]="yearlId">\r\n                                      <input type="number" class="form-control" formControlName="reOpenPenalityAmt">\r\n                                      <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                            aria-hidden="true"></i>\r\n                                          Please Enter Penalty Amount</small></div>\r\n                                    </div>\r\n\r\n                                  </div>\r\n                                  <div class="row">\r\n                                    <div class="form-group col-md-3">\r\n                                      <label class="control-label font-weight-bold">Extend till Date<sup>*</sup></label>\r\n                                    </div>\r\n                                    <div class="form-group col-md-3">\r\n                                      <input type="date" class="form-control" formControlName="extendDate" min="{{todayDate}}">\r\n                                      <div class="error-box"><small class="error">\r\n                                          <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please select\r\n                                          valid start date</small></div>\r\n                                    </div>\r\n                                  </div>\r\n                                  <div class="row">\r\n                                    <div class="form-group col-md-3">\r\n                                      <label class="control-label font-weight-bold">Authority\r\n                                        Remarks<sup>*</sup></label>\r\n                                    </div>\r\n                                    <div class="form-group col-md-3">\r\n                                      <textarea type="text" class="form-control" formControlName="remarks"></textarea>\r\n\r\n                                      <div class="error-box"><small class="error">\r\n                                          <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please Enter\r\n                                          Authority Remarks</small></div>\r\n                                    </div>\r\n                                  </div>\r\n\r\n                                  <div class="row text-center">\r\n                                    <div class="col-md-12 text-center mt-2 mb-4">\r\n\r\n                                      <button class="btn btn-primary" id="saveNext" (click)="formSubmit()"\r\n                                        [disabled]="this.projectForm.invalid"><i\r\n                                          class="fa fa-spinner fa-spin text-white" *ngIf="loader"\r\n                                          aria-hidden="true"></i>Confirm</button>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n\r\n                            </div>\r\n\r\n                          </div>\r\n\r\n\r\n                        </form>\r\n                      </td>\r\n                    </tr>\r\n                    \x3c!-- </ng-container> --\x3e\r\n                  </tbody>\r\n                </ng-container>\r\n                <ng-template #agentList_notRecord>\r\n                  <tbody>\r\n                    <tr class="text-center">\r\n                      <td colspan="16">\r\n                        <div class="alert alert-danger">No Record Found!</div>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </ng-template>\r\n\r\n              </table>\r\n\r\n\r\n              <div class="col-md-12 text-right" *ngIf="filterDataArray?.length > 0">\r\n                <pagination-controls id="foo1" (pageChange)="getPageNo($event)"></pagination-controls>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n\r\n        <div class="row text-center" *ngIf="(listType ==\'DEFAULT\')">\r\n          <div class="col-md-12 text-center mt-2 mb-4" *ngIf="agentList.length > 0">\r\n\r\n            <button class="btn btn-primary" id="" (click)="formMultipleSubmit()"><i\r\n                class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>All Re-open</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="row mt-4">\r\n  <div class="col-md-12 text-center"> <a href="#/mis-dashboard/mis-agent-annual-dashboard" title="Back"><button\r\n        class="btn btn-primary">Back</button></a></div>\r\n</div>\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n\r\n\r\n<app-loader *ngIf="loadingSpinner"></app-loader>'},ifra:function(t,e,a){"use strict";a.r(e),e.default=""},mIIO:function(t,e,a){"use strict";a.r(e),e.default=".bgRemove {\n  background: none;\n  border: none;\n  padding: 0 !important;\n  width: 100% !important;\n}\n\n.d-none {\n  display: none;\n}\n\n.width-100 {\n  width: 100% !important;\n}"},ogC2:function(t,e,a){"use strict";a.r(e),e.default='<div class="row">\r\n    <div class="col-md-12 text-center mb-4 title_text_2">Agent Work Details for {{yearlyDataDetailsDisplayName}}</div>\r\n    <div class="col-md-12 text-center mb-4 title_text_2">Start Date: {{yearlyDataDetailsStartDate | date:\'dd-MM-yyyy\'}} End Date: {{yearlyDataDetailsEndDate | date:\'dd-MM-yyyy\'}}</div>\r\n    </div>\r\n    <form [formGroup]="projectForm" id="validateFoem" class="headerBg">\r\n    \r\n    <div class="row mt-4" [ngClass]="[ actionClass ? \'actionClass\' : \'\']">\r\n      <div class="col-md-12">\r\n        <div id="labels" class="card shadow">\r\n          <div class="card-header">\r\n            <b>Agents Project</b>\r\n          </div>\r\n          <div class="card-body">\r\n            <div formArrayName="agentWorkStatusList">\r\n            <div *ngFor="let group of projectArray.controls; let i = index" [formGroupName]="i">\r\n              <div class="row mt-4">\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">Project Registration No.\r\n                    \x3c!-- <span class="tooltip-open" (click)="openToolTip($event, \'ECOURT_COMPLAINT_RERA_REG_NO\')" >?</span> --\x3e\r\n                  </label>\r\n                  <input class="form-control border-secondary py-2 width-100" type="search" formControlName="projectRegNo" class="bgRemove">\r\n                </div>\r\n                \x3c!-- <div class="form-group col-md-4">\r\n                  <div class="input-group">\r\n                    <input class="form-control border-secondary py-2" type="search" formControlName="projectRegNo" class="bgRemove">\r\n                    <div class="input-group-append d-none">\r\n                      <button class="btn btn-outline-secondary" type="button" (click)="searchProjectDetails(i)">\r\n                        <i class="icon-search-3"></i>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\r\n                      Please Enter Rera Registration No</small></div>\r\n                </div> --\x3e\r\n                <input class="form-control" type="hidden" formControlName="projectRegNo">\r\n                <input class="form-control" type="hidden" formControlName="projectId">\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">Project Name\r\n                    \x3c!-- <span class="tooltip-open" (click)="openToolTip($event, \'ECOURT_COMPLAINT_PROJECT_NAME\')" >?</span> --\x3e\r\n                  </label>\r\n                  <input type="text" class="form-control" formControlName="projectName" class="bgRemove width-100">\r\n                </div>\r\n                \x3c!-- <div class="form-group col-md-4">\r\n                  <input type="text" class="form-control" formControlName="projectName" class="bgRemove">\r\n                  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\r\n                      Please Enter Project Name</small></div>\r\n                </div> --\x3e\r\n    \r\n              </div>\r\n              <div class="row">\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label font-weight-bold">Start Date</label>\r\n                  <input type="text" class="form-control" formControlName="startDate" class="bgRemove width-100">\r\n                </div>\r\n                \x3c!-- <div class="form-group col-md-4">\r\n                    \r\n                  <input type="text" class="form-control" formControlName="startDate" class="bgRemove">\r\n                  <div class="error-box"><small class="error">\r\n                    <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please select valid start date</small></div>\r\n                </div> --\x3e\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label font-weight-bold">End Date</label>\r\n                  <input type="text" class="form-control" formControlName="endDate" class="bgRemove width-100">\r\n                </div>\r\n                \x3c!-- <div class="form-group col-md-3">\r\n                  <input type="text" class="form-control" formControlName="endDate" class="bgRemove">\r\n                  <div class="error-box"><small class="error">\r\n                    <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please select valid end date</small></div>\r\n                </div> --\x3e\r\n              </div>\r\n    \r\n              \x3c!----------------------------\x3e\r\n    \r\n              <div class="productPage">\r\n                <div class="prodtabContent">\r\n                  <div class="cbStatus">\r\n                    <div class="cbstatusBox">\r\n                      <div class="row">\r\n    \r\n                        <div class="col-md-12"><h2 class="title">\r\n                          <div *ngIf="status != \'SUCCESS\'">Select </div>&nbsp;\r\n                          Units Dealt with</h2></div>\r\n                      </div>\r\n                      <div class="blockUnite mt-0">\r\n                        <div class="row">\r\n                        <div class="col-sm-12 block p-0">\r\n                          <div class="content">\r\n                            <span *ngFor="let unit of unitArrVal[i]">\r\n                              <ng-container *ngIf="unitListTempArr.indexOf(unit.blockName + \'-\' + unit.flatNo) > -1;else NoBooked">\r\n                                <a class="unitNumber" href="javascript:void(0)" (click)="selectUnit(unit.flatNo, unit.blockName, i, $event)" data-title="{{unit.flatNo}}">{{unit?.blockName}} - {{unit?.flatNo}}</a>\r\n                              </ng-container>\r\n                              <ng-template #NoBooked>\r\n                                <a class="unitNumber un-booked" href="javascript:void(0)" (click)="selectUnit(unit.flatNo, unit.blockName, i, $event)" data-title="{{unit.flatNo}}">{{unit?.blockName}} - {{unit?.flatNo}}</a>\r\n                              </ng-template>\r\n                            </span>\r\n                          </div>\r\n                          \x3c!-- <div class="bottom">\r\n                            <span class="unBook">Unbooked</span>\r\n                            <span class="booked">Booked</span>\r\n                          </div> --\x3e\r\n                        </div>\r\n                      </div>\r\n                      </div>\r\n                      <div>Select Unit to confirm units dealt with in this period <br /><span class="bookedBG"></span> Units dealt with, <span class="unbookedBG"></span> Units not dealt with</div>\r\n    \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n    \r\n              \x3c!----------------------------\x3e\r\n              <div class="row mt-4 mb-4" *ngIf="displayaction === false">\r\n                <div class="col-md-12 text-right">\r\n                  <button *ngIf="projectArray.length > 1" class="btn btn-small bg-danger text-white" (click)="removeProjectDetails(i)">Delete</button>\r\n                </div>\r\n              </div>\r\n    \r\n            </div>\r\n            <div class="row mt-4 mb-4" *ngIf="displayaction === false">\r\n              <div class="col-md-12 text-right">\r\n                <button class="btn btn-small bg-success text-white" (click)="addProjectDetails()">Add More</button>\r\n              </div>\r\n            </div>\r\n            </div>\r\n          </div>\r\n          \x3c!-- /.card-body --\x3e\r\n        </div>\r\n    \r\n      </div>\r\n    </div>\r\n    \r\n    <div class="row mt-4 form-group">\r\n      <div class="col-md-12">\r\n        <div class="form-group">\r\n          <label class="control-label font-weight-bold">Remarks<sup>*</sup></label>\r\n          \x3c!-- <ckeditor [editor]="Editor" class="clauseslists" [config]="{ toolbar: [ \'heading\', \'|\', \'bold\', \'italic\', \'link\', \'bulletedList\', \'numberedList\', \'blockQuote\']}"  [(ngModel)]="remark" formControlName="remark" size=5 [disabled]="displayaction"></ckeditor>\r\n          <div class="error-box"><small class="error">\r\n            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please type remark</small></div> --\x3e\r\n            <div [innerHTML]="remark"></div>\r\n        </div>\r\n    \r\n      </div>\r\n    </div>\r\n    \r\n    \r\n    \r\n    \r\n    <div class="row mt-4 form-group" *ngIf="isPaymentDoneOfThisProcess">\r\n  <app-payment-view [paymentDataArray]="sendInBehaviou"></app-payment-view>\r\n\r\n      \x3c!-- <div class="col-md-12">\r\n          <div class="card shadow">\r\n        <div class="form-group">\r\n          <div class="card-header"><b >Payment</b></div>\r\n          <div class="row mt-4">\r\n            <div class="col-md-12">\r\n              <div *ngFor="let p of summarizedPaymentList; let ip = index">\r\n                <div class="card-body">\r\n                  <div class="row mb-4">\r\n                    <div class="col-md-4 mb-3">\r\n                      <label class="control-label font-weight-bold">Transaction No</label>\r\n                     \r\n                      <div>{{p?.transactionNo}}</div>\r\n                    </div>\r\n                    <div class="col-md-4 mb-3">\r\n                      <label class="control-label font-weight-bold">Unique Token Number</label>\r\n                      \r\n                        <div>{{p?.paymentTokenNo}}</div>\r\n                    </div>\r\n                    <div class="col-md-4 mb-3">\r\n                      <label class="control-label font-weight-bold">Status</label>\r\n                      <div>{{p?.status}}</div>\r\n                     \r\n                    </div>\r\n                    <div class="col-md-4 mb-3">\r\n                      <label class="control-label font-weight-bold">RERA Fees (A)</label>\r\n                     \r\n                      <div>{{p?.reqAmount}}</div>\r\n                    </div>\r\n    \r\n                    <div class="col-md-4 mb-3">\r\n                      <label class="control-label font-weight-bold">Penalty Amount</label>\r\n                      \r\n                        <div>{{p?.reqPenaltyAmount}}</div>\r\n                    </div>\r\n                    <div class="col-md-4 mb-3">\r\n                      <label class="control-label font-weight-bold">Total Amount</label>\r\n                      \r\n                        <div>{{p?.reqTotalAmount}}</div>\r\n                    </div>\r\n    \r\n                    <div class="col-md-4 mb-3">\r\n                      <label class="control-label font-weight-bold">Credited in RERA A/C</label>\r\n                      \r\n                      <div>{{p?.creditFlag}}</div>\r\n                    </div>\r\n                   \r\n                    <div class="col-md-4 mb-3">\r\n                      <label class="control-label font-weight-bold">Credited On</label>\r\n                      \r\n                        <div>{{p?.creditedOn | date : \'dd-MM-yyyy\'}}</div>\r\n                    </div>\r\n                    <div class="col-md-4 mb-3">\r\n                      <label class="control-label font-weight-bold">Payment Receipt</label>\r\n    \r\n                      <u>\r\n                        <a href="{{downloadReciept}}{{p?.transactionNo}}" class="cursor-pointer"\r\n                          title="Download Payment Receipt"><i class="icon icon-download green" aria-hidden="true"></i></a>\r\n                      </u>\r\n                      \r\n                    </div>\r\n                  </div>\r\n    \r\n    \r\n    \r\n    \r\n                </div>\r\n    \r\n     \r\n              </div>\r\n    \r\n            </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n\r\n      </div> --\x3e\r\n    </div>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n      <div class="row text-center"  *ngIf="displayaction === false">\r\n        <div class="col-md-12 text-center mt-2 mb-4">\r\n          <button class="btn btn-primary" (click)="goBack()">Previous</button>\r\n          <button class="btn btn-primary" id="saveNext" (click)="formSubmit()" [disabled]="this.projectForm.invalid"><i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i>Save & Next</button>\r\n        </div>\r\n      </div>\r\n    \r\n    </form>\r\n    <div class="row" *ngIf="isPaymentDoneOfThisProcess">\r\n      <div class="col-md-12 text-center">\r\n        <button (click)="clickToBack()" class="btn btn-small btn-success mr-4 printHide">Back</button>\r\n        <button (click)="clickToPrintApplication()" class="btn btn-small btn-success printHide">Print</button>\r\n      </div>\r\n    </div>\r\n    <app-validation-message [message]="inputJson"></app-validation-message>\r\n    '},p77N:function(t,e,a){"use strict";a.r(e),e.default='.actionClass button, .actionClass a {\n  pointer-events: none;\n  cursor: default;\n}\n\n.legend-text span {\n  padding-left: 15px;\n  margin-right: 30px;\n  position: relative;\n}\n\n.legend-text span::before {\n  position: absolute;\n  content: "";\n  height: 12px;\n  width: 12px;\n  border-radius: 8px;\n  background: #eff1f3;\n  left: 0;\n  top: 4px;\n}\n\n.legend-text span.green::before {\n  background: green;\n}\n\n.legend-text span.red::before {\n  background: red;\n}'},"r+iX":function(t,e,a){"use strict";a.r(e),e.default='<div class="container">\r\n  <div class="row">\r\n   <div class="col-md-12">\r\n    <div class="qprRow">\r\n    <div class="qprTitle">\r\n      <h3><span>Yearly Details</span></h3>\r\n    </div>\r\n    <div class="qprText">\r\n      <span *ngFor="let data of yearListdata; let i = index " class="qprTextCol">\r\n        <ng-container *ngIf="data?.status === \'ACTIVE\';else SUBMITTED">\r\n          <button class="qprCol activeC" (click)="goToYearlyDetailForm(data?.yearlyId)">\r\n            <div class="left">{{data?.displayName}}</div>\r\n            <div class="right"><div class="qprDate">{{data?.startDate | date:\'dd-MM-yyyy\'}}<br><span>to</span><br>{{data?.endDate | date:\'dd-MM-yyyy\'}}</div></div>\r\n          </button>\r\n        </ng-container>\r\n        <ng-template #SUBMITTED>\r\n          <ng-container *ngIf="data?.status === \'SUCCESS\';else NON_ACTIVE">\r\n            <button class="qprCol submitted" (click)="goToYearlySubmittedDetailForm(data?.yearlyId, data?.agentId)">\r\n              <div class="left">{{data?.displayName}}</div>\r\n              <div class="right"><div class="qprDate">{{data?.startDate | date:\'dd-MM-yyyy\'}}<br><span>to</span><br>{{data?.endDate | date:\'dd-MM-yyyy\'}}</div></div>\r\n            </button>\r\n          </ng-container>\r\n       </ng-template>\r\n        <ng-template #NON_ACTIVE>\r\n          <ng-container *ngIf="(data?.status === \'IN_ACTIVE\' || data?.status === \'SAVED\' || data?.status === \'INACTIVE\');else _SHOW_EXEMPTED">\r\n            <button class="qprCol inactive">\r\n              <div class="left">{{data?.displayName}}</div>\r\n              <div class="right"><div class="qprDate">{{data?.startDate | date:\'dd-MM-yyyy\'}}<br><span>to</span><br>{{data?.endDate | date:\'dd-MM-yyyy\'}}</div></div>\r\n            </button>\r\n          </ng-container>\r\n        </ng-template>\r\n        <ng-template #_SHOW_EXEMPTED>\r\n          <ng-container *ngIf="data?.status === \'EXEMPT\';else _SHOW_DEFAULTED">\r\n            <button class="qprCol exempted">\r\n              <div class="left">{{data?.displayName}}</div>\r\n              <div class="right"><div class="qprDate">{{data?.startDate | date:\'dd-MM-yyyy\'}}<br><span>to</span><br>{{data?.endDate | date:\'dd-MM-yyyy\'}}</div></div>\r\n            </button>\r\n          </ng-container>\r\n        </ng-template>\r\n\r\n        <ng-template #_SHOW_DEFAULTED>\r\n          <ng-container *ngIf="data?.status === \'DEFAULT\' || data?.status ===\'DEFAULTER\';">\r\n            <button class="qprCol defaulted">\r\n              <div class="left">{{data?.displayName}}</div>\r\n              <div class="right"><div class="qprDate">{{data?.startDate | date:\'dd-MM-yyyy\'}}<br><span>to</span><br>{{data?.endDate | date:\'dd-MM-yyyy\'}}</div></div>\r\n            </button>\r\n          </ng-container>\r\n        </ng-template>\r\n      </span>\r\n    </div>\r\n    <div class="bottom legend-text text-center" *ngIf="yearListdata.length > 0">\r\n      <span class="open">Active</span>\r\n      <span class="submitted">Submitted</span>\r\n      <span class="upcomming">InActive</span>\r\n      <span class="exempt">Exempted</span>\r\n      <span class="default">Default</span>\r\n    </div>\r\n    </div>\r\n   </div>\r\n</div>\r\n\r\n<div class="row" *ngIf="showLable">\r\n  <div class="col-md-12 pull-left showNote">\r\n    Note: Grace period of 7 days are provided to submit the Annual Return. Kindly file it by 07-04-{{currentFY}}\r\n  </div>\r\n</div>\r\n</div>\r\n'}}]);