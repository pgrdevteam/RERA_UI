function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_toPropertyKey(a.key),a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"+DlQ":function(e,t,n){"use strict";n.r(t),t.default='<div class="row">\r\n\r\n  <div class="col-md-12 mb-4 ">\r\n    <div class="card ">\r\n      <div class="card-body">\r\n      <div class="row">\r\n        <div class=" col-md-12">\r\n          \r\n        <div class="card-header d-flex justify-content-between align-items-center">\r\n          <h2><b>Payment Detail</b></h2>\r\n  \r\n          <div class="tableTotalCount">Total Result - {{paginationCount}}/{{filterDataArray?.length}}</div>\r\n          </div>\r\n            <div class="col-md-12" style="padding:1%">\r\n              <div class="row">\r\n                <h3><b>REFUND STATUS:</b></h3> &nbsp; &nbsp;\r\n                  <div class="radiobuttons">\r\n                      <input type="radio" name="checkUserAction"\r\n                        [(ngModel)]="optionValue" value="Under Approval"\r\n                        (change)="actionOfRadio($event)"><strong>Under Approval</strong>\r\n  \r\n                        &nbsp; &nbsp; &nbsp;<input type="radio" name="checkUserAction"\r\n                        [(ngModel)]="optionValue" value="Pending at AO"\r\n                        (change)="actionOfRadio($event)"><strong>Pending at AO</strong>\r\n  \r\n                        &nbsp; &nbsp; &nbsp;<input type="radio" name="checkUserAction"\r\n                        [(ngModel)]="optionValue" value="Pending at FO"\r\n                        (change)="actionOfRadio($event)"><strong>Pending at FO</strong>\r\n  \r\n                        &nbsp; &nbsp; &nbsp;<input type="radio" name="checkUserAction"\r\n                        [(ngModel)]="optionValue" value="Applied for Refund"\r\n                        (change)="actionOfRadio($event)"><strong>Applied for Refund</strong>\r\n  \r\n                        &nbsp; &nbsp; &nbsp;<input type="radio" name="checkUserAction"\r\n                        [(ngModel)]="optionValue" value="Completed"\r\n                        (change)="actionOfRadio($event)"><strong>Refunded</strong>\r\n  \r\n                        \r\n                        &nbsp; &nbsp; &nbsp;<input type="radio" name="checkUserAction"\r\n                        [(ngModel)]="optionValue" value="Rejected"\r\n                        (change)="actionOfRadio($event)"><strong>Rejected</strong>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n\r\n          <div class="table-responsive mt-4">\r\n            <app-loader *ngIf="loader"></app-loader>\r\n            <app-filter-table [filterTableData]="{\'tableJson\':tableJsonData}" (myEvent)="filterValue($event)"></app-filter-table>\r\n          <table class="table table-bordered text-center" #tableOpt id="myTableElementId">\r\n            <thead>\r\n              <tr class="bg-light  text-size-small text-center">\r\n                <th>S No.</th>\r\n                \r\n                  <th *ngFor="let th of tableHeader">{{th.label}} <div class="sortTable">\r\n                    <a href="javascript:void(0)" [ngClass]="{\'active\':sortData.sortType==\'ASC\' && sortData.key==th.key}" (click)="tableSortFilter(\'ASC\', th.key, th.type,\'sort\')" class="upArrow"><i class="fas fa-arrow-up"></i></a>\r\n                    <a href="javascript:void(0)" [ngClass]="{\'active\':sortData.sortType==\'DESC\' && sortData.key==th.key}" (click)="tableSortFilter(\'DESC\', th.key, th.type,\'sort\')" class="downArrow"><i class="fas fa-arrow-down"></i></a>\r\n                  </div>\r\n                </th>   \r\n                \r\n                <th>Action</th>\r\n  \r\n              </tr>\r\n          </thead>\r\n            <tbody *ngIf="filterDataArray?.length > 0; else noSearchRec">\r\n              <tr *ngFor="let data of filterDataArray| paginate: { id: \'foo1\', itemsPerPage: 10, currentPage: currentPageNo }; let i = index">\r\n                <td>{{i+1}}</td>\r\n                <td>{{data.registraionType}}</td>\r\n                <td><span *ngIf="data.paymentRemarks!=null"><a href="javascript:void(0)" class="link-color" (click)="openProjectDetails(data.projectId, data.registraionType, data)">{{data.paymentRemarks}}</a></span><span *ngIf="data.paymentRemarks==null">NA</span></td>\r\n                <td>{{data.projectName}}</td>\r\n               \r\n                <td class="text-right">{{data.userName}}</td>\r\n                <td class="text-right"><span *ngIf="data.reqPenaltyAmount!=null">{{data.reqPenaltyAmount}}</span><span *ngIf="data.reqPenaltyAmount==null">0</span> </td> \r\n                <td>{{data.trxMode}}</td>\r\n                <td>{{data.paymentGateway}}</td>\r\n                <td>{{data.paymentTokenNo}}</td>\r\n                <td>{{data.transactionNo}}</td>\r\n                <td>{{data.sbiReferenceNo}}</td>\r\n                <td>{{data.payMode}}</td>\r\n                <td>{{data.bankCode}}</td> \r\n                <td style="text-wrap: nowrap">{{data.createdOn | date : \'dd-MM-yyyy h:mm a\'}}</td>\r\n                <td>{{data.modeofRefund}}</td> \r\n                <td style="text-wrap: nowrap">{{data.dateofRefund | date : \'dd-MM-yyyy h:mm a\'}}</td>\r\n                <td class="text-right">{{data.reqTotalAmount}}</td>                \r\n                <td><span *ngIf="data.processName!=\'Withdrawal\' && data.processName!=\'Project Land Area Change\' && data.registraionType!=\'Registration - Online Enquiry\' && data.registraionType!=\'Alteration - Online Enquiry\'"><span *ngIf="data.transactionDate!=null">{{data.transactionDate | date : \'dd-MM-yyyy\'}}</span><span *ngIf="data.reqAmountnull">NA</span></span><span *ngIf="data.processName==\'Withdrawal\' || data.processName==\'Project Land Area Change\' || data.registraionType==\'Registration - Online Enquiry\' || data.registraionType==\'Alteration - Online Enquiry\'">{{data.reqAmount}}</span></td>\r\n                \x3c!-- <td>{{data.reqBy}}</td>\r\n                <td>{{data.reqOn}}</td> --\x3e\r\n                \x3c!-- <td>{{data.trxAge}}</td> --\x3e\r\n                <td style="text-wrap: nowrap">{{data.estdEndDateRefund | date : \'dd-MM-yyyy\'}}</td>\r\n                <td style="text-wrap: nowrap">{{data.remainingDays}}</td>\r\n                <td>{{data.refundStatus=="pending at AO"?"Pending at AO":data.refundStatus}}</td>\r\n                \r\n                \r\n                <td style="text-wrap: nowrap" class="d-flex">\r\n                  \r\n                  <a href="javascript:void(0);" (click)="viewDetails(data)" class="cursor-pointer mr-4" title="View Transaction">\r\n                    <i class="fa icon-eye" aria-hidden="true"></i>\r\n                  </a> \r\n                  <a href="javascript:void(0);" (click)="activityLog(data.projectId, data.registraionType,data.paymentRemarks,data.projectName,data.refundId,data.processId,data.userName)" class="cursor-pointer mr-4" title="Activity Log">\r\n                    <i class="fas fa-list" aria-hidden="true"></i>\r\n                  </a> \r\n                  \r\n                  <a *ngIf="optionValue===\'Pending at AO\' ||optionValue===\'underApproval\' " href="javascript:void(0)" (click)="refundProcess(data)" title="Create Refund" class="cursor-pointer mr-4">\r\n                    <i class="fas fa-rupee-sign" aria-hidden="true"></i>\r\n                  </a>\r\n                  \r\n                  <a href="{{downloadReciept}}{{data.transactionNo}}" class="cursor-pointer" title="Download Payment Receipt">\r\n                    <i class="icon icon-download green" aria-hidden="true"></i>\r\n                  </a>\r\n                 \r\n                </td>\r\n              </tr>\r\n\r\n\r\n            </tbody>\r\n            <ng-template #noSearchRec>\r\n            <tbody>\r\n              <tr>\r\n                <td class="text-center red" colspan="20">No Records Found</td>\r\n              </tr>\r\n            </tbody>\r\n            </ng-template>\r\n\r\n          </table>    \r\n             <div class="col-md-12 text-right" *ngIf="filterDataArray?.length > 0">\r\n            <pagination-controls id="foo1" (pageChange)="getPageNo($event)"></pagination-controls>\r\n          </div>\r\n        </div>\r\n      </div>\r\n        \x3c!-- <div class="col-md-12 text-right">\r\n          <pagination-controls id="foo1" (pageChange)="ca = $event"></pagination-controls>\r\n        </div> --\x3e\r\n\r\n\r\n      </div>\r\n    </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n\r\n  <div class="modal show" *ngIf="refund_rec">\r\n    <div class="modal-dialog modal-xl">\r\n      <div class="modal-content">\r\n\r\n        \x3c!-- Modal Header --\x3e\r\n        <div class="modal-header">\r\n          <h4 class="modal-title"><b>Create Refund Request</b> </h4>\r\n          <button type="button" (click)="closePopup()" class="close" data-dismiss="modal">&times;</button>\r\n        </div>\r\n\r\n\r\n        \x3c!-- Modal body --\x3e\r\n        <div class="modal-body">\r\n          <h3 class=""><b>Beneficiary & Payment Details</b></h3>\r\n\r\n\r\n\r\n\r\n<div class="row">\r\n\r\n  <div class="col-md-4 mb-4">\r\n    <label class="control-label font-weight-bold">User Name</label>\r\n    <input type="text" readonly class="form-control" value="{{refundDataVal?.userName}}">\r\n  </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Email Id</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.emailId}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Mobile No</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.mobileNo}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Project Name</label>\r\n            <input type="text" readonly class="form-control" value="{{projectNameDetailRefund}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Ack. No.</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.paymentRemarks}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Process Name</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.registraionType}}">\r\n          </div>\r\n          \r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Transaction Mode</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.trxMode}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Payment Gateway</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.paymentGateway}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            \r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> RERA Payment Token No</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.paymentTokenNo}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Gateway Reference No</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.sbiReferenceNo}}">\r\n          </div>\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> RERA Transaction No</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.transactionNo}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Payment Mode</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.payMode}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Origin Bank Name</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.bankCode}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Origin Bank Reference No</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.bankReferenceNo}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Payment Date</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.transactionDate}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Transaction Age (in Days)</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.trxAge}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            \r\n          </div>\r\n          \x3c!-- <div class="col-md-4 mb-4">\r\n            \r\n          </div> --\x3e\r\n          <div class="col-md-4 mb-4" *ngIf="!isTxnSuccessRefund">\r\n            <label class="control-label font-weight-bold"> Transaction Status</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.status}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4" *ngIf="!isTxnSuccessRefund">\r\n            <label class="control-label font-weight-bold"> Payment Failure Reason and Error</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.status}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4" *ngIf="!isTxnSuccessRefund">\r\n            \r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Payment Amount</label>\r\n            <input type="text" readonly class="form-control" [value]="transformAmount(refundDataVal?.reqAmount)">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Additional Payment Amount</label>\r\n            <input type="text" readonly class="form-control" [value]="transformAmount(refundDataVal?.reqPenaltyAmount)">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Total Payment Amount</label>\r\n            <input type="text" readonly class="form-control" [value]="transformAmount(refundDataVal?.reqTotalAmount)">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Credited Flag</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.creditFlag}}">\r\n          </div>\r\n          \r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Credited on</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.creditedOn | date : \'dd-MM-yyyy, h:mm a\'}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Payment Settlement No.</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.settledFileNo}}">\r\n          </div>\r\n          \r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Req. Refund Amount</label>\r\n            <input type="text" readonly class="form-control" value="{{requestAmount}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Estimated End Date of Refund</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.estdEndDateRefund | date : \'dd-MM-yyyy\'}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Remaining Days for Refund</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.remainingDays}}">\r\n          </div>\r\n\r\n          \x3c!-- <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Refund Status</label>\r\n            <input type="text" readonly class="form-control" value="{{refundDataVal?.refundStatus}}">\r\n          </div> --\x3e\r\n        </div>\r\n\r\n\r\n\r\n\r\n\r\n          <h3 class=""><b>Refund Form</b></h3>\r\n          <form [formGroup]="refundForm" id="validateFoem">\r\n            <input type="hidden" class="form-control" formControlName="paymentId" [(ngModel)]="paymentId">\r\n            <input type="hidden" class="form-control" formControlName="requestId" [(ngModel)]="rRequestId">\r\n            <div class="col-md-12">\r\n\r\n              <div class="col-md-4 mb-4">\r\n                <label class="control-label font-weight-bold">Refund Mode</label>\r\n                <input type="text" readonly class="form-control" formControlName="refundMode" [(ngModel)]="refundMode">\r\n              </div>\r\n\r\n              <div class="col-md-4 mb-4">\r\n                <label class="control-label font-weight-bold">Ticket No.</label>\r\n                <input type="text" class="form-control" formControlName="ticketNo" [(ngModel)]="ticketNo" (focusout)="checkTicketNoIsValidOrNot(ticketNo)">\r\n              </div>\r\n\r\n              <div class="col-md-4 mb-4">\r\n                <label class="control-label font-weight-bold">Ticket Query\r\n\r\n                  <a *ngIf="ticektInfo.attachmentUId!=null" href="{{downloadVdms}}{{ticektInfo.attachmentUId}}" title="Download Ticket Attachment">\r\n                    <i class="icon icon-download green"></i>\r\n                  </a>\r\n                </label>\r\n\r\n                <input type="hidden" formControlName="ticketAttachmentDocUID" [(ngModel)]="ticektInfo.attachmentUId">\r\n\r\n\r\n                <input type="text" readonly class="form-control" formControlName="ticketDescription" [(ngModel)]="ticektInfo.query">\r\n              </div>\r\n\r\n\r\n            </div>\r\n\r\n            <div class="col-md-12">\r\n\r\n\r\n              <div class="col-md-4 mb-4">\r\n                <label class="control-label font-weight-bold ">Reason<sup>*</sup></label>\r\n                <select *ngIf="setPaymentType==\'allPayment\'" class="form-control" formControlName="reason">\r\n                  <option value="">--Select--</option>\r\n                  <option value="Duplicate Payment">Duplicate Payment</option>\r\n                  <option value="Project Outside Planning area">Project Outside Planning area</option>\r\n                  <option value="Excess Payment">Excess Payment</option>\r\n                </select>\r\n                <input *ngIf="setPaymentType!=\'allPayment\'" type="text" class="form-control" readonly [(ngModel)]="processName" formControlName="reason">\r\n              </div>\r\n\r\n                <div class="col-md-4 mb-4">\r\n                  <label class="control-label font-weight-bold ">Refund Amount<sup>*</sup></label>\r\n                  <input type="text" class="form-control" [readonly]="setPaymentType==\'Withdrawal\'" formControlName="requestAmount" [(ngModel)]="requestAmount" (focusout)="paymentNotMoreThan(requestAmount,requestPenalty)" onKeyPress="if(this.value.length==12) return false;" (keydown)="allowNumericOnly($event)" (focus)="removeCommas(requestAmount,requestPenalty)">\r\n                </div>\r\n\r\n                <div class="col-md-4 mb-4">\r\n                  <label class="control-label font-weight-bold ">Additional Amount<sup>*</sup></label>\r\n                  <input type="text" class="form-control" [readonly]="setPaymentType==\'Withdrawal\'" formControlName="requestPenalty" [(ngModel)]="requestPenalty" (focusout)="paymentNotMoreThan(requestAmount,requestPenalty)" onKeyPress="if(this.value.length==12) return false;" (keydown)="allowNumericOnly($event)" (focus)="removeCommas(requestAmount,requestPenalty)">\r\n                </div>\r\n\r\n              </div>\r\n              <div class="col-md-12">\r\n\r\n\r\n                <div class="col-md-4 mb-4">\r\n                  <label class="control-label font-weight-bold ">Total Refund Amount<sup>*</sup></label>\r\n                  <input type="hidden" formControlName="ammount" [(ngModel)]="ammount">\r\n                  <input type="text" readonly class="form-control" [value]="transformAmount(ammount)">\r\n                </div>\r\n\r\n\r\n              <div class="col-md-4 mb-4">\r\n                <label class="control-label font-weight-bold ">Remarks<sup>*</sup></label>\r\n                \x3c!-- <input type="text" class="form-control" formControlName="remarks"> --\x3e\r\n\r\n                <textarea class="form-control" formControlName="remarks"></textarea>\r\n\r\n              </div>\r\n              <div class="col-md-4 mb-4">\r\n                <label class="control-label font-weight-bold">Supporting Documents(if any)</label>\r\n                <input type="hidden" [(ngModel)]="outputValue.supportingDocId" class="form-control" formControlName="supportingDocId" >\r\n                <app-file-upload (myEvent)="setValue($event)"\r\n                  [parm]="{apiType:\'NEW\', fileId:\'supportingDocId\',docId:docId4,staticDocId:\'docId4\',close:false,show:false,fileType:[\'pdf\']}">\r\n                </app-file-upload>\r\n            \r\n              </div>\r\n              <div class="col-md-4 mb-4" *ngIf="isOffline">\r\n                <label class="control-label font-weight-bold ">Payment Mode<sup>*</sup></label>\r\n                <input type="text" class="form-control" formControlName="paymentMode">\r\n                <select class="form-control">\r\n                  <option value="">--Select--</option>\r\n                  <option value="NEFT">NEFT</option>\r\n                  <option value="RTGS">RTGS</option>\r\n                  <option value="CHEQUE">Cheque</option>\r\n                  <option value="NETBANKING">Net Banking</option>\r\n                  <option value="DD">Demad Draft</option>\r\n                </select>\r\n              </div>\r\n              <div class="col-md-4 mb-4" *ngIf="isOffline">\r\n                <label class="control-label font-weight-bold ">Transaction No<sup>*</sup></label>\r\n                <input type="text" class="form-control" formControlName="transactionNo">\r\n              </div>\r\n\r\n              <div class="col-md-4 mb-4" *ngIf="isOffline">\r\n                <label class="control-label font-weight-bold ">Bank Name<sup>*</sup></label>\r\n                <input type="text" class="form-control" formControlName="bankName">\r\n              </div>\r\n              <div class="col-md-4 mb-4" *ngIf="isOffline">\r\n                <label class="control-label font-weight-bold ">Refunded On<sup>*</sup></label>\r\n                <input type="date" max="{{date | date:\'yyyy-MM-dd\'}}" class="form-control" placeholder=""\r\n                  formControlName="refundedOn">\r\n              </div>\r\n              <div class="col-md-4 mb-4" *ngIf="isOffline">\r\n                <label class="control-label font-weight-bold ">Scan Copy<sup>*</sup></label>\r\n                <input type="hidden" [ngModel]="outputValue.scanCopyId" formControlName="scanCopyId">\r\n                <app-file-upload (myEvent)="setValue($event)"\r\n                  [parm]="{fileId:\'scanCopyId\',docId:docId1,show:false,fileType:[\'pdf\',\'jpg\',\'jpeg\',\'png\']}">\r\n                </app-file-upload>\r\n                <div class="error-box"><small class="error">Please upload file</small></div>\r\n              </div>\r\n\r\n            </div>\r\n\r\n\r\n\r\n\r\n            <div class="col-md-12">\r\n              <div class=" col-md-12 mt-4 d-none">\r\n                <div class="form-check">\r\n                  <label class="form-check-label">\r\n                    <input type="checkbox" class="form-check-input" value="">&nbsp;&nbsp;I declare that\r\n                    the information provided by me is True & Correct.\r\n                  </label>\r\n\r\n                </div>\r\n              </div>\r\n              <div class=" col-md-12 mt-4 text-center">\r\n\r\n                \x3c!-- <button class="btn btn-small btn-primary" [disabled]="this.refundForm.invalid"\r\n                  (click)="refundSubmit()"><i class="fa fa-spinner fa-spin text-white" *ngIf="refundLoader" aria-hidden="true"></i> Submit </button> --\x3e\r\n\r\n\r\n                  <button class="btn btn-small btn-primary" [disabled]="this.refundForm.invalid"\r\n(click)="showConfirmation()"><i class="fa fa-spinner fa-spin text-white" *ngIf="refundLoader" aria-hidden="true"></i> Submit </button>\r\n              </div>\r\n\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<div class="modal show" *ngIf="modalPopup">\r\n  <div class="modal-dialog modal-xl">\r\n    <div class="modal-content">\r\n\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n        <h4 class="modal-title"><b>Transaction Details for Ack.No. {{allData?.paymentRemarks}}</b> </h4>\r\n        <button type="button" class="close" (click)="closePopup()" data-dismiss="modal">&times;</button>\r\n      </div>\r\n      <div class="modal-body">\r\n        <h3 class=""><b>Beneficiary & Payment Details</b></h3>\r\n        <div class="row">\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">User Name</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.userName}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Email Id</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.emailId}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Mobile No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.mobileNo}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Project Name</label>\r\n            <input type="text" readonly class="form-control" value="{{projectNameDetail}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Ack. No.</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.paymentRemarks}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Process Name</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.registraionType}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Transaction Mode</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.trxMode}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Payment Gateway</label>\r\n            <input type="text" readonly class="form-control" value="{{allData.paymentGateway}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n           \r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> RERA Payment Token No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.paymentTokenNo}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Gateway Reference No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.sbiReferenceNo}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> RERA Transaction No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.transactionNo}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Payment Mode</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.payMode}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Origin Bank Name</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.bankCode}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Origin Bank Reference No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.bankReferenceNo}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Payment Date</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.transactionDate}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Transaction Age (in Days)</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.trxAge}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n           \r\n          </div>\r\n          \x3c!-- <div class="col-md-4 mb-4">\r\n           \r\n          </div> --\x3e\r\n          <div class="col-md-4 mb-4" *ngIf="!isTxnSuccess">\r\n            <label class="control-label font-weight-bold"> Transaction Status</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.status}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4" *ngIf="!isTxnSuccess">\r\n            <label class="control-label font-weight-bold"> Payment Failure Reason and Error</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.status}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4" *ngIf="!isTxnSuccess">\r\n           \r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Payment Amount</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.reqAmount}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Additional Payment Amount</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.reqPenaltyAmount}}">\r\n          </div>\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Total Payment Amount</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.reqTotalAmount}}">\r\n          </div>\r\n          \x3c!-- <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Registraion Type</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.registraionType}}">\r\n          </div> --\x3e\r\n          \r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Credited Flag</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.creditFlag}}">\r\n          </div>\r\n          \r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Credited on</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.creditedOn | date : \'dd-MM-yyyy, h:mm a\'}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Payment Settlement No.</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.settledFileNo}}">\r\n          </div>\r\n          \r\n          \x3c!-- <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Refund Status</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.refundStatus}}">\r\n          </div>\r\n          \r\n --\x3e\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Req. Refund Amount</label>\r\n            <input type="text" readonly class="form-control" value="{{reqRefundForView}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Estimated End Date of Refund</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.estdEndDateRefund | date : \'dd-MM-yyyy\'}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Remaining Days for Refund</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.remainingDays}}">\r\n          </div>\r\n          \r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal show" *ngIf="activityPopup">\r\n  <div class="modal-dialog modal-xl">\r\n    <div class="modal-content" id="print-section">\r\n\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n        <h4 class="modal-title"><b>Activity Log For Ack. No. {{activityProjectAck}}</b> </h4>\r\n      \r\n      <div>\r\n        <button (click)="clickToPrint()" class="btn btn-small btn-success printHide">Print</button>&nbsp;&nbsp;\r\n        <button type="button" class="close" (click)="closePopup()" data-dismiss="modal">&times;</button>\r\n      </div>\r\n      </div>\r\n      <div class="modal-body">\r\n          <div class="coloumn">\r\n            <div class="coloumn" *ngFor="let data of getdata" >\r\n              \x3c!-- <div class="row activity-next moreLinkTd"> --\x3e\r\n                <div class="row mb-2">  \r\n                 \r\n                    <div class="col-md-5" [ngClass]="{textViewMore: data.remarks.split(\' \')?.length>=14}">Remarks : <strong>{{data.remarks}}</strong></div>\r\n                  <div class="col-md-7">\r\n                \r\n                  Reason : <span *ngIf="data.reason==\'RETURN\'">Enquiry/Return</span><span *ngIf="data.reason!=\'RETURN\'">{{data.reason}}</span>\r\n                  </div>\r\n              </div>\r\n            \x3c!-- </div> --\x3e\r\n              <div class="row mb-4">\r\n                <div class="col-md-5">Name : {{promoterName}}</div>\r\n                <div class="col-md-7"> Date : {{data.activityOn | date: \'dd-MM-yyyy, hh:mm a\'}}\r\n                </div>\r\n              </div>\r\n              \x3c!-- <div ><b>Remarks</b></div>\r\n               <div class="row">\r\n                  <div ><b>Reason</b></div>\r\n                  <div ><b>Date</b></div>\r\n               </div> --\x3e\r\n            </div>\r\n            <div class="card-header"><b> Payment History</b></div>\r\n            <table class="table table-bordered text-center" #tableOption id="myTableElementId1">\r\n              <thead>\r\n                <tr>\r\n                  <th>Application Type</th>\r\n                  \x3c!-- <th>Total Carpet/Land Area for Project Under Registration (Sq Mtrs)</th> --\x3e\r\n                  <th>Type</th>\r\n                  <th>Amount</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody *ngIf="getAllPaymentdata?.length > 0; else noSearchRecord">\r\n             \r\n                  <tr *ngFor="let data of getAllPaymentdata,let i = index">\r\n                    <td>{{data?.projectType}}</td>\r\n                    \x3c!-- <td>{{data?.carpetArea}}</td> --\x3e\r\n                    <td *ngIf="data?.feeType!=\'REFUND\'">Paid</td>\r\n                    <td *ngIf="data?.feeType==\'REFUND\'">Refund</td>\r\n                    <td>{{data?.areaFee}}</td>\r\n                  </tr>\r\n              \r\n              </tbody>\r\n              <ng-template #noSearchRecord>\r\n              <tbody>\r\n                <tr>\r\n                  <td class="text-center red" colspan="7">No Records Found</td>\r\n                </tr>\r\n              </tbody>\r\n              </ng-template>\r\n            </table>  \r\n            <div class="card-header"><b>Refund Activity Log</b></div>\r\n            <table class="table table-bordered text-left" #tableOpt id="myTableElementId">\r\n              <thead>\r\n                <tr class="bg-light  text-size-small text-left " style="text-wrap: nowrap">\r\n                  <th *ngFor="let th of activityHeader">{{th.label}}</th>   \r\n                </tr>\r\n            </thead>\r\n              <tbody *ngIf="activityLogData?.length > 0; else noSearchRec">\r\n                <tr *ngFor="let activity of activityLogData.reverse(),let i = index">\r\n                  <td>{{activity?.activityOn  ? (activity?.activityOn | date:\'dd/MM/yyyy HH:mm:ss\') : "NA"  }}</td>\r\n                  <td>{{activity?.activityByName ? activity?.activityByName:"NA"}}</td>\r\n                  <td>{{activity?.deptName ? activity?.deptName : "NA"}}</td>\r\n                  <td>{{activity?.stateName ? (activity?.stateName=="INIT_REFUND" ? "FORWARD" : (activity?.stateName=="APPLY_REFUND" ? "APPROVE" : (activity?.stateName=="REJECT" ? "REJECT" : "NA"))) : "NA"}}</td>\r\n                  <td>{{activity?.team ? activity?.team : "NA"}}</td>\r\n                  \x3c!-- <td>{{activity?.reason ? activity?.reason : "NA"}}</td> --\x3e\r\n                  <td>{{activity?.remarks ? activity?.remarks :"NA"}}</td>\r\n                </tr>\r\n              </tbody>\r\n              <ng-template #noSearchRec>\r\n              <tbody>\r\n                <tr>\r\n                  <td class="text-center red" colspan="7">No Records found</td>\r\n                </tr>\r\n              </tbody>\r\n              </ng-template>\r\n            </table>  \r\n            \x3c!-- <div class="col-md-12 text-right" *ngIf="activityLogData?.length > 0">\r\n              <pagination-controls id="foo1" (pageChange)="getPageNo($event)"></pagination-controls>\r\n            </div>  --\x3e\r\n          </div>\r\n      </div>\r\n      \r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="popup-overlay" *ngIf="modalOverlayPopup"></div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n\r\n\r\n<app-loader *ngIf="loadingSpinner"></app-loader>\r\n\r\n<app-confirmation-box (outEm)="confirmationEvent($event)" [showMessage]="confirmationEventB"></app-confirmation-box>'},"+t6M":function(e,t,n){"use strict";n.r(t),t.default=""},"0VMR":function(e,t,n){"use strict";n.r(t),t.default=""},"560Y":function(e,t,n){"use strict";n.r(t),t.default=".activity-box {\n  margin-bottom: 2%;\n}"},"5odX":function(e,t,n){"use strict";n.r(t),t.default='<div class="card-header d-flex justify-content-between align-items-center">\r\n  <h2><b>Refund List</b></h2>\r\n\r\n  <div class="tableTotalCount">Total Result - {{paginationCount}}/{{filterDataArray?.length}}</div>\r\n  </div>\r\n  <div class="col-md-12" style="padding:1%">\r\n    <div class="row">\r\n      <h3><b> REFUND STATUS:</b></h3>&nbsp; &nbsp;\r\n            <div class="radiobuttons">\r\n              <input type="radio" name="checkUserAction"\r\n                [(ngModel)]="optionValue" value="Pending at FO"\r\n                (change)="actionOfRefundStatus($event)"><strong>Pending at FO</strong>\r\n                &nbsp; &nbsp; &nbsp;<input type="radio" name="checkUserAction"\r\n                [(ngModel)]="optionValue" value="Pending at AO"\r\n                (change)="actionOfRefundStatus($event)"><strong>Pending at AO</strong>\r\n                \r\n                &nbsp; &nbsp; &nbsp;<input type="radio" name="checkUserAction"\r\n                [(ngModel)]="optionValue" value="Under Approval"\r\n                (change)="actionOfRefundStatus($event)"><strong>Under Approval</strong>\r\n\r\n                &nbsp; &nbsp; &nbsp;<input type="radio" name="checkUserAction"\r\n              [(ngModel)]="optionValue" value="Applied for Refund"\r\n              (change)="actionOfRefundStatus($event)"><strong>Applied for Refund</strong>\r\n\r\n              &nbsp; &nbsp; &nbsp;<input type="radio" name="checkUserAction"\r\n              [(ngModel)]="optionValue" value="Completed"\r\n              (change)="actionOfRefundStatus($event)"><strong>Refunded</strong>\r\n\r\n              \r\n              &nbsp; &nbsp; &nbsp;<input type="radio" name="checkUserAction"\r\n              [(ngModel)]="optionValue" value="Rejected"\r\n              (change)="actionOfRefundStatus($event)"><strong>Rejected</strong>\r\n            </div>\r\n    </div>\r\n  </div>\r\n\r\n<div class="row">\r\n  \r\n  <div class="col-md-12 mb-4">\r\n\r\n      <div class="row">\r\n\r\n        <div class=" col-md-12 ">\r\n          <div class="table-responsive ">\r\n        \r\n            <app-filter-table [filterTableData]="{\'tableJson\':tableJsonData}" (myEvent)="filterValue($event)"></app-filter-table>\r\n\r\n            \r\n          <table class="table table-bordered text-center">\r\n                \r\n    <thead>\r\n      \r\n                \r\n      <tr class="bg-light  text-size-small text-center">\r\n        <th>S No.</th>\r\n          <th *ngFor="let th of tableHeader">{{th.label}} <div class="sortTable">\r\n            <a href="javascript:void(0)" [ngClass]="{\'active\':sortData.sortType==\'ASC\' && sortData.key==th.key}" (click)="tableSortFilter(\'ASC\', th.key, th.type,\'sort\')" class="upArrow"><i class="fas fa-arrow-up"></i></a>\r\n            <a href="javascript:void(0)" [ngClass]="{\'active\':sortData.sortType==\'DESC\' && sortData.key==th.key}" (click)="tableSortFilter(\'DESC\', th.key, th.type,\'sort\')" class="downArrow"><i class="fas fa-arrow-down"></i></a>\r\n          </div>\r\n        </th> \r\n        <th>Action</th>\r\n      </tr>\r\n  </thead>\r\n            \x3c!-- <thead class="bg-light font-weight-bold">\r\n              <tr class="text-center bg-light  text-size-small">\r\n                <th>Payment Type</th>\r\n                <th>Token No</th>\r\n                <th>Transaction No</th>\r\n                <th>Ticket No</th>\r\n                <th>INR Amount(a)</th>\r\n                <th>INR Additional Amount(b)</th>\r\n                <th>INR Refund Applied(a+b)</th>\r\n                <th>INR Paid Amount</th>\r\n                <th>Initiated On</th>\r\n                <th>Action</th>\r\n\r\n              </tr>\r\n            </thead> --\x3e\r\n            <app-loader *ngIf="loadingSpinner"></app-loader>\r\n            <tbody *ngIf="filterDataArray?.length > 0 && this.optionValue == \'Pending at FO\'">\r\n              <tr *ngFor="let data of filterDataArray | paginate: { id: \'foo1\', itemsPerPage: 10, currentPage: currentPageNo };let i = index">\r\n               <td>{{i+1}}</td>\r\n                <td>{{data.paymentType}}</td>\r\n                <td><span *ngIf="data.paymentRemarks!=null"><a href="javascript:void(0)" class="link-color" (click)="openProjectDetails(data.projectId, data.processName, data)">{{data.paymentRemarks}}</a></span><span *ngIf="data.paymentRemarks==null">NA</span></td>\r\n                <td style="text-wrap: no-wrap;">{{data.projectName?data.projectName:\'NA\'}}</td>\r\n                <td>{{data.userName}}</td>\r\n                <td>{{data.mobileNo}}</td>\r\n                <td>{{data.processName == \'PROJECT_REG_ONLINE\'?\'Registration\'+" - Online Enquiry":data.processName == \'PROJECT_ALT_ONLINE\'?\'Alteration\'+" - Online Enquiry":data.processName}}</td>\r\n                <td>{{data.paymentMode}}</td>\r\n                <td>{{data.paymentGateway}}</td>\r\n                <td>{{data.paymentTokenNo}}</td>\r\n                <td>{{data.transactionRefNo}}</td>\r\n                <td>{{data.transactionDate}}</td>\r\n                <td>{{data.payMode}}</td>\r\n                \r\n                \r\n                <td>{{data.transactionNo}}</td>\r\n                <td class="tabel-text-right">{{transformAmount(data.paymentAmount)}}</td>\r\n                <td class="tabel-text-right">{{transformAmount(data.refundedAmount)}}</td>\r\n                <td class="tabel-text-right">{{transformAmount(data.penaltyAmount)}}</td>\r\n                <td class="tabel-text-right">{{transformAmount(data.totalAmount)}}</td>\r\n                <td class=" text-nowrap">{{data.refundInitDate | date : \'dd-MM-yyyy h:mm a\'}}</td>\r\n                <td>{{data.modeofRefund}}</td> \r\n                <td class=" text-nowrap">{{data.dateofRefund | date : \'dd-MM-yyyy\'}} </td>\r\n                \x3c!-- <td>{{data.trxAge}}</td> --\x3e\r\n                <td>{{data.estdEndDateRefund | date : \'dd-MM-yyyy\'}}</td>\r\n                <td>{{data.remainingDays}}</td>\r\n                <td>{{data.ticketNo?data.ticketNo:\'NA\'}}</td>\r\n                \r\n                <td>{{data.refundStatus==="pending at AO"?"Pending at AO":data.refundStatus}}</td>\r\n                <td style="white-space: nowrap" class="d-flex">\r\n                  \r\n                  <a href="javascript:void(0)" (click)="takeActionOnData(data)" title="Create Refund" class="cursor-pointer mr-4"> \r\n                    <i class="fas fa-rupee-sign" aria-hidden="true"></i>\r\n                  </a>\r\n                  <a href="javascript:void(0);" (click)="activityLog(data.projectId, data.processName,data.paymentRemarks,data.projectName,data.refundIdd,data.processId,data.userName, data)" class="cursor-pointer mr-4" title="Activity Log">\r\n                    <i class="fas fa-list" aria-hidden="true"></i>\r\n                  </a> \r\n                  <a href="{{downloadReciept}}{{data.transactionNo}}" class="cursor-pointer" title="Download Payment Receipt"><i class="icon icon-download green" aria-hidden="true"></i></a>\r\n                  \r\n\r\n                  \r\n                </td>\r\n              </tr>\r\n              \r\n            </tbody>\r\n            <tbody *ngIf="filterDataArray?.length > 0 && this.optionValue == \'Pending at AO\' || this.optionValue == \'Under Approval\' || this.optionValue == \'Applied for Refund\' || this.optionValue == \'Completed\' || this.optionValue == \'Rejected\' ">\r\n              <tr *ngFor="let data of filterDataArray| paginate: { id: \'foo1\', itemsPerPage: 10, currentPage: currentPageNo }; let i = index">\r\n                <td>{{i+1}}</td>\r\n                <td>{{data.registraionType}}</td>\r\n                <td><span *ngIf="data.paymentRemarks!=null"><a href="javascript:void(0)" class="link-color" (click)="openProjectDetails(data.projectId, data.registraionType)">{{data.paymentRemarks}}</a></span><span *ngIf="data.paymentRemarks==null">NA</span></td>\r\n                <td>{{data.projectName}}</td>\r\n               \r\n                <td class="text-right">{{data.userName}}</td>\r\n                <td class="text-right"><span *ngIf="data.reqPenaltyAmount!=null">{{data.reqPenaltyAmount}}</span><span *ngIf="data.reqPenaltyAmount==null">0</span> </td> \r\n                <td>{{data.trxMode}}</td>\r\n                <td>{{data.paymentGateway}}</td>\r\n                <td>{{data.paymentTokenNo}}</td>\r\n                <td>{{data.transactionNo}}</td>\r\n                <td>{{data.sbiReferenceNo}}</td>\r\n                <td>{{data.payMode}}</td>\r\n                <td>{{data.bankCode}}</td> \r\n                <td style="text-wrap: nowrap">{{data.createdOn | date : \'dd-MM-yyyy h:mm a\'}}</td>\r\n                <td>{{data.modeofRefund}}</td> \r\n                <td class=" text-nowrap">{{data.dateofRefund | date : \'dd-MM-yyyy\'}} </td>\r\n                <td class="text-right">{{data.reqTotalAmount}}</td>                \r\n                <td><span *ngIf="data.processName!=\'Withdrawal\' && data.processName!=\'Project Land Area Change\' && data.registraionType!=\'Registration - Online Enquiry\' && data.registraionType!=\'Alteration - Online Enquiry\'"><span *ngIf="data.transactionDate!=null">{{data.transactionDate }}</span><span *ngIf="data.reqAmountnull">NA</span></span><span *ngIf="data.processName==\'Withdrawal\' || data.processName==\'Project Land Area Change\' || data.registraionType==\'Registration - Online Enquiry\' || data.registraionType==\'Alteration - Online Enquiry\'">{{data.reqAmount}}</span></td>\r\n                \x3c!-- <td>{{data.reqBy}}</td>\r\n                <td>{{data.reqOn}}</td> --\x3e\r\n                \x3c!-- <td>{{data.trxAge}}</td> --\x3e\r\n                <td style="text-wrap: nowrap">{{data.estdEndDateRefund | date : \'dd-MM-yyyy\'}}</td>\r\n                <td style="text-wrap: nowrap">{{data.remainingDays}}</td>\r\n                <td>{{data.refundStatus==="pending at AO"?"Pending at AO":data.refundStatus}}</td>\r\n                \r\n                \r\n                <td style="text-wrap: nowrap" class="d-flex">\r\n                  \r\n                  <a href="javascript:void(0);" (click)="viewDetails(data)" class="cursor-pointer mr-4" title="View Transaction">\r\n                    <i class="fa icon-eye" aria-hidden="true"></i>\r\n                  </a> \r\n                  <a href="javascript:void(0);" (click)="activityLog(data.projectId, data.registraionType,data.paymentRemarks,data.projectName,data.refundIdd,data.processId,data.userName)" class="cursor-pointer mr-4" title="Activity Log">\r\n                    <i class="fas fa-list" aria-hidden="true"></i>\r\n                  </a> \r\n                  \r\n                  \x3c!-- <a href="javascript:void(0)" (click)="refundProcess(data)" title="Create Refund" class="cursor-pointer mr-4">\r\n                    <i class="fas fa-rupee-sign" aria-hidden="true"></i>\r\n                  </a> --\x3e\r\n                  \r\n                  <a href="{{downloadReciept}}{{data.transactionNo}}" class="cursor-pointer" title="Download Payment Receipt">\r\n                    <i class="icon icon-download green" aria-hidden="true"></i>\r\n                  </a>\r\n                 \r\n                </td>\r\n              </tr>\r\n\r\n\r\n            </tbody>\r\n            <tbody *ngIf="filterDataArray?.length == 0">\r\n              <tr>\r\n                <td colspan="24" class="red text-center">No Records Found...</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div class="col-md-12 text-right" *ngIf="filterDataArray?.length > 0">\r\n            <pagination-controls id="foo1" (pageChange)="getPageNo($event)"></pagination-controls>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<div class="modal show" *ngIf="modalPopup">\r\n  <div class="modal-dialog modal-xl">\r\n    <div class="modal-content">\r\n\r\n      <div class="modal-header">\r\n        <h4 class="modal-title"><b>Transaction Details for Ack. No. {{allData?.paymentRemarks}}</b> </h4>\r\n        <button type="button" class="close" (click)="closePopup()">&times;</button>\r\n      </div>\r\n      <div class="modal-body">\r\n        <div class="row">\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">User Name</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.userName}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Email Id</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.emailId}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Mobile No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.mobileNo}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Application Name</label>\r\n            <input type="text" readonly class="form-control" value="{{projectNameDetail}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Ack. No.</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.paymentRemarks}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Process Name</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.registraionType}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Transaction Mode</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.trxMode}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Payment Gateway</label>\r\n            <input type="text" readonly class="form-control" value="{{allData.paymentGateway}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            \r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> RERA Payment Token No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.paymentTokenNo}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Gateway Reference No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.sbiReferenceNo}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> RERA Transaction No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.transactionNo}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Payment Mode</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.payMode}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Origin Bank Name</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.bankCode}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Origin Bank Reference No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.bankReferenceNo}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Payment Date</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.transactionDate}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Transaction Age (in Days)</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.trxAge}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4" >\r\n            \r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4" *ngIf="!isTxnSuccess">\r\n            <label class="control-label font-weight-bold"> Transaction Status</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.status}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4" *ngIf="!isTxnSuccess">\r\n            <label class="control-label font-weight-bold"> Payment Failure Reason and Error</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.status}}">\r\n          </div>\r\n          \r\n          <div class="col-md-4 mb-4" *ngIf="!isTxnSuccess">\r\n            \r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Payment Amount</label>\r\n            \x3c!-- <input type="text" readonly class="form-control" value="{{allData?.reqAmount}}"> --\x3e\r\n            <input type="text" readonly class="form-control" [value]="transformAmount(allData.reqAmount)">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Additional Amount</label>\r\n            \x3c!-- <input type="text" readonly class="form-control" value="{{allData?.reqPenaltyAmount}}"> --\x3e\r\n            <input type="text" readonly class="form-control" [value]="transformAmount(allData.reqPenaltyAmount)">\r\n          </div>\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Total Payment Amount</label>\r\n            <input type="text" readonly class="form-control" [value]="transformAmount(allData.reqTotalAmount)">\r\n          </div>\r\n         \r\n          \r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Credited Flag</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.creditFlag}}">\r\n          </div>\r\n          \r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Credited on</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.creditedOn | date : \'dd-MM-yyyy, h:mm a\'}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Payment Settlement No.</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.settledFileNo}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Req. Refund Amount</label>\r\n            <input type="text" readonly class="form-control" value="{{refundAmount}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Estimated End Date of Refund</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.estdEndDateRefund | date : \'dd-MM-yyyy\'}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Remaining Days for Refund</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.remainingDays}}">\r\n          </div>\r\n        </div>\r\n\r\n        <h3 class="text center"><b>Refund Details</b></h3>\r\n        <div class="row">\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Refund Amount</label>\r\n            <input type="text" readonly class="form-control text-right" [value]="transformAmount(mainResponse.refundedAmount)">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Additional Amount</label>\r\n            <input type="text" readonly class="form-control text-right" [value]="transformAmount(mainResponse.penaltyAmount)">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Total Refund Amount </label>\r\n            <input type="text" readonly class="form-control text-right" [value]="transformAmount(mainResponse.totalAmount)">\r\n          </div>\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Refund Mode</label>\r\n            <input type="text" readonly class="form-control" [value]="(mainResponse.modeOfRefund?mainResponse.modeOfRefund:\'\')">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Ticket No. </label>\r\n            <input type="text" readonly class="form-control" [value]="(mainResponse?.ticketNo?mainResponse?.ticketNo:\'\')">\r\n          </div>\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Ticket Query\r\n              <a *ngIf="mainResponse.ticketAttachmentDocUID!=null" href="{{downloadVdms}}{{mainResponse.ticketAttachmentDocUID}}" title="Download Ticket Attachment">\r\n                <i class="icon icon-download green"></i>\r\n              </a>\r\n            </label>\r\n            <input type="text" readonly class="form-control" [value]="(mainResponse.ticketDescription?mainResponse.ticketDescription:\'\')">\r\n          </div>\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Reason</label>\r\n            <input type="text" readonly class="form-control" [value]="(mainResponse?.reasonOfRefund?mainResponse?.reasonOfRefund:\'\')">\r\n          </div>\r\n\r\n\r\n\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Remark</label>\r\n            <input type="text" readonly class="form-control" value="{{mainResponse?.remarks?mainResponse?.remarks:\'\'}}">\r\n          </div>\r\n        </div>\r\n\r\n\r\n\r\n        <h3 class="text center"><b>Approve / Reject Request</b></h3>\r\n        <div class="row">\r\n\r\n          <form [formGroup]=\'approveReject\' id="validateFoem">\r\n\r\n            <input type="hidden" formControlName="refundId" [(ngModel)]="mainResponse.refundId">\r\n\r\n            <div class="col-md-12 mb-4 text center">\r\n              <input type="radio" formControlName="checkUserAction" name="checkUserAction" [(ngModel)]="checkUserAction" value="APPROVE" (change)="actionOfRadio($event)"><strong>Approve</strong>\r\n              &nbsp;\r\n              <input type="radio" formControlName="checkUserAction" name="checkUserAction" [(ngModel)]="checkUserAction" value="REJECT" (change)="actionOfRadio($event)"><strong>Reject</strong>\r\n            </div>\r\n\r\n\r\n\r\n            <div class="col-md-4 mb-4" *ngIf="checkUserAction==\'APPROVE\'">\r\n              <label class="control-label font-weight-bold">Amount</label>\r\n              <input type="text" class="form-control" [readonly]="mainResponse.reasonOfRefund==\'Withdrawal\'" formControlName="amount" [(ngModel)]="amount" onKeyPress="if(this.value.length==12) return false;" (focusout)="paymentNotMoreThan(amount,penaltyAmount)" (keydown)="allowNumericOnly($event)" (focus)="removeCommas(amount,penaltyAmount)">\r\n            </div>\r\n\r\n\r\n            <div class="col-md-4 mb-4" *ngIf="checkUserAction==\'APPROVE\'">\r\n              <label class="control-label font-weight-bold"> Additional Amount</label>\r\n              <input type="text" class="form-control"  [readonly]="mainResponse.reasonOfRefund==\'Withdrawal\'" formControlName="penaltyAmount" [(ngModel)]="penaltyAmount" onKeyPress="if(this.value.length==12) return false;" (focusout)="paymentNotMoreThan(amount,penaltyAmount)" (keydown)="allowNumericOnly($event)" (focus)="removeCommas(amount,penaltyAmount)">\r\n            </div>\r\n\r\n            <div class="col-md-4 mb-4" *ngIf="checkUserAction==\'APPROVE\'">\r\n              <label class="control-label font-weight-bold"> Total Amount</label>\r\n              <input type="hidden" formControlName="totalAmount" [(ngModel)]="ammount">\r\n\r\n\r\n              <input type="text" readonly class="form-control text-right" [value]="transformAmount(ammount)">\r\n            </div>\r\n            <div class="col-md-4 mb-4" *ngIf="checkUserAction==\'APPROVE\'">\r\n              <label class="control-label font-weight-bold"> Any Supporting Document</label>\r\n              <input type="hidden" [(ngModel)]="outputValue.supportingDocId" class="form-control" formControlName="supportingDocId" >\r\n              <app-file-upload (myEvent)="setValue($event)"\r\n              [parm]="{apiType:\'NEW\',fileId:\'supportingDocId\',docId:docId4,staticDocId:\'docId4\',close:false,show:false,fileType:[\'pdf\']}">\r\n            </app-file-upload>\r\n            </div>\r\n\r\n\r\n            <div class="col-md-12 mb-4">\r\n              <label class="control-label font-weight-bold">Remark<sup>*</sup></label>\r\n              <textarea formControlName="authRemarks" class="form-control"></textarea>\r\n            </div>\r\n\r\n            <div class="col-md-12 mb-4">\r\n              \x3c!-- <button class="btn btn-success" [disabled]="!this.approveReject.valid" (click)="showConfirmation()" >{{checkUserAction}}</button> --\x3e\r\n              <button class="btn btn-success"  [disabled]="!this.approveReject.valid" (click)="showConfirmation()" >{{checkUserAction}}</button>\r\n            </div>\r\n\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="modal show" *ngIf="activityPopup">\r\n  <div class="modal-dialog modal-xl">\r\n    <div class="modal-content" id="print-section">\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n        <h4 class="modal-title"><b>Activity Log For Ack. No. {{activityProjectAck}}</b> </h4>\r\n        \x3c!-- <div > --\x3e\r\n        <div>\r\n          <button (click)="clickToPrint()" class="btn btn-small btn-success printHide">Print</button>&nbsp;&nbsp;\r\n          <button type="button" class="close printHide" (click)="closePopup()" data-dismiss="modal">&times;</button>\r\n        </div>\r\n      \r\n      \x3c!-- </div> --\x3e\r\n      </div>\r\n      <div class="modal-body">\r\n          <div class="coloumn ">\r\n            <div class="coloumn" *ngFor="let data of getdata">\r\n              \x3c!-- <div class="row activity-next moreLinkTd"> --\x3e\r\n                <div class="row mb-2">  \r\n                 \r\n                    <div class="col-md-5" [ngClass]="{textViewMore: data.remarks.split(\' \')?.length>=14}">Remarks : <strong>{{data.remarks}}</strong></div>\r\n                  <div class="col-md-7">\r\n                \r\n                  Reason : <span *ngIf="data.reason==\'RETURN\'">Enquiry/Return</span><span *ngIf="data.reason!=\'RETURN\'">{{data.reason}}</span>\r\n                  </div>\r\n              </div>\r\n            \x3c!-- </div> --\x3e\r\n              <div class="row mb-4">\r\n                <div class="col-md-5">Name : {{promoterName}}</div>\r\n                <div class="col-md-7"> Date : {{data.activityOn | date: \'dd-MM-yyyy, hh:mm a\'}}\r\n                </div>\r\n              </div>\r\n              \x3c!-- <div ><b>Remarks</b></div>\r\n               <div class="row">\r\n                  <div ><b>Reason</b></div>\r\n                  <div ><b>Date</b></div>\r\n               </div> --\x3e\r\n            </div>\r\n            <div class="card-header"><b> Payment History</b></div>\r\n            <table class="table table-bordered text-center" #tableOption id="myTableElementId1">\r\n              <thead>\r\n                <tr>\r\n                  <th>Application Type</th>\r\n                  \x3c!-- <th>Total Carpet/Land Area for Project Under Registration (Sq Mtrs)</th> --\x3e\r\n                  <th>Type</th>\r\n                  <th>Amount</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody *ngIf="getAllPaymentdata?.length > 0; else noSearchRecord">\r\n             \r\n                  <tr *ngFor="let data of getAllPaymentdata,let i = index">\r\n                    <td>{{data?.projectType}}</td>\r\n                    \x3c!-- <td>{{data?.carpetArea}}</td> --\x3e\r\n                    <td *ngIf="data?.feeType!=\'REFUND\'">Paid</td>\r\n                    <td *ngIf="data?.feeType==\'REFUND\'">Refund</td>\r\n                    <td>{{data?.areaFee}}</td>\r\n                  </tr>\r\n              \r\n              </tbody>\r\n              <ng-template #noSearchRecord>\r\n              <tbody>\r\n                <tr>\r\n                  <td class="text-center red" colspan="7">No Records Found</td>\r\n                </tr>\r\n              </tbody>\r\n              </ng-template>\r\n            </table>  \r\n            <div class="card-header"><b>Refund Activity Log</b></div>\r\n            <table class="table table-bordered text-center" #tableOpt id="myTableElementId">\r\n              <thead>\r\n                <tr class="bg-light  text-size-small text-center">\r\n                  <th *ngFor="let th of activityHeader">{{th.label}}</th>   \r\n                </tr>\r\n            </thead>\r\n              <tbody *ngIf="activityLogData?.length > 0; else noSearchRec">\r\n                <tr  *ngFor="let activity of activityLogData.reverse(),let i = index">\r\n                  <td>{{activity?.activityOn  ? (activity?.activityOn | date:\'dd/MM/yyyy HH:mm:ss\') : "NA"  }}</td>\r\n                  <td>{{activity?.activityByName ? activity?.activityByName:"NA"}}</td>\r\n                  <td>{{activity?.deptName ? activity?.deptName : "NA"}}</td>\r\n                  <td>{{activity?.stateName ? (activity?.stateName=="INIT_REFUND" ? "FORWARD" : (activity?.stateName=="APPLY_REFUND" ? "APPROVE" : (activity?.stateName=="REJECT" ? "REJECT" : activity?.stateName))) : "NA"}}</td>\r\n                  <td>{{activity?.team ? activity?.team : "NA"}}</td>\r\n                  \x3c!-- <td>{{activity?.reason ? activity?.reason : "NA"}}</td> --\x3e\r\n                  <td>{{activity?.remarks ? activity?.remarks :"NA"}}</td>\r\n                </tr>\r\n              </tbody>\r\n              <ng-template #noSearchRec>\r\n              <tbody>\r\n                <tr>\r\n                  <td class="text-center red" colspan="7">No Records Found</td>\r\n                </tr>\r\n              </tbody>\r\n              </ng-template>\r\n            </table>  \r\n            \r\n          </div>\r\n      </div>\r\n    \r\n      \x3c!-- <div class="col-md-12 text-center mb-3">\r\n         <button (click)="clickToPrint()" class="btn btn-small btn-success printHide">Print</button>&nbsp;&nbsp;\r\n         <button  class="btn btn-small btn-success printHide" (click)="closePopup()" data-dismiss="modal">close</button>\r\n      </div> --\x3e\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal show" *ngIf="modalAOPopup">\r\n  <div class="modal-dialog modal-xl">\r\n    <div class="modal-content">\r\n\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n        <h4 class="modal-title"><b>Transaction Details for Ack.No. {{allData?.paymentRemarks}}</b> </h4>\r\n        <button type="button" class="close" (click)="closePopup()" data-dismiss="modal">&times;</button>\r\n      </div>\r\n      <div class="modal-body">\r\n        <h3 class=""><b>Beneficiary & Payment Details</b></h3>\r\n        <div class="row">\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">User Name</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.userName}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Email Id</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.emailId}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Mobile No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.mobileNo}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Application Name</label>\r\n            <input type="text" readonly class="form-control" value="{{projectNameDetail}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Ack. No.</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.paymentRemarks}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Process Name</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.registraionType}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Transaction Mode</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.trxMode}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Payment Gateway</label>\r\n            <input type="text" readonly class="form-control" value="{{allData.paymentGateway}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n           \r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> RERA Payment Token No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.paymentTokenNo}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Gateway Reference No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.sbiReferenceNo}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> RERA Transaction No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.transactionNo}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Payment Mode</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.payMode}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Origin Bank Name</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.bankCode}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Origin Bank Reference No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.bankReferenceNo}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Payment Date</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.transactionDate}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Transaction Age (in Days)</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.trxAge}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n           \r\n          </div>\r\n          \x3c!-- <div class="col-md-4 mb-4">\r\n           \r\n          </div> --\x3e\r\n          <div class="col-md-4 mb-4" *ngIf="!isTxnSuccess">\r\n            <label class="control-label font-weight-bold"> Transaction Status</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.status}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4" *ngIf="!isTxnSuccess">\r\n            <label class="control-label font-weight-bold"> Payment Failure Reason and Error</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.status}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4" *ngIf="!isTxnSuccess">\r\n           \r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Payment Amount</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.reqAmount}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Additional Payment Amount</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.reqPenaltyAmount}}">\r\n          </div>\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Total Payment Amount</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.reqTotalAmount}}">\r\n          </div>\r\n          \x3c!-- <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Registraion Type</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.registraionType}}">\r\n          </div> --\x3e\r\n          \r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Credited Flag</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.creditFlag}}">\r\n          </div>\r\n          \r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Credited on</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.creditedOn | date : \'dd-MM-yyyy, h:mm a\'}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Payment Settlement No.</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.settledFileNo}}">\r\n          </div>\r\n          \r\n          \x3c!-- <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Refund Status</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.refundStatus}}">\r\n          </div>\r\n          \r\n --\x3e\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Req. Refund Amount</label>\r\n            <input type="text" readonly class="form-control" value="{{reqAmount}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Estimated End Date of Refund</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.estdEndDateRefund | date : \'dd-MM-yyyy\'}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Remaining Days for Refund</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.remainingDays}}">\r\n          </div>\r\n          \r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="popup-overlay" *ngIf="modalOverlayPopup"></div>\r\n\r\n\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n<app-loader *ngIf="loadingSpinner"></app-loader>\r\n\r\n<app-confirmation-box (outEm)="confirmationEvent($event)" [showMessage]="confirmationEventB"></app-confirmation-box>'},"6BIN":function(e,t,n){"use strict";n.r(t),t.default='<div class="row">\r\n\r\n    <div class="col-md-12 mb-4 ">\r\n      <div class="card ">\r\n        <div class="card-body">\r\n        <div class="row">\r\n          <div class=" col-md-12">\r\n            \r\n          <div class="card-header d-flex justify-content-between align-items-center">\r\n            <h2><b>Pending on Me</b></h2>\r\n    \r\n            <div class="tableTotalCount">Total Result - {{paginationCount}}/{{filterDataArray?.length}}</div>\r\n            </div>\r\n              \x3c!--<div class="col-md-12" style="padding:1%">\r\n                <div class="row">\r\n                  <h3><b>REFUND STATUS:</b></h3> &nbsp; &nbsp;\r\n                    <div class="radiobuttons">\r\n                        <input type="radio" name="checkUserAction"\r\n                          [(ngModel)]="optionValue" value="Under Approval"\r\n                          (change)="actionOfRadio($event)"><strong>Under Approval</strong>\r\n    \r\n                          &nbsp; &nbsp; &nbsp;<input type="radio" name="checkUserAction"\r\n                          [(ngModel)]="optionValue" value="Pending at AO"\r\n                          (change)="actionOfRadio($event)"><strong>Pending at AO</strong>\r\n    \r\n                          &nbsp; &nbsp; &nbsp;<input type="radio" name="checkUserAction"\r\n                          [(ngModel)]="optionValue" value="Pending at FO"\r\n                          (change)="actionOfRadio($event)"><strong>Pending at FO</strong>\r\n    \r\n                          &nbsp; &nbsp; &nbsp;<input type="radio" name="checkUserAction"\r\n                          [(ngModel)]="optionValue" value="Applied for Refund"\r\n                          (change)="actionOfRadio($event)"><strong>Applied for Refund</strong>\r\n    \r\n                          &nbsp; &nbsp; &nbsp;<input type="radio" name="checkUserAction"\r\n                          [(ngModel)]="optionValue" value="Completed"\r\n                          (change)="actionOfRadio($event)"><strong>Refunded</strong>\r\n    \r\n                          \r\n                          &nbsp; &nbsp; &nbsp;<input type="radio" name="checkUserAction"\r\n                          [(ngModel)]="optionValue" value="Rejected"\r\n                          (change)="actionOfRadio($event)"><strong>Rejected</strong>\r\n                    </div>\r\n                </div>\r\n              </div>\r\n            --\x3e\r\n  \r\n            <div class="table-responsive mt-4">\r\n              <app-loader *ngIf="loader"></app-loader>\r\n              <app-filter-table [filterTableData]="{\'tableJson\':tableJsonData}" (myEvent)="filterValue($event)"></app-filter-table>\r\n            <table class="table table-bordered text-center" #tableOpt id="myTableElementId">\r\n              <thead>\r\n                <tr class="bg-light  text-size-small text-center">\r\n                  <th>S No.</th>\r\n                  \r\n                    <th *ngFor="let th of tableHeader">{{th.label}} <div class="sortTable">\r\n                      <a href="javascript:void(0)" [ngClass]="{\'active\':sortData.sortType==\'ASC\' && sortData.key==th.key}" (click)="tableSortFilter(\'ASC\', th.key, th.type,\'sort\')" class="upArrow"><i class="fas fa-arrow-up"></i></a>\r\n                      <a href="javascript:void(0)" [ngClass]="{\'active\':sortData.sortType==\'DESC\' && sortData.key==th.key}" (click)="tableSortFilter(\'DESC\', th.key, th.type,\'sort\')" class="downArrow"><i class="fas fa-arrow-down"></i></a>\r\n                    </div>\r\n                  </th>   \r\n                  \r\n                  <th>Action</th>\r\n    \r\n                </tr>\r\n            </thead>\r\n              <tbody *ngIf="filterDataArray?.length > 0; else noSearchRec">\r\n                <tr *ngFor="let data of filterDataArray| paginate: { id: \'foo1\', itemsPerPage: 10, currentPage: currentPageNo }; let i = index">\r\n                  <td>{{i+1}}</td>\r\n                <td >\r\n                  <a href="javascript:void(0);"\r\n                  (click)="getFullBCRData(data.id)" class="link-text">{{ data?.challanNo}}</a> </td >\r\n                  <td>{{data.bankName}}</td>\r\n                  <td>{{data.processType}}</td>\r\n                  <td>{{data.payMode}}</td>\r\n                  <td>{{data.createdBy}}</td>\r\n                  \x3c!--<td>{{data.createdOn}}</td> --\x3e\r\n                <td style="text-wrap: nowrap">{{data.createdOn | date : \'dd-MM-yyyy h:mm a\'}}</td>\r\n                  <td><button value="" (click)="showLog(data?.challanNo)" class="btn btn-primary">Activity Log</button></td>\r\n                  \r\n                </tr>\r\n  \r\n  \r\n              </tbody>\r\n              <ng-template #noSearchRec>\r\n              <tbody>\r\n                <tr>\r\n                  <td class="text-center red" colspan="20">No Records Found</td>\r\n                </tr>\r\n              </tbody>\r\n              </ng-template>\r\n\r\n              \r\n  \r\n            </table>    \r\n               <div class="col-md-12 text-right" *ngIf="filterDataArray?.length > 0">\r\n              <pagination-controls id="foo1" (pageChange)="getPageNo($event)"></pagination-controls>\r\n            </div>\r\n          </div>\r\n        </div>\r\n          \x3c!-- <div class="col-md-12 text-right">\r\n            <pagination-controls id="foo1" (pageChange)="ca = $event"></pagination-controls>\r\n          </div> --\x3e\r\n  \r\n  \r\n        </div>\r\n      </div>\r\n      </div>\r\n    </div>\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n    \r\n  \r\n  \r\n  </div>\r\n  <div class="modal show" *ngIf="showLogPopUp">\r\n    <div class="modal-dialog modal-xl">\r\n      <div class="modal-content">\r\n        \x3c!-- Modal Header --\x3e\r\n        <div class="modal-header">\r\n          <h4 class="modal-title">Activity Log</h4>\r\n          <button type="button" class="close" (click)="hideshowLogPopUpFunction()">&times;</button>\r\n        </div>\r\n        \x3c!-- Modal body --\x3e\r\n        <div class="modal-body">\r\n          <app-profile-activity-log [rawData]="rawDataObject" (newEmit)=showDataReturn($event)></app-profile-activity-log>\r\n  \r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n\r\n  \r\n  \r\n  \r\n'},ICAx:function(e,t,n){"use strict";n.r(t),t.default=""},RvKy:function(e,t,n){"use strict";n.r(t),t.default=".status-select {\n  display: flex;\n}"},dbMI:function(e,t,n){"use strict";n.r(t),t.default='<div class="row">\r\n\r\n  <div class="col-md-12 mb-4 ">\r\n    <div class="card ">\r\n     \r\n<div class="card-body">\r\n      <div class="row">\r\n        \x3c!-- <div class="col-md-12 text-right mb-1"><input type="button" class="btn btn-primary" (click)="clickToExport()"\r\n            value="Export Excel"></div> --\x3e\r\n        <div class=" col-md-12">\r\n               \r\n        <div class="card-header d-flex justify-content-between align-items-center">\r\n          <h2><b>Payment Refund</b></h2>\r\n  \r\n          <div class="tableTotalCount">Total Result - {{paginationCount}}/{{filterDataArray?.length}}</div>\r\n          </div>\r\n          <div class="table-responsive mt-4">\r\n            <app-filter-table [filterTableData]="{\'tableJson\':tableJsonData}" (myEvent)="filterValue($event)"></app-filter-table>\r\n          <table class="table table-bordered text-center" #tableOpt id="myTableElementId">\r\n            <thead>\r\n              <tr class="bg-light  text-size-small text-center">\r\n             \r\n                \r\n                  <th *ngFor="let th of tableHeader">{{th.label}} <div class="sortTable">\r\n                    <a href="javascript:void(0)" [ngClass]="{\'active\':sortData.sortType==\'ASC\' && sortData.key==th.key}" (click)="tableSortFilter(\'ASC\', th.key, th.type,\'sort\')" class="upArrow"><i class="fas fa-arrow-up"></i></a>\r\n                    <a href="javascript:void(0)" [ngClass]="{\'active\':sortData.sortType==\'DESC\' && sortData.key==th.key}" (click)="tableSortFilter(\'DESC\', th.key, th.type,\'sort\')" class="downArrow"><i class="fas fa-arrow-down"></i></a>\r\n                  </div>\r\n                </th>   \r\n                \r\n                <th>Action</th>\r\n  \r\n              </tr>\r\n          </thead>\r\n            \x3c!-- <thead class="bg-light font-weight-bold">\r\n              <tr class="text-center bg-light  text-size-small">\r\n                <th>Head</th>\r\n                <th>Token No</th>\r\n                <th>Transaction No</th> \r\n                <th>INR Amount(a)</th>\r\n                <th>INR Additional Amount(b)</th>\r\n                <th>INR Total Amount(a+b)</th>\r\n                <th>Transaction Date</th>\r\n                <th>Debited On</th>\r\n                <th>Action</th>\r\n              </tr>\r\n            </thead> --\x3e\r\n            <tbody  *ngIf="filterDataArray?.length > 0; else noSearchRec">\r\n\r\n\r\n              <tr *ngFor="let data of filterDataArray| paginate: { id: \'foo1\', itemsPerPage: 10, currentPage: currentPageNo }">\r\n\r\n\r\n                <td>{{data?.paymentType}}</td>\r\n                <td>{{data?.paymentTokenNo}}</td>\r\n                <td>{{data?.transactionNo}}</td>\r\n                <td>{{data?.transactionRefNo}}</td>\r\n                <td>{{data?.paymentGateway}}</td>\r\n                <td>{{data?.paymentAmount}}</td>\r\n                <td>{{data?.refundedAmount}}</td>\r\n                <td>{{data?.penaltyAmount}}</td>\r\n                <td>{{data?.totalAmount}}</td>\r\n                <td style="white-space: nowrap;">{{data?.refundInitDate | date : \'dd-MM-yyyy, h:mm a\' }}</td>\r\n\r\n                <td style="white-space: nowrap">\r\n                  <a href="javascript:void(0);" class="cursor-pointer" (click)="viewDetails(data)"><i class="fa icon-eye" aria-hidden="true"></i>\r\n                  </a>\r\n                  <u>\r\n                    <a href="{{downloadReciept}}{{data?.transactionNo}}" class="cursor-pointer" title="Download Payment Receipt"><i class="icon icon-download green"></i></a>\r\n                  </u>\r\n                </td>\r\n              </tr>\r\n\r\n\r\n            </tbody>\r\n            <ng-template #noSearchRec>\r\n            <tbody>\r\n              <tr>\r\n                <td *ngIf="!messageToFilter" class="text-center red" colspan="9">Please wait...</td>\r\n                <td *ngIf="messageToFilter" class="text-center red" colspan="9">No record Found.</td>\r\n              </tr>\r\n            </tbody>\r\n            </ng-template>\r\n\r\n          </table>  \r\n          <div class="col-md-12 text-right" *ngIf="filterDataArray?.length > 0">\r\n         <pagination-controls id="foo1" (pageChange)="getPageNo($event)"></pagination-controls>\r\n       </div>\r\n        </div>\r\n      </div>\r\n        \x3c!-- <div class="col-md-12 text-right">\r\n          <pagination-controls id="foo1" (pageChange)="ca = $event"></pagination-controls>\r\n        </div> --\x3e\r\n\r\n      </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<div class="modal show" *ngIf="modalPopup">\r\n  <div class="modal-dialog modal-xl">\r\n    <div class="modal-content">\r\n\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n        <h4 class="modal-title"><b>Transection Details</b> </h4>\r\n        <button type="button" class="close" (click)="closePopup()">&times;</button>\r\n      </div>\r\n      <div class="modal-body">\r\n\r\n        <div class="row">\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Name</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.userName}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Email Id</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.emailId}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Mobile No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.mobileNo}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Transaction No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.transactionNo}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Token No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.paymentTokenNo}}">\r\n          </div>\r\n          \x3c!-- <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Registraion Type</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.registraionType}}">\r\n          </div> --\x3e\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Gateway Reference No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.sbiReferenceNo}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Payment Mode</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.payMode}}">\r\n          </div>\r\n          \x3c!-- <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Bank Code</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.bankCode}}">\r\n          </div> --\x3e\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Credited on</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.creditedOn | date : \'dd-MM-yyyy HH:mm:ss \'}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Credited Flag</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.creditFlag}}">\r\n          </div>\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Bank Reference No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.bankReferenceNo}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Transaction Date</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.transactionDate}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Heads Name</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.registraionType}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Transaction Mode</label>\r\n            <input type="text" readonly class="form-control" value="{{allData?.trxMode}}">\r\n          </div>\r\n\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Amount</label>\r\n            \x3c!-- <input type="text" readonly class="form-control" value="{{allData?.reqAmount}}"> --\x3e\r\n            <input type="text" readonly class="form-control" [value]="transformAmount(allData?.reqAmount)">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Additional Amount</label>\r\n            \x3c!-- <input type="text" readonly class="form-control" value="{{allData?.reqPenaltyAmount}}"> --\x3e\r\n            <input type="text" readonly class="form-control" [value]="transformAmount(allData?.reqPenaltyAmount)">\r\n          </div>\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Total Amount</label>\r\n            \x3c!-- <input type="text" readonly class="form-control" value="{{allData?.reqTotalAmount}}"> --\x3e\r\n            <input type="text" readonly class="form-control" [value]="transformAmount(allData?.reqTotalAmount)">\r\n          </div>\r\n\r\n        </div>\r\n\r\n\r\n        <h3 class="text center d-none"><b>Refund Details</b></h3>\r\n        <div class="row d-none" *ngFor="let refOf of refundListOfData">\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Amount</label>\r\n            <input type="text" readonly class="form-control" [value]="transformAmount(refOf.refundedAmount)">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Additional Amount</label>\r\n            <input type="text" readonly class="form-control" [value]="transformAmount(refOf.penaltyAmount)">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Total Amount </label>\r\n            <input type="text" readonly class="form-control" [value]="transformAmount(refOf.totalAmount)">\r\n          </div>\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Refund Mode</label>\r\n            <input type="text" readonly class="form-control" [value]="(refOf.paymentMode)">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Ticket No. </label>\r\n            <input type="text" readonly class="form-control" [value]="(refOf.ticketNo)">\r\n          </div>\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Ticket Query\r\n              <a *ngIf="refOf.attachmentUId!=null" href="{{downloadVdms}}{{refOf.ticketAttachmentDocUID}}" title="Download Ticket Attachment">\r\n                <i class="icon icon-download green"></i>\r\n              </a>\r\n            </label>\r\n            <input type="text" readonly class="form-control" [value]="(refOf.ticketDescription)">\r\n          </div>\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Reason</label>\r\n            <input type="text" readonly class="form-control" [value]="(refOf.reasonOfRefund)">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Remark</label>\r\n            <input type="text" readonly class="form-control" [value]="(refOf.remarks)">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Account Officer Remark</label>\r\n            <input type="text" readonly class="form-control" [value]="(refOf.authRemarks)">\r\n          </div>\r\n\r\n\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Transaction No.<u>\r\n              <a href="{{downloadReciept}}{{refOf.transactionNo}}" title="Download Payment Receipt">Download</a>\r\n            </u></label>\r\n            <input type="text" readonly class="form-control" [value]="(refOf.transactionNo)">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Refund Initiated On</label>\r\n            <input type="text" readonly class="form-control" [value]="(refOf.refundInitDate | date : \'dd-MM-yyyy  HH:mm:ss\')">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Refund Booked On</label>\r\n            <input type="text" readonly class="form-control" [value]="(refOf.refundBookingDate | date : \'dd-MM-yyyy  HH:mm:ss\')">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Status</label>\r\n            <input type="text" readonly class="form-control" [value]="(refOf.status)">\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="popup-overlay" *ngIf="modalOverlayPopup"></div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n\r\n\r\n<app-loader *ngIf="loadingSpinner"></app-loader>\r\n\r\n<app-confirmation-box (outEm)="confirmationEvent($event)" [showMessage]="confirmationEventB"></app-confirmation-box>'},fuKm:function(e,t,n){"use strict";n.r(t),t.default='<div class="row">\r\n\r\n<div class="col-md-12">\r\n  <div > \r\n<div class="col-md-9  mb-4">\r\n<div class="card "> \r\n\x3c!-- .card-body --\x3e\r\n<div class="card-header"><b>Payment Receipt</b></div>\r\n<div class="card-body ">\r\n<div class="row ">\r\n\r\n<div class="col-md-12 table-responsive">\r\n\r\n<table class="table table-bordered text-center">\r\n<thead class="bg-light font-weight-bold">\r\n<tr>\r\n\r\n\r\n<td>Token</td>\r\n<td>Transaction Ref No.</td>\r\n<td>Mode of Payment</td>\r\n<td>Date of Transaction</td>\r\n\r\n<td>Total Fees</td>\r\n\r\n\r\n<td>Status</td>\r\n\r\n<td>Action</td>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr>\r\n<td>1231</td>\r\n<td> 1212</td>\r\n<td>Online</td>\r\n<td>10/01/2020</td>\r\n<td>5000</td>\r\n<td>Refunded</td>\r\n<td><a href="#"  data-toggle="modal" data-target="#refund_rec" ><img alt="#" src="https://static.thenounproject.com/png/673585-200.png" class="w-25"> </a></td>\r\n</tr>\r\n<tr>\r\n  <td>1231</td>\r\n  <td> 1212</td>\r\n  <td>Online</td>\r\n  <td>10/01/2020</td>\r\n  <td>5000</td>\r\n  <td>Refunded</td>\r\n  <td><a href="#"  data-toggle="modal" data-target="#refund_rec" ><img alt="#" src="https://static.thenounproject.com/png/673585-200.png" class="w-25"> </a></td>\r\n  </tr>\r\n  <tr>\r\n    <td>1231</td>\r\n    <td> 1212</td>\r\n    <td>Online</td>\r\n    <td>10/01/2020</td>\r\n    <td>5000</td>\r\n    <td>Refunded</td>\r\n    <td><a href="#"  data-toggle="modal" data-target="#refund_rec" ><img alt="#" src="https://static.thenounproject.com/png/673585-200.png" class="w-25"> </a></td>\r\n    </tr>\r\n    <tr>\r\n      <td>1231</td>\r\n      <td> 1212</td>\r\n      <td>Online</td>\r\n      <td>10/01/2020</td>\r\n      <td>5000</td>\r\n      <td>Refunded</td>\r\n      <td><a href="#"  data-toggle="modal" data-target="#refund_rec" ><img alt="#" src="https://static.thenounproject.com/png/673585-200.png" class="w-25"> </a></td>\r\n      </tr>\r\n</tbody>\r\n</table>\r\n\r\n</div>\r\n</div>\r\n</div>\r\n\x3c!-- /.card-body --\x3e \r\n</div>\r\n</div>\r\n\r\n</div>\r\n</div>\r\n\r\n<div class="modal" id="refund_rec">\r\n  <div class="modal-dialog modal-xl">\r\n  <div class="modal-content"> \r\n  \r\n  \x3c!-- Modal Header --\x3e\r\n  <div class="modal-header">\r\n  <h4 class="modal-title"><b>Process Refund Request</b>  </h4>\r\n  <button type="button" class="close" data-dismiss="modal">&times;</button>\r\n  </div>\r\n  \r\n  \x3c!-- Modal body --\x3e\r\n  <div class="modal-body">\r\n  \r\n    <form [formGroup]="refundForm" id="validateFoem">\r\n  \r\n  <div class="col-md-12">\r\n  <div class="col-md-4 mb-4">\r\n  <label class="control-label font-weight-bold">Payment Head</label>\r\n  <div class="mt-3">abc</div>\r\n  </div>\r\n  <div class="col-md-4 mb-4">\r\n  <label class="control-label font-weight-bold ">Token</label>\r\n  <div class="mt-3">121212121212</div>\r\n  </div>\r\n  <div class="col-md-4 mb-4">\r\n  <label class="control-label font-weight-bold ">SBI Recipt No.</label>\r\n  <div class="mt-3">121231233123</div>\r\n  </div>\r\n  <div class="col-md-4 mb-4">\r\n  <label class="control-label font-weight-bold ">Mode of Payment</label>\r\n  <div class="mt-3">Net Banking</div>\r\n  </div>\r\n  <div class="col-md-4 mb-4">\r\n  <label class="control-label font-weight-bold ">Date of Transaction</label>\r\n  <div class="mt-3">20/01/2020</div>\r\n  </div>\r\n  <div class="col-md-4 mb-4">\r\n  <label class="control-label font-weight-bold ">Date of Credit</label>\r\n  <div class="mt-3">21/01/2020</div>\r\n  </div>\t\r\n  \r\n  </div>\r\n  <div class=" text-black col-md-12 title Title_y  mb-2 ">Beneficiary Details </div>\r\n  \r\n  <div class="col-md-12 mb-4">\r\n  <label class="control-label font-weight-bold col-md-4">Beneficiary Name</label>\r\n  <div class="col-md-8">\r\n  <input type="text" class="form-control" disabled=[disabled] >\r\n  </div>\r\n  </div>\r\n  <div class="col-md-12 mb-4">\r\n  <label class="control-label font-weight-bold col-md-4">Beneficiary Email</label>\r\n  <div class="col-md-8">\r\n  <input type="text" class="form-control" disabled=[disabled]>\r\n  </div>\r\n  </div>\r\n  <div class="col-md-12 mb-4">\r\n  <label class="control-label font-weight-bold col-md-4">Beneficiary Contact</label>\r\n  <div class="col-md-8">\r\n  <input type="text" class="form-control" disabled=[disabled]>\r\n  </div>\r\n  </div>\r\n  <div class="clearfix"></div>\r\n  <hr>\r\n  \r\n  \r\n  <div class="col-md-12 mb-2">\r\n  <label class="control-label font-weight-bold col-md-4">Reasons for Refund\r\n  <small  class="font-9">(Please specify)</small>\r\n  </label>\r\n  <div class="col-md-8">\r\n  \r\n  <div class="form-check-inline">\r\n  <label class="form-check-label">\r\n  <input type="radio" class="form-check-input" disabled=[disabled] name="optradio">Duplicate Payment\r\n  </label>\r\n  </div>\r\n  <div class="form-check-inline">\r\n  <label class="form-check-label">\r\n  <input type="radio" class="form-check-input" disabled=[disabled] name="optradio">Project Outside Planning area\r\n  </label>\r\n  </div>\r\n  \r\n  <div class="form-check-inline">\r\n  <label class="form-check-label">\r\n  <input type="radio" class="form-check-input"  disabled=[disabled] name="optradio">Excess Payment\r\n  </label>\r\n  </div>\r\n  \r\n  <div class="form-check-inline">\r\n  <label class="form-check-label">\r\n  <input type="radio" class="form-check-input" disabled=[disabled] name="optradio">Any Other\r\n  </label>\r\n  \r\n  \r\n  \r\n  </div>\r\n  \x3c!-- <input type="text" class="form-control" placeholder="" required=""> --\x3e\r\n  \r\n  \r\n  </div>\r\n  </div>\r\n  \r\n  <div class="col-md-12 mb-4">\r\n  <label class="control-label font-weight-bold col-md-4">Amount of Refund Claimed</label>\r\n  <div class="col-md-8">\r\n  <input type="text" class="form-control" disabled=[disabled]>\r\n  </div>\r\n  </div>\r\n  <div class="col-md-12 mt-4">\r\n  <label class="control-label font-weight-bold ">Refund  Type</label>\r\n  \r\n  <div class=" mt-3">\r\n  <div class="form-check-inline badge p-2 pr-3 pl-3">\r\n  <label class="form-check-label font-weight-bold">\r\n  <input type="radio" class="form-check-input" disabled=[disabled] formControlName="refundIdFlag" value="Online" name="refundIdFlag" (change)="checkRadio($event)">Online\r\n  </label>\r\n  </div>\r\n  <div class="form-check-inline  badge  p-2  pr-3 pl-3">\r\n  <label class="form-check-label font-weight-bold">\r\n  <input type="radio" class="form-check-input" disabled=[disabled] formControlName="refundIdFlag"   value="Offline" name="refundIdFlag" (change)="checkRadio($event)">Offline\r\n  </label>\r\n  </div>\r\n  \r\n  </div>\r\n  </div>\r\n  \r\n  <div class="row">\r\n  \r\n  <div class="col-md-12  mt-3 pt-4 pb-4" *ngIf="!online">\r\n  \x3c!-- \r\n  <div class="col-md-12 mb-3">\r\n  <div class="badge bg-danger text-white">This panel show when offline payment</div>\r\n  </div> --\x3e\r\n  \r\n  <div class="col-md-4 mb-3 ">\r\n  <label class="control-label font-weight-bold">RERA Token No.</label>\r\n  <input type="text" class="form-control" formControlName="reraTokenNo" disabled=[disabled] placeholder="">\r\n  \r\n  </div>\r\n  <div class="col-md-4 mb-3">\r\n  <label class="control-label font-weight-bold">Transaction Ref No.</label>\r\n  <input type="text" class="form-control" formControlName="transactionRefNo" disabled=[disabled]    [disabled=[disabled]]="!ischeque" placeholder="">\r\n  \r\n  </div>\r\n  <div class="col-md-4 mb-3">\r\n    <div class="form-group ">\r\n    <label class="control-label font-weight-bold">Payment Mode<sup>*</sup></label>\r\n    <select class="form-control" formControlName="paymentMode" disabled=[disabled] #val (change)="checkType(val.value)" >\r\n      <option value="">--Select--</option>\r\n    <option value="NEFT">NEFT</option>\r\n    <option value="RTGS">RTGS</option>\r\n    <option value="CHEQUE">Cheque</option>\r\n    <option value="NETBANKING">Net Banking</option>\r\n    </select>\r\n    \r\n    \r\n    </div>\r\n    </div>\r\n  <div class="col-md-4 mb-3">\r\n  <label class="control-label font-weight-bold">Date of Refund.</label>\r\n  <input type="date" class="form-control" disabled=[disabled] formControlName="dateRefund" placeholder="">\r\n  \r\n  </div>\r\n  <div class="col-md-4 mb-3">\r\n  <div class="form-group">\r\n  <label class="control-label font-weight-bold">Attach Payment Receipt<sup>*</sup></label>\r\n  <input type="hidden" class="form-control" disabled=[disabled]  [(ngModel)]="outputValue.paymentReceipt" formControlName="paymentReceiptId"  placeholder="" >\r\n  <app-file-upload (myEvent)="setValue($event)" [parm]="{fileId:\'paymentReceipt\',docId:docId1,show:false,fileType:[\'pdf\']}"></app-file-upload>\r\n  \r\n  \r\n  \r\n  </div>\r\n  </div>\r\n  \r\n  </div>  \r\n  <div class="col-md-12  mt-3 pt-4 pb-4" *ngIf="online">\r\n  \x3c!-- <div class="col-md-12 mb-3">\r\n  <div class="badge bg-danger text-white">This panel show when Online payment</div>\r\n  </div>  --\x3e\r\n  <div class="col-md-4 mb-3 ">\r\n  <label class="control-label font-weight-bold">RERA Token No.</label>\r\n  <input type="text" class="form-control" disabled=[disabled] formControlName="reraTokenNo" placeholder="">\r\n  </div>\r\n  </div>\r\n  </div>\r\n  \r\n  <div class="col-md-12 mb-4">\r\n  <label class="control-label font-weight-bold col-md-4">Remarks</label>\r\n  <div class="col-md-8">\r\n  <textarea rows="2" cols="1" disabled=[disabled] class="form-control"></textarea>\r\n  </div>\r\n  </div>\r\n  \r\n\r\n  </form>\r\n  </div>\r\n  </div>\r\n  </div>\r\n  </div>\r\n</div>'},jUNI:function(e,t,n){"use strict";n.r(t),t.default='\r\n<div class="row">\r\n    <div class="col-md-12 mb-4 ">\r\n        <div class="card ">\r\n            <div class="card-header"><b>Offline Payment</b></div>\r\n            <div class="pl-4">\r\n                <form [formGroup]="searchForm" id="validateFoem">\r\n            <div class="row align-items-center mt-3 mb-3 pl-2">\r\n                <div class="form-group col-md-5">\r\n                    <label class="control-label font-weight-bold">Process<sup>*</sup></label>\r\n                    <select class="form-control" formControlName="searchProcess">\r\n                        <option value="">--Select--</option>\r\n                        <option value="Challan">Challan</option>\r\n                    </select>\r\n                </div>\r\n                <div class="form-group col-md-5">\r\n                    <label class="control-label font-weight-bold">Application Number<sup>*</sup></label>\r\n                        <input type="text" class="form-control" formControlName="appNumber">\r\n                </div>\r\n                <div class="form-group col-md-2">\r\n                    <input type="button" class="btn btn-primary mt-5" [disabled]="this.searchForm.invalid" value="Search" (click)="searchData()">\r\n                    </div>\r\n            </div>\r\n        </form>\r\n<div class="table-responsive pl-4" *ngIf="showRespodentData">\r\n    <table class="table table-bordered">\r\n        <thead>\r\n            <tr>\r\n                <th>Respondent Name</th>\r\n                <th>Respondent Email</th>\r\n                <th>Respondent Mobile</th>\r\n                <th>Outstanding Amount</th>\r\n                <th>Paid Amount</th>\r\n                <th>Total Amount</th>\r\n            </tr>\r\n        </thead>\r\n<tbody>\r\n    <tr>\r\n        <td>{{respodantList.respondantUserName}}</td>\r\n        <td>{{respodantList.respondantEmailId}}</td>\r\n        <td>{{respodantList.respondantMobile}}</td>\r\n        <td>{{challanData.outstandingAmount}}</td>\r\n        <td>{{challanData.paidAmount}}</td>\r\n        <td>{{challanData.chalanAmt}}</td>\r\n    </tr>\r\n</tbody>\r\n    </table>   \r\n\r\n    <table class="table table-bordered mt-4">\r\n        <thead>\r\n            <tr>\r\n                <th>Transaction No</th>\r\n                <th>Paid Amount</th>\r\n                <th>Transaction Date</th>\r\n                <th>Download Receipt</th>\r\n            </tr>\r\n        </thead>\r\n<tbody>\r\n    <tr *ngFor="let data of paymentList">\r\n        <td>{{data.transactionNo}}</td>\r\n        <td>{{data.amount}}</td>\r\n        <td>{{data.submissionDate | date: \'dd-MM-yyyy\'}}</td>\r\n        <td><a href="{{data.downloadReceipt}}" class="btn btn-primary" target="_blank" download>Download</a> </td>\r\n    </tr>\r\n</tbody>\r\n    </table>\r\n\r\n</div>\r\n\r\n            <form [formGroup]="offilePaymentForm" id="validateFoem" *ngIf="challanInvalid">\r\n                <input type="hidden" readonly class="form-control" [(ngModel)]="challanData.chalanId" formControlName="processId">\r\n                <input type="hidden" readonly class="form-control" [(ngModel)]="searchValue.searchProcess" formControlName="processType">\r\n                <input type="hidden" readonly class="form-control" [(ngModel)]="respodantList.respondantUserName" formControlName="userName">\r\n                <input type="hidden" readonly class="form-control" [(ngModel)]="respodantList.respondantEmailId" formControlName="emailId">\r\n                <input type="hidden" readonly class="form-control" [(ngModel)]="respodantList.respondantMobile" formControlName="mobileNo">\r\n                <input type="hidden" readonly class="form-control" [(ngModel)]="totalAmount" formControlName="totalAmount">\r\n                <input type="hidden" readonly class="form-control" [(ngModel)]="challanData.chalanNo" formControlName="appNo">\r\n                <div class="card-body">\r\n                    <div class="row">\r\n                        <div class="form-group col-md-4">\r\n                            <label class="control-label font-weight-bold">Payment Head<sup>*</sup></label>\r\n                            <input type="text" readonly class="form-control" [(ngModel)]="challanData.paymentHead" formControlName="paymentHead">\r\n                        </div>\r\n                        <div class="form-group col-md-4">\r\n                            <label class="control-label font-weight-bold">Bank Name<sup>*</sup></label>\r\n                            <input type="hidden" readonly class="form-control" [(ngModel)]="bankName" formControlName="bankName">\r\n                            <select #bankData (click)="selectBank($event, bankData.value)" class="form-control" formControlName="bankCode" [(ngModel)]="bankCode">\r\n                                <option value="">--Select--</option>\r\n                                <option *ngFor="let data of bankMasterData" [value]="data.bankCode">{{data.bankName}}</option>\r\n                            </select>\r\n                            <div class="error-box"><small class="error"> Pay Mode can not be blank</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-4">\r\n                            <label class="control-label font-weight-bold">Pay Mode<sup>*</sup></label>\r\n                            <select class="form-control" #pay formControlName="payMode" (click)="setPayMode(pay.value)">\r\n                                <option value="">--Select--</option>\r\n                                <option value="Demand Draft">Demand Draft</option>\r\n                                <option value="Cheque">Cheque</option>\r\n                                <option value="NEFT">NEFT</option>\r\n                                <option value="RTGS">RTGS</option>\r\n                            </select>\r\n                            <div class="error-box"><small class="error"> Pay Mode can not be blank</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-4">\r\n                            <label class="control-label font-weight-bold">Amount<sup>*</sup></label>\r\n                            <input type="number" [readonly]="splitYes" [(ngModel)]="challanData.outstandingAmount" (focusout)="checkAmount();" (keyup)="checkAmount();" class="form-control" formControlName="amount">\r\n                            <div class="error-box"><small class="error"> The amount should not exceed the outstanding amount</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-4">\r\n                            <label class="control-label font-weight-bold">Re-Confirm Amount<sup>*</sup></label>\r\n                            <input type="number" [(ngModel)]="confirmAmt" (focusout)="confirmAmount()" (keyup)="confirmAmount()" class="form-control" formControlName="confirmAmount">\r\n                            <div class="error-box"><small class="error"> The Confirm Amount is not matching with Outstanding Amount.</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-4">\r\n                            <label class="control-label font-weight-bold">{{payMode}} Number<sup>*</sup></label>\r\n                            <input type="text" class="form-control" formControlName="ddChequeNo">\r\n                            <div class="error-box"><small class="error"> {{payMode}} Number can not be blank</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-4">\r\n                            <label class="control-label font-weight-bold">{{payMode}} Date<sup>*</sup></label>\r\n                            <input type="date" max="{{currentDate | date:\'yyyy-MM-dd\'}}" class="form-control" formControlName="ddChequeDate">\r\n                            <div class="error-box"><small class="error"> {{payMode}} Date can not be blank</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-4">\r\n                            <label class="control-label font-weight-bold">{{payMode}} Received Date<sup>*</sup></label>\r\n                            <input type="date" max="{{currentDate | date:\'yyyy-MM-dd\'}}" class="form-control" formControlName="ddChequeRecievingDate">\r\n                            <div class="error-box"><small class="error"> {{payMode}} Received Date can not be blank</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-4">\r\n                            <label class="control-label font-weight-bold">{{payMode}} Credited on Date<sup>*</sup></label>\r\n                            <input type="date" max="{{currentDate | date:\'yyyy-MM-dd\'}}" class="form-control" formControlName="creditedOnDate">\r\n                            <div class="error-box"><small class="error"> {{payMode}} Credited on Date can not be blank</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-4">\r\n                            <label class="control-label font-weight-bold">Remarks<sup>*</sup></label>\r\n                            <textarea class="form-control" formControlName="remark"></textarea>\r\n                            <div class="error-box"><small class="error"> Remarks can not be blank</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-4">\r\n                            <label class="control-label font-weight-bold">Scan Document<sup>*</sup></label>\r\n                            <input type="hidden" [(ngModel)]="outputValue.scanDocId" class="form-control" formControlName="docId">\r\n                            <app-file-upload (myEvent)="setValue($event)" [parm]="{apiType:\'NEW\',fileId:\'scanDocId\',docId:docId1,close:false,show:false,fileType:[\'pdf\',\'jpg\',\'jpeg\',\'png\']}"></app-file-upload>\r\n                        </div>\r\n                    </div>\r\n<div class="row">\r\n    <div class="col-md-12 text-center">\r\n        <input type="Submit" value="Submit" [disabled]="this.offilePaymentForm.invalid" class="btn btn-primary" (click)="formSubmit()">\r\n    </div>\r\n</div>\r\n                </div>\r\n                \r\n            </form>\r\n        </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n<app-loader *ngIf="loadingSpinner"></app-loader>'},o7Gy:function(e,t,n){"use strict";n.r(t),t.default=""},oKNn:function(e,t,n){"use strict";n.r(t);var a=n("mrSG"),l=n("8Y7J"),r=n("SVse"),o=n("s7LF"),s=n("4nBV"),i=n("ybvR"),d=n("T9Jj"),c=n("iInd"),u=n("vTBr"),p=n("FvaC"),m=function(){function e(t,n){_classCallCheck(this,e),this._http=t,this._apiurl=n}return _createClass(e,[{key:"searchPaymentDetails",value:function(e,t){return"allPayment"==t?this._http.securepost(this._apiurl.payment+"secure/allPaymentDetails-for-dashboard",e):"Withdrawal"==t?this._http.secureget(this._apiurl.projectWithdrawl+"secure/wf-state-code/APPROVED"):"prLand"==t?this._http.secureget(this._apiurl.projectRegAPI+"secure/land-area/status/REFUND"):"enquiry"==t?this._http.secureget(this._apiurl.onlineEnquiry+"secure/trx/refund-payment-list"):this._http.secureget(this._apiurl.projectAlteration+"secure/land-area/status/REFUND")}},{key:"agentWithdrawalList",value:function(){return this._http.secureget(this._apiurl.agentApI+"/secure/agent-withdrawl/approval-list")}},{key:"refundProcessService",value:function(e){return this._http.securepost(this._apiurl.payment+"secure/save-paymentrefund",e)}},{key:"checkForValidTicket",value:function(e){return this._http.secureget(this._apiurl.ticketAPI+"secure/ticket/ticket-no-pending-finance-dep/"+e)}},{key:"getPaymentRefence",value:function(e){return this._http.secureget(this._apiurl.payment+"secure/getPaymentByTrxNo/"+e)}},{key:"getProjectWorkflowId",value:function(e){return this._http.secureget(this._apiurl.projectRegAPI+"secure/project-app/getproject-certdetails/"+e)}},{key:"getProjectAltDetails",value:function(e){return this._http.secureget(this._apiurl.projectAlteration+"secure/"+e)}},{key:"getWofId",value:function(e,t){return"PROJECT_REG"==t?this._http.secureget(this._apiurl.projectRegAPI+"secure/project-app/get-wfo-id-by-prjid/"+e):"PROJECT_ALT"==t?this._http.secureget(this._apiurl.projectAltAPI+"secure/get-wfo-id-by-prjid/"+e):void 0}},{key:"getActivityTble",value:function(e,t){return"PROJECT_REG"==t?this._http.secureget(this._apiurl.projectRegAPI+"secure/getRefundInitiateactivitylog/"+e):"PROJECT_ALT"==t?this._http.secureget(this._apiurl.projectAltAPI+"secure/getRefundInitiateactivitylog/"+e):void 0}},{key:"getAllMsg",value:function(e,t){return this._http.secureget(this._apiurl.payment+"secure/getRefundActivityLog/"+t)}},{key:"refundFilter",value:function(e){return this._http.secureget(this._apiurl.payment+"secure/refundFilter/".concat(e,"/AO"))}},{key:"getAllPaymentDetailsbyProcess",value:function(e){return this._http.secureget(this._apiurl.promoterOnlineEnquiry+"secure/trx/get-all-payment-by-processid/"+e)}}]),e}();m.ctorParameters=function(){return[{type:u.a},{type:p.a}]},m=a.b([Object(l.B)({providedIn:"root"})],m);var y=n("2Vo4"),f=n("I5r7"),h=n("EUZL"),b=function(){function e(t,n,a,l,r){_classCallCheck(this,e),this.exportAsService=t,this.datepipe=n,this._router=a,this._http=l,this._apiUrl=r,this.refundDataVal={},this.allPaymentDetail=new Array,this.requestAmount=0,this.requestPenalty=0,this.ammount=0,this.ticektInfo={},this.confirmationEventB=new y.a({}),this.date=new Date,this.currentDate=new Date,this.close=!0,this.offline=!1,this.online=!1,this.ischeque=!0,this.paymentReceiptUId="",this.docId1=new y.a({}),this.inputJson=new y.a({}),this.modalPopup=!1,this.ca=1,this.loadingSpinner=!1,this.tableJsonData=new y.a({}),this.paginationCount=10,this.isTxnSuccess=!1,this.isTxnSuccessRefund=!1,this.activityHeader=[{label:"Activity On"},{label:"Activity By"},{label:"Department"},{label:"Status"},{label:"Team"},{label:"Remarks"}],this.docId4=new y.a({}),this.optionValue="Pending at AO"}return _createClass(e,[{key:"ngOnInit",value:function(){this.downloadReciept=this._apiUrl.paymentDownload+"downloadPatmentReciept/",this.downloadVdms=this._apiUrl.fileDownloadAPI+"download/",this.fileId={},this.outputValue={},this.maxDate=this.datepipe.transform(new Date(this.currentDate.getFullYear()+10,11,31),"yyyy-MM-dd"),this.currentFormatDate=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.currentToDateFromValue=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.fileId={},this.outputValue={},this.refundForm=new o.d({paymentId:new o.c(null),refundMode:new o.c(null),ammount:new o.c(null,o.h.required),reason:new o.c("",o.h.required),remarks:new o.c(null,o.h.required),transactionNo:new o.c(null),paymentMode:new o.c(null),bankName:new o.c(null),refundedOn:new o.c(null),scanCopyId:new o.c(null),requestId:new o.c(null),ticketNo:new o.c(null),requestAmount:new o.c(null,o.h.required),requestPenalty:new o.c(null,o.h.required),ticketDescription:new o.c(null),ticketAttachmentDocUID:new o.c(null),trxAge:new o.c(null),paymentGateway:new o.c(null),refundStatus:new o.c(null),estdEndDateRefund:new o.c(null),paymentTokenNo:new o.c(null),supportingDocId:new o.c(null),supportingDocUid:new o.c(null)}),this.paymentDetailForm=new o.d({fromDate:new o.c(null),toDate:new o.c(null),processType:new o.c(""),sbiRefNo:new o.c(null),tokenNo:new o.c(null),mode:new o.c(""),status:new o.c("")}),this.getAllPayment()}},{key:"setValue",value:function(e){this.outputValue[e.fid]=e.docid}},{key:"search",value:function(){var e=this;this.loadingSpinner=!0,console.log(this.paymentDetailForm.value),this.loader=!0,this._http.searchPaymentDetails(this.paymentDetailForm.value,"allPayment").subscribe((function(t){e.loadingSpinner=!1,console.log(t),e.allPaymentDetail=t.data;var n=[],a=[];e.allPaymentDetail=[],(n=t.data).length>0&&(n.forEach((function(t){t.transaction.transactionDate&&((a=t.transaction.transactionDate.split("/")).length>0&&(t.transaction.transactionDate=a[0]+"-"+a[1]+"-"+a[2])),e.allPaymentDetail.push(t)})),e.filterDataArray=e.allPaymentDetail,e.dataArray=e.allPaymentDetail,e.tableSortFilter(null,null,null,"default")),e.loader=!1}),(function(t){e.loadingSpinner=!1,console.log(t),e.loader=!1,e.inputJson.next({popShow:!0,popMsg:t.error.message,popClass:"alert alert-danger",popRoute:""})}))}},{key:"getAllPayment",value:function(){var e=this,t=window.location.hash;this.headerType=[],"#/refund-recovery/payment-detail"==t?this.setPaymentType="allPayment":"#/refund-recovery/withdraw-detail"==t&&(this.setPaymentType="Withdrawal"),"allPayment"==this.setPaymentType?this._http.searchPaymentDetails(this.paymentDetailForm.value,this.setPaymentType).subscribe((function(t){console.log(t),t.data,e.allPaymentDetail=[],e.headerType=["Head","Token No","Gateway Reference No","INR Amount(a)","INR Additional Amount(b)","INR Total Amount(a+b)","Transaction Date","Credited On"];var n;n=t.data,e.allPaymentDetail=n,e.filterDataArray=e.allPaymentDetail,e.dataArray=e.allPaymentDetail,e.tableSortFilter(null,null,null,"default"),console.log(e.allPaymentDetail)}),(function(e){console.log(e)})):(this.headerType=["Process Name","Ack No","Project Name","User Name","User Mobile","Total Payment Amount","Req. Refund Amount","Payment Date","Refund Status","Transaction Age(In Days)","Estd. End Date of Refund","Transaction Mode","Payment Token No.","Transaction No.","Gateway Reference No.","Origin Bank","Payment Mode","Payment Gateway","Remaining Days for Refund","Mode Of Refund","Date Of Refund"],this.allPaymentDetail=[],this._http.searchPaymentDetails(this.paymentDetailForm.value,"Withdrawal").subscribe((function(t){console.log(t),t.data.map((function(t){e.allPaymentDetail.push({registraionType:t.processName+" - Withdrawal",paymentRemarks:t.projectAckNo,projectName:t.projectName,userName:t.userName,reqPenaltyAmount:t.promotorMobile,reqTotalAmount:t.totalPaymentAmt,transactionDate:t.approvedAmount,createdOn:t.updatedOn,transactionNo:t.transactionNo,withdrawalId:t.withdrawalId,projectId:t.projectId,trxAge:t.trxAge,refundStatus:t.refundStatus,estdEndDateRefund:t.estdEndDateRefund,trxMode:t.trxMode,paymentGateway:t.paymentGateway,paymentTokenNo:t.paymentTokenNo,sbiReferenceNo:t.sbiReferenceNo,bankCode:t.bankCode,payMode:t.payMode,remainingDays:t.remainingDays,processName:"Withdrawal"})})),e.filterDataArray=e.allPaymentDetail,e.dataArray=e.allPaymentDetail,e.tableSortFilter(null,null,null,"default"),console.log(e.allPaymentDetail)}),(function(e){console.log(e)})),this._http.searchPaymentDetails(this.paymentDetailForm.value,"prLand").subscribe((function(t){console.log(t),t.data.forEach((function(t){e.allPaymentDetail.push({registraionType:"Registration - Land Change",paymentRemarks:t.ackno,projectName:t.projectName,reqAmount:t.promoterName,reqPenaltyAmount:t.promoterMobile,reqTotalAmount:t.oldProjRegFees,transactionDate:t.revicedFee,createdOn:t.activityOn,transactionNo:t.transactionNo,withdrawalId:t.editProjectLandLogId,projectId:t.projectRegId,trxAge:t.trxAge,refundStatus:t.refundStatus,estdEndDateRefund:t.estdEndDateRefund,trxMode:t.trxMode,paymentGateway:t.paymentGateway,paymentTokenNo:t.paymentTokenNo,sbiReferenceNo:t.sbiReferenceNo,bankCode:t.bankCode,payMode:t.payMode,remainingDays:t.remainingDays,processName:"Project Land Area Change"})})),e.filterDataArray=e.allPaymentDetail,e.dataArray=e.allPaymentDetail,e.tableSortFilter(null,null,null,"default"),console.log(e.allPaymentDetail)}),(function(e){console.log(e)})),this._http.searchPaymentDetails(this.paymentDetailForm.value,"enquiry").subscribe((function(t){console.log(t),t.data.forEach((function(t){t.transactionNo||(console.log("element.transactionNo",t.transactionNo),alert(11111)),e._http.getPaymentRefence(t.transactionNo).subscribe((function(n){var a,l=n.data;a="PROJECT_REG_ONLINE"==t.processType?"Registration":"Alteration",l&&e.allPaymentDetail.push({registraionType:a+" - Online Enquiry",paymentRemarks:t.ackNo,projectName:t.projectName,userName:l.userName,reqPenaltyAmount:l.mobileNo,reqTotalAmount:l.reqTotalAmount,reqAmount:t.reqAmount,createdOn:l.createdOn,transactionNo:t.transactionNo,withdrawalId:t.enqId,projectId:t.processId,processName:t.processType,trxAge:l.trxAge,paymentTokenNo:l.paymentTokenNo,refundStatus:l.refundStatus,estdEndDateRefund:l.estdEndDateRefund,paymentGateway:l.paymentGateway,trxMode:l.trxMode,sbiReferenceNo:l.sbiReferenceNo,bankCode:l.bankCode,payMode:l.payMode,remainingDays:l.remainingDays,refundId:l.refund_Id,processId:l.processId,modeofRefund:l.mode_of_refund,dateofRefund:l.date_of_refund})}))})),console.log(e.allPaymentDetail,"datacheck"),e.filterDataArray=e.allPaymentDetail,e.dataArray=e.allPaymentDetail,e.tableSortFilter(null,null,null,"default"),console.log(e.allPaymentDetail)}),(function(e){console.log(e)})),this._http.searchPaymentDetails(this.paymentDetailForm.value,"paLand").subscribe((function(t){console.log(t),t.data.forEach((function(t){e.allPaymentDetail.push({registraionType:"Alteration - Land Change",paymentRemarks:t.ackno,projectName:t.projectName,reqAmount:t.promoterName,reqPenaltyAmount:t.promoterMobile,reqTotalAmount:t.oldProjRegFees,transactionDate:t.revicedFee,createdOn:t.activityOn,transactionNo:t.transactionNo,withdrawalId:t.editProjectLandLogId,projectId:t.projectAltId,trxAge:t.trxAge,refundStatus:t.refundStatus,estdEndDateRefund:t.estdEndDateRefund,trxMode:t.trxMode,paymentGateway:t.paymentGateway,paymentTokenNo:t.paymentTokenNo,sbiReferenceNo:t.sbiReferenceNo,bankCode:t.bankCode,payMode:t.payMode,remainingDays:t.remainingDays,processName:"Alteration Land Area Change"})})),e.filterDataArray=e.allPaymentDetail,e.dataArray=e.allPaymentDetail,e.tableSortFilter(null,null,null,"default"),console.log(e.allPaymentDetail)}),(function(e){console.log(e)})),this.agentWithdrawalList())}},{key:"agentWithdrawalList",value:function(){var e=this;this._http.agentWithdrawalList().subscribe((function(t){for(var n=t.data,a=n.length,l=function(t){console.log("element00element00element00",n[t]),e._http.getPaymentRefence(n[t].txnNo).subscribe((function(a){var l=a.data,r={registraionType:"Agent Application",paymentRemarks:n[t].agentRegistrationNo,projectName:null,userName:n[t].agentName,reqPenaltyAmount:n[t].agentMobile,reqTotalAmount:n[t].totalAmount,transactionDate:l.transactionDate,createdOn:n[t].withdrawalRequestDate,transactionNo:n[t].txnNo,withdrawalId:n[t].docWfoId,projectId:n[t].agentId,trxAge:l.trxAge,refundStatus:l.refundStatus,estdEndDateRefund:l.estdEndDateRefund,trxMode:l.trxMode,paymentGateway:l.paymentGateway,paymentTokenNo:l.paymentTokenNo,sbiReferenceNo:l.sbiReferenceNo,bankCode:l.bankCode,payMode:l.payMode,remainingDays:l.remainingDays,processName:"Withdrawal",modeofRefund:l.mode_of_refund,dateofRefund:l.date_of_refund,reqAmount:n[t].refundAmount};console.log("jsonnnn",r),e.allPaymentDetail.push(r)}))},r=0;r<a;r++)l(r)})),setTimeout((function(){e.filterDataArray=e.allPaymentDetail,e.dataArray=e.allPaymentDetail,e.tableSortFilter(null,null,null,"default")}),4e3)}},{key:"changeDate",value:function(e){this.newDate=new Date(e),this.newDate.setDate(this.newDate.getDate()+1),this.toMinStopage=this.datepipe.transform(this.newDate,"yyyy-MM-dd"),console.log(this.toMinStopage)}},{key:"viewDetails",value:function(e){var t=this;console.log(e),this.projectNameDetail=e.projectName,this.reqRefundForView=e.reqAmount,this._http.getPaymentRefence(e.transactionNo).subscribe((function(e){t.allData=e.data,"SUCCESS"==t.allData.status?t.isTxnSuccessRefund=!0:t.isTxnSuccessRefund=!1,"SUCCESS"==t.allData.status?t.isTxnSuccess=!0:t.isTxnSuccess=!1,t.allData.transactionDate=null==e.data.transactionDate?"NA":e.data.transactionDate,t.allData.paymentTokenNo=null==e.data.paymentTokenNo?"NA":e.data.paymentTokenNo}),(function(e){})),this.modalPopup=!0,this.modalOverlayPopup=!0}},{key:"closePopup",value:function(){this.modalPopup=!1,this.modalOverlayPopup=!1,this.refund_rec=!1,this.activityPopup=!1,this.getAllPaymentdata=[],this.activityLogData=[],this.getdata=[]}},{key:"refundProcess",value:function(e){var t=this;console.log(e),this.projectNameDetailRefund=e.projectName,"HDFC"==e.paymentGateway?"Alteration Land Area Change"==e.processName||"PROJECT_ALT_ONLINE"==e.processName?this._http.getProjectAltDetails(e.projectId).subscribe((function(n){"Approved"==n.data.stateName?t.submitRefundRequest(e):t.inputJson.next({popShow:!0,popMsg:"The application is under process. Please wait for approval",popClass:"alert alert-danger",popRoute:""})}),(function(e){})):"Project Land Area Change"==e.processName||"PROJECT_REG_ONLINE"==e.processName?this._http.getProjectWorkflowId(e.projectId).subscribe((function(n){null!=n.data.certificateUid?t.submitRefundRequest(e):t.inputJson.next({popShow:!0,popMsg:"The application is under process. Please wait for approval",popClass:"alert alert-danger",popRoute:""})}),(function(e){})):this.submitRefundRequest(e):this.inputJson.next({popShow:!0,popMsg:"Online Refund is only available for HDFC Payment Gateway",popClass:"alert alert-danger",popRoute:""})}},{key:"submitRefundRequest",value:function(e){var t=this;console.log(e),this._http.getPaymentRefence(e.transactionNo).subscribe((function(n){t.refundDataVal=n.data,console.log(t.refundDataVal),t.refundDataVal.transactionDate=null==n.data.transactionDate?"NA":n.data.transactionDate,t.refundDataVal.paymentTokenNo=null==n.data.paymentTokenNo?"NA":n.data.paymentTokenNo,t.rRequestId=n.data.rRequestId,t.paymentId=n.data.paymentId,t.refundMode=n.data.trxMode,t.beneficiaryName=n.data.userName,t.beneficiaryMobile=n.data.mobileNo,t.beneficiaryEmail=n.data.emailId,t.transactionDate=n.data.transactionDate,t.sbiReference=n.data.sbiReferenceNo,t.amount=n.data.reqTotalAmount,t.totalAmmountSub=n.data.reqTotalAmount,t.modeSub=n.data.payMode,t.transactionNoSub=n.data.transactionNo,t.processId=e.withdrawalId,t.processName=e.processName,"Withdrawal"==t.setPaymentType&&(t.requestAmount=e.reqAmount,t.ammount=e.reqAmount)}),(function(e){})),this.refund_rec=!0,this.modalOverlayPopup=!0,"OFFLINE"==this.refundMode?this.isOffline=!0:this.isOffline=!1}},{key:"checkType",value:function(e){this.ischeque="CHEQUE"!=e}},{key:"clickToExport",value:function(){var e=h.utils.table_to_sheet(this.tableOpt.nativeElement);console.log(e),e["!cols"]=[],e["!cols"][8]={hidden:!0};var t=h.utils.book_new();h.utils.book_append_sheet(t,e,"Sheet1"),h.writeFile(t,"Payment and Refunds.xlsx")}},{key:"clicToDownloadReceipt",value:function(e){}},{key:"paymentNotMoreThan",value:function(e,t){var n,a;console.log(e,t),n=""==e||null==e?0:e,a=""==t||null==t?0:t,this.ammount=parseInt(n)+parseInt(a),console.log(this.ammount),this.ammount>this.totalAmmountSub&&(this.requestAmount=null,this.inputJson.next({popShow:!0,popMsg:"Refund amount is greater than Paid Amount.",popClass:"alert alert-danger",popRoute:""})),e=e.toString(),t=t.toString(),this.convertFunctionToLocal(e,t)}},{key:"checkTicketNoIsValidOrNot",value:function(e){var t=this;e&&(this.loadingSpinner=!0,this._http.checkForValidTicket(e).subscribe((function(e){console.log(e),t.loadingSpinner=!1,"200"==e.status?t.ticektInfo=e.data:(t.ticektInfo={},t.ticketNo="",t.inputJson.next({popShow:!0,popMsg:"Unable to search record on this Ticket no.",popClass:"alert alert-danger",popRoute:""}))}),(function(e){console.log(e),t.loadingSpinner=!1,t.refundForm.get("ticketNo").reset(),t.inputJson.next({popShow:!0,popMsg:"Unable to search record on this Ticket no.",popClass:"alert alert-danger",popRoute:""})})))}},{key:"refundSubmit",value:function(){var e=this;this.loadingSpinner=!0;var t={paymentId:this.refundForm.value.paymentId,reason:this.refundForm.value.reason,remarks:this.refundForm.value.remarks,paymentMode:this.modeSub,ticketNo:this.refundForm.value.ticketNo,ticketDescription:this.refundForm.value.ticketDescription,ticketAttachment:this.refundForm.value.ticketAttachmentDocUID,totalAmount:this.refundForm.value.ammount,amount:this.refundForm.value.requestAmount,penaltyAmount:this.refundForm.value.requestPenalty,transactionNo:this.refundDataVal.transactionNo,paymentTokenNo:this.refundDataVal.paymentTokenNo,processId:this.processId,processName:this.processName,trxAge:this.trxAge,paymentGateway:this.paymentGateway,estdEndDateRefund:this.estdEndDateRefund,refundStatus:this.refundStatus,supportingDocId:this.refundForm.value.supportingDocId,supportingDocUId:this.refundForm.value.supportingDocUId,projectName:this.projectNameDetailRefund};this._http.refundProcessService(t).subscribe((function(t){e.loadingSpinner=!1,console.log(t),e.refund_rec=!1,e.modalOverlayPopup=!1,e.refundForm.reset(),e.getAllPayment(),e.inputJson.next({popShow:!0,popMsg:"Refund request created successfully",popClass:"alert alert-success",popRoute:""})}),(function(t){e.loadingSpinner=!1,e.inputJson.next({popShow:!0,popMsg:t.error.message,popClass:"alert alert-danger",popRoute:""}),console.log(t)})),this._router.navigate(["refund-recovery/payment-receipt"])}},{key:"showConfirmation",value:function(){this.refundForm.valid&&this.confirmationEventB.next({flag:!0,messageV:"Are you sure want to proceed INR "+this.transformAmount(this.refundForm.value.ammount)+" for refund?"})}},{key:"confirmationEvent",value:function(e){"OK"==e&&this.refundSubmit()}},{key:"transformAmount",value:function(e){return Number(e).toLocaleString("en-IN")}},{key:"convertFunctionToLocal",value:function(e,t){this.requestAmount=e,this.requestPenalty=t}},{key:"removeCommas",value:function(e,t){""!=e&&null!=e&&(e=e.toString(),this.requestAmount=Number(e.replace(/,/g,""))),""!=t&&null!=t&&(t=t.toString(),this.requestPenalty=Number(t.replace(/,/g,"")))}},{key:"allowNumericOnly",value:function(e){var t;return console.log(e.which),e.target.value,!(!e.metaKey&&!e.ctrlKey&&37!==e.which&&39!==e.which)||32!==e.which&&(0===e.which||e.which<33||(t=String.fromCharCode(e.which),!!/[\d\s]/.test(t)))}},{key:"tableSortFilter",value:function(e,t,n,a){this.sortData="default"==a?{sortType:"DESC",key:"createdOn",typ:"date",sort:a}:{sortType:e,key:t,typ:n,sort:a};var l={headers:[{key:"registraionType",label:this.headerType[0],type:"string"},{key:"paymentRemarks",label:this.headerType[1],type:"string"},{key:"projectName",label:this.headerType[2],type:"string"},{key:"userName",label:this.headerType[3],type:"string"},{key:"reqPenaltyAmount",label:this.headerType[4],type:"number"},{key:"trxMode",label:this.headerType[11],type:"string"},{key:"paymentGateway",label:this.headerType[17],type:"string"},{key:"paymentTokenNo",label:this.headerType[12],type:"string"},{key:"transactionNo",label:this.headerType[13],type:"string"},{key:"sbiReferenceNo",label:this.headerType[14],type:"string"},{key:"payMode",label:this.headerType[16],type:"string"},{key:"bankCode",label:this.headerType[15],type:"string"},{key:"createdOn",label:this.headerType[7],type:"date"},{key:"modeofRefund",label:this.headerType[19],type:"string"},{key:"dateofRefund",label:this.headerType[20],type:"date"},{key:"reqTotalAmount",label:this.headerType[5],type:"number"},{key:"transactionDate",label:this.headerType[6],type:"string"},{key:"estdEndDateRefund",label:this.headerType[10],type:"date"},{key:"remainingDays",label:this.headerType[18],type:"string"},{key:"refundStatus",label:this.headerType[8],type:"string"}],actualArray:this.allPaymentDetail,sortData:this.sortData};this.tableHeader=l.headers,this.tableJsonData.next({exportJson:l}),console.log(l)}},{key:"filterValue",value:function(e){console.log(e),this.filterDataArray=e.filterArray,this.sortData=e.sort,this.getPageNo(1)}},{key:"getPageNo",value:function(e){var t=this;this.currentPageNo=e,this.filterDataArray.length>9&&(this.paginationCount=10*e),0==this.filterDataArray.length&&(this.paginationCount=0),setTimeout((function(){document.querySelector("#foo1").querySelector(".pagination-next").classList.contains("disabled")&&(t.paginationCount=t.filterDataArray.length)}),100)}},{key:"openProjectDetails",value:function(e,t,n){var a,l=this;this.loader=!0,console.log(n),"Registration - Withdrawal"==t||"Registration - Land Change"==t||"Registration - Online Enquiry"==t?a="PROJECT_REG":"Alteration - Withdrawal"!=t&&"Alteration - Land Change"!=t&&"Alteration - Online Enquiry"!=t||(a="PROJECT_ALT"),"Agent Application"==t?(sessionStorage.setItem("AGwfoId",n.withdrawalId),sessionStorage.setItem("agentId",n.projectId),this._router.navigate(["agent-app/agent-process"])):this._http.getWofId(e,a).subscribe((function(e){sessionStorage.setItem("outSideAccess","outSideAccess"),sessionStorage.setItem("wfoId",e.data),l.loader=!1,"PROJECT_REG"==a?l._router.navigate(["workflow"]):"PROJECT_ALT"==a&&l._router.navigate(["workflow/altration"])}),(function(e){console.log(e),l.loader=!1,l.inputJson.next({popShow:!0,popMsg:"Something went wrong",popClass:"alert alert-danger",popRoute:""})}))}},{key:"actionOfRadio",value:function(e){var t=this;this.optionValue=e.target.value,this.loader=!0,"Pending at AO"===this.optionValue||"underApproval"===this.optionValue?(this.getAllPayment(),this.loader=!1):(this.loader=!0,this._http.refundFilter(this.optionValue).subscribe((function(e){var n=e.data?e.data:t.filterDataArray=[];console.log(n,"ackcheck"),n.length>0?(n.map((function(e){t.allPaymentDetail=[],t._http.getPaymentRefence(e.transaction_No).subscribe((function(n){var a,l=n.data;console.log("refund",l.refund_Id),console.log(l,"ackcheck"),a="PROJECT_REG_ONLINE"==e.processType?"Registration":"Alteration",t.allPaymentDetail.push({registraionType:a+" - Online Enquiry",paymentRemarks:l.paymentRemarks,projectName:e.project_Name,userName:l.userName,reqPenaltyAmount:l.mobileNo,reqTotalAmount:e.payment_Amount,reqAmount:e.refunded_Amount,createdOn:l.createdOn,transactionNo:e.transaction_No,withdrawalId:e.enqId,projectId:l.processId,processName:e.process_Name,trxAge:l.trxAge,paymentTokenNo:e.payment_Token_No,refundStatus:e.refund_Status,estdEndDateRefund:l.estdEndDateRefund,paymentGateway:e.payment_Gateway,trxMode:l.trxMode,sbiReferenceNo:l.sbiReferenceNo,bankCode:l.bankCode,payMode:l.payMode,remainingDays:l.remainingDays,refundId:l.refund_Id,processId:l.processId,modeofRefund:l.mode_of_refund,dateofRefund:l.date_of_refund}),t.filterDataArray=t.allPaymentDetail,t.tableSortFilter(null,null,null,"default")})),console.log(t.filterDataArray,"fulldata"),t.loader=!1})),t.loader=!1):(t.loader=!1,console.log("error works fine"))})))}},{key:"activityLog",value:function(e,t,n,a,l,r,o){var s,i=this;console.log(n),this.loader=!0,"Registration - Withdrawal"==t||"Registration - Land Change"==t||"Registration - Online Enquiry"==t?s="PROJECT_REG":"Alteration - Withdrawal"!=t&&"Alteration - Land Change"!=t&&"Alteration - Online Enquiry"!=t||(s="PROJECT_ALT"),this.activityProjectAck=n,s&&this._http.getWofId(r,s).subscribe((function(e){console.log("wid1",e.data),i._http.getActivityTble(e.data,s).subscribe((function(e){i.promoterName=o,console.log(e,"wid"),i.getdata=e.data}),(function(e){console.log(e),i.getdata=[]}))})),this._http.getAllPaymentDetailsbyProcess(r).subscribe((function(e){"200"==e.status&&(i.getAllPaymentdata=e.data)}),(function(e){console.log(e),i.getAllPaymentdata=[]})),this._http.getAllMsg(s,l).subscribe((function(e){i.activityLogData=e.data[0].activityLog,i.loader=!1}),(function(e){console.log(e),i.loader=!1,i.activityLogData=[]})),this.projectName_poup=a,this.activityPopup=!0,this.modalOverlayPopup=!0}},{key:"openToolTip",value:function(e,t){this.tooltipJson.next({pageX:e.pageX,pageY:e.pageY,code:t})}},{key:"clickToPrint",value:function(){document.getElementsByTagName("title")[0].innerHTML=this.projectName_poup+this.datepipe.transform(new Date,"dd-MM-yyyy"),setTimeout((function(){document.getElementsByTagName("title")[0].innerHTML="Gujarat Real Estate Regulatory Authority"}),1e3);var e=document.getElementById("print-section");e.querySelectorAll(".printHide").forEach((function(e){e.remove()}));var t=document.createElement("div");t.appendChild(e),window.document.body.innerHTML=t.innerHTML,window.print(),window.location.reload()}}]),e}();b.ctorParameters=function(){return[{type:f.b},{type:r.e},{type:c.e},{type:m},{type:p.a}]},a.b([Object(l.kb)("tableOpt",{static:!1})],b.prototype,"tableOpt",void 0),b=a.b([Object(l.n)({selector:"app-payment-detail",template:a.c(n("+DlQ")).default,styles:[a.c(n("560Y")).default]})],b);var v=function(){function e(t,n){_classCallCheck(this,e),this._http=t,this._apiurl=n}return _createClass(e,[{key:"searchPaymentDetails",value:function(e){return this._http.secureget(this._apiurl.payment+"secure/apply-paymentrefund")}},{key:"getPaymentRefence",value:function(e){return this._http.secureget(this._apiurl.payment+"secure/getPaymentByTrxNo/"+e)}}]),e}();v.ctorParameters=function(){return[{type:u.a},{type:p.a}]},v=a.b([Object(l.B)({providedIn:"root"})],v);var g=n("p87Y"),D=function(){function e(t,n,a,l,r){_classCallCheck(this,e),this.datepipe=t,this._router=n,this._http=a,this._apiUrl=l,this._validation=r,this.allPaymentDetail=new Array,this.mainResponse={},this.modalPopup=!1,this.allData={},this.date=new Date,this.currentDate=new Date,this.inputJson=new y.a({}),this.tableJsonData=new y.a({}),this.paginationCount=10}return _createClass(e,[{key:"ngOnInit",value:function(){this.currentFormatDate=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.currentToDate=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.downloadReciept=this._apiUrl.paymentDownload+"downloadPatmentReciept/",this.userType=sessionStorage.getItem("userType"),this.approvalForm=new o.d({fromDate:new o.c(null,o.h.required),toDate:new o.c(null,o.h.required),processType:new o.c(""),sbiRefNo:new o.c(null),tokenNo:new o.c(null),mode:new o.c("")}),this.approveReject=new o.d({refundId:new o.c(null,o.h.required),authRemarks:new o.c(null,o.h.required),checkUserAction:new o.c(null,o.h.required),amount:new o.c(null,[o.h.required,o.h.pattern(this._validation.numRegex)]),penaltyAmount:new o.c(null,[o.h.required,o.h.pattern(this._validation.numRegex)]),totalAmount:new o.c(null,[o.h.required,o.h.pattern(this._validation.numRegex)])}),this.getAllPayment()}},{key:"closePopup",value:function(){this.modalPopup=!1}},{key:"search",value:function(){var e=this;console.log(this.approvalForm.value),this.loader=!0,this._http.searchPaymentDetails(this.approvalForm.value).subscribe((function(t){console.log(t),e.allPaymentDetail=[];var n=[];(n=t.data).length>0&&n.forEach((function(t){isNaN(parseInt(t.refundedAmount))?t.refundedAmount=0:t.refundedAmount=parseInt(t.refundedAmount),isNaN(parseInt(t.penaltyAmount))?t.penaltyAmount=0:t.penaltyAmount=parseInt(t.penaltyAmount),t.totalAmount=t.penaltyAmount+t.refundedAmount,e.allPaymentDetail.push(t)})),e.filterDataArray=e.allPaymentDetail,e.dataArray=e.allPaymentDetail,e.tableSortFilter(null,null,null,"default"),e.loader=!1}),(function(t){console.log(t),e.loader=!1,e.inputJson.next({popShow:!0,popMsg:t.error.message,popClass:"alert alert-danger",popRoute:""})}))}},{key:"getAllPayment",value:function(){var e=this;this._http.searchPaymentDetails({fromDate:this.currentFormatDate,toDate:this.currentFormatDate}).subscribe((function(t){console.log(t.data),e.allPaymentDetail=[];var n=[];(n=t.data).length>0&&n.forEach((function(t){isNaN(parseInt(t.refundedAmount))?t.refundedAmount=0:t.refundedAmount=parseInt(t.refundedAmount),isNaN(parseInt(t.penaltyAmount))?t.penaltyAmount=0:t.penaltyAmount=parseInt(t.penaltyAmount),t.totalAmount=t.penaltyAmount+t.refundedAmount,e.allPaymentDetail.push(t)})),e.filterDataArray=e.allPaymentDetail,e.dataArray=e.allPaymentDetail,e.tableSortFilter(null,null,null,"default")}),(function(e){console.log(e)}))}},{key:"changeDate",value:function(e){this.newDate=new Date(e),this.newDate.setDate(this.newDate.getDate()+1),this.toMinStopage=this.datepipe.transform(this.newDate,"yyyy-MM-dd"),console.log(this.toMinStopage)}},{key:"takeActionOnData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log(t),this.mainResponse=t,this._http.getPaymentRefence(t.transactionNo).subscribe((function(t){e.modalPopup=!0,null!=t.data&&(e.allData=t.data)}),(function(e){console.log(e)}))}},{key:"transformAmount",value:function(e){return Number(e).toLocaleString("en-IN")}},{key:"tableSortFilter",value:function(e,t,n,a){this.sortData="default"==a?{sortType:"DESC",key:"refundInitDate",typ:"date",sort:a}:{sortType:e,key:t,typ:n,sort:a};var l={headers:[{key:"paymentType",label:"Payment Type",type:"string"},{key:"paymentTokenNo",label:"Token No",type:"string"},{key:"transactionNo",label:"Transaction No",type:"string"},{key:"transactionRefNo",label:"Gateway Reference No",type:"string"},{key:"paymentGateway",label:"Payment Gateway",type:"string"},{key:"ticketNo",label:"Ticket No",type:"string"},{key:"paymentAmount",label:"INR Total Paid Amount",type:"string"},{key:"refundedAmount",label:"INR Refund Amount(a)",type:"string"},{key:"penaltyAmount",label:"INR Additional Refund Amount(b)",type:"string"},{key:"totalAmount",label:"INR Total Refund Amount(a+b)",type:"string"},{key:"refundInitDate",label:"Initiated On",type:"date"}],actualArray:this.allPaymentDetail,sortData:this.sortData};this.tableHeader=l.headers,this.tableJsonData.next({exportJson:l}),console.log(l)}},{key:"filterValue",value:function(e){console.log(e),this.filterDataArray=e.filterArray,this.sortData=e.sort,this.getPageNo(1)}},{key:"getPageNo",value:function(e){var t=this;this.currentPageNo=e,this.filterDataArray.length>9&&(this.paginationCount=10*e),0==this.filterDataArray.length&&(this.paginationCount=0),setTimeout((function(){document.querySelector("#foo1").querySelector(".pagination-next").classList.contains("disabled")&&(t.paginationCount=t.filterDataArray.length)}),100)}}]),e}();D.ctorParameters=function(){return[{type:r.e},{type:c.e},{type:v},{type:p.a},{type:g.a}]},D=a.b([Object(l.n)({selector:"app-approval-payment",template:a.c(n("qeaw")).default,styles:[a.c(n("oUdY")).default]})],D);var w=function(){function e(t,n){_classCallCheck(this,e),this._http=t,this._apiurl=n}return _createClass(e,[{key:"searchPaymentDetails",value:function(e){return this._http.securepost(this._apiurl.payment+"secure/paymentrefunded-list",e)}},{key:"refundProcessService",value:function(e){return this._http.securepost(this._apiurl.payment+"secure/save-paymentrefund",e)}},{key:"getPaymentRefence",value:function(e){return this._http.secureget(this._apiurl.payment+"secure/getPaymentByTrxNo/"+e)}}]),e}();w.ctorParameters=function(){return[{type:u.a},{type:p.a}]},w=a.b([Object(l.B)({providedIn:"root"})],w);var A=function(){function e(t,n,a,l,r){_classCallCheck(this,e),this.exportAsService=t,this.datepipe=n,this._router=a,this._http=l,this._apiUrl=r,this.confirmationEventB=new y.a({}),this.inputJson=new y.a({}),this.allPaymentDetail=new Array,this.allData={},this.modalPopup=!1,this.modalOverlayPopup=!1,this.loadingSpinner=!1,this.refundDataVal={},this.refundListOfData=new Array,this.ca=1,this.date=new Date,this.currentDate=new Date,this.messageToFilter=!1,this.tableJsonData=new y.a({}),this.paginationCount=10}return _createClass(e,[{key:"ngOnInit",value:function(){this.currentFormatDate=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.currentToDate=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.downloadReciept=this._apiUrl.paymentDownload+"downloadPatmentReciept/",this.downloadVdms=this._apiUrl.fileDownloadAPI+"download/",this.refundForm=new o.d({paymentId:new o.c(null),refundMode:new o.c(null),ammount:new o.c(null,o.h.required),reason:new o.c("",o.h.required),remarks:new o.c(null,o.h.required),transactionNo:new o.c(null),paymentMode:new o.c(null),bankName:new o.c(null),refundedOn:new o.c(null),scanCopyId:new o.c(null),requestId:new o.c(null),checkbox:new o.c(null,o.h.requiredTrue),ticketNo:new o.c(null),requestAmount:new o.c(null,o.h.required),requestPenalty:new o.c(null,o.h.required),ticketDescription:new o.c(null)}),this.refundedForm=new o.d({fromDate:new o.c(null),toDate:new o.c(null,o.h.required),processType:new o.c(""),sbiRefNo:new o.c(null),tokenNo:new o.c(null),mode:new o.c("")}),this.getAllPayment()}},{key:"clickToExport",value:function(){var e=h.utils.table_to_sheet(this.tableOpt.nativeElement);console.log(e),e["!cols"]=[],e["!cols"][7]={hidden:!0};var t=h.utils.book_new();h.utils.book_append_sheet(t,e,"Sheet1"),h.writeFile(t,"Payment and Refunds.xlsx")}},{key:"search",value:function(){var e=this;this.messageToFilter=!0,this.loadingSpinner=!0,console.log(this.refundedForm.value),this.loader=!0,this._http.searchPaymentDetails(this.refundedForm.value).subscribe((function(t){e.loadingSpinner=!1,console.log(t);var n=[],a=[];e.allPaymentDetail=[],(n=t.data).length>0&&(n.forEach((function(t){t.hasOwnProperty("transaction")&&t.transaction.hasOwnProperty("transactionDate")&&((a=t.transaction.transactionDate.split("/")).length>0&&(t.transaction.transactionDate=a[0]+"-"+a[1]+"-"+a[2])),isNaN(parseInt(t.refundedAmount))?t.refundedAmount=0:t.refundedAmount=parseInt(t.refundedAmount),isNaN(parseInt(t.penaltyAmount))?t.penaltyAmount=0:t.penaltyAmount=parseInt(t.penaltyAmount),t.totalAmount=t.penaltyAmount+t.refundedAmount,e.allPaymentDetail.push(t)})),e.filterDataArray=e.allPaymentDetail,e.dataArray=e.allPaymentDetail,e.tableSortFilter(null,null,null,"default")),e.loader=!1}),(function(t){e.loadingSpinner=!1,console.log(t),e.loader=!1,e.inputJson.next({popShow:!0,popMsg:t.error.message,popClass:"alert alert-danger",popRoute:""})}))}},{key:"getAllPayment",value:function(){var e=this;this._http.searchPaymentDetails(this.refundedForm.value).subscribe((function(t){console.log(t.data);var n=[],a=[];e.allPaymentDetail=[],(n=t.data).length>0&&(n.forEach((function(t){t.hasOwnProperty("transaction")&&t.transaction.hasOwnProperty("transactionDate")&&((a=t.transaction.transactionDate.split("/")).length>0&&(t.transaction.transactionDate=a[0]+"-"+a[1]+"-"+a[2])),isNaN(parseInt(t.refundedAmount))?t.refundedAmount=0:t.refundedAmount=parseInt(t.refundedAmount),isNaN(parseInt(t.penaltyAmount))?t.penaltyAmount=0:t.penaltyAmount=parseInt(t.penaltyAmount),t.totalAmount=t.penaltyAmount+t.refundedAmount,e.allPaymentDetail.push(t)})),e.filterDataArray=e.allPaymentDetail,e.dataArray=e.allPaymentDetail,e.tableSortFilter(null,null,null,"default"))}),(function(e){console.log(e)}))}},{key:"changeDate",value:function(e){this.newDate=new Date(e),this.newDate.setDate(this.newDate.getDate()+1),this.toMinStopage=this.datepipe.transform(this.newDate,"yyyy-MM-dd"),console.log(this.toMinStopage)}},{key:"transformAmount",value:function(e){return Number(e).toLocaleString("en-IN")}},{key:"viewDetails",value:function(e){var t=this;console.log(e),this._http.getPaymentRefence(e.transactionNo).subscribe((function(e){t.allData=e.data,t.mainResponse=e.data,t.modalPopup=!0,t.modalOverlayPopup=!0}),(function(e){}))}},{key:"refundProcess",value:function(e){console.log(e),this.refundDataVal=e.transaction,this.rRequestId=e.rRequestId,this.paymentId=e.payId,this.refundMode=e.transaction.trxMode,this.beneficiaryName=e.transaction.userName,this.beneficiaryMobile=e.transaction.mobileNo,this.beneficiaryEmail=e.transaction.emailId,this.transactionDate=e.transaction.transactionDate,this.sbiReference=e.transaction.sbiReferenceNo,this.amount=e.transaction.reqTotalAmount,this.totalAmmountSub=e.totalAmmount,this.modeSub=e.trxMode,this.transactionNoSub=e.transaction.transactionNo,this.refund_rec=!0,this.modalOverlayPopup=!0,"OFFLINE"==e.transaction.trxMode?this.isOffline=!0:this.isOffline=!1}},{key:"closePopup",value:function(){this.modalPopup=!1,this.modalOverlayPopup=!1,this.refund_rec=!1}},{key:"confirmationEvent",value:function(e){console.log(e)}},{key:"tableSortFilter",value:function(e,t,n,a){this.sortData="default"==a?{sortType:"DESC",key:"createdOn",typ:"date",sort:a}:{sortType:e,key:t,typ:n,sort:a};var l={headers:[{key:"paymentType",label:"Head",type:"string"},{key:"paymentTokenNo",label:"Token No",type:"string"},{key:"transactionNo",label:"Transaction No",type:"string"},{key:"transactionRefNo",label:"Gateway Reference No",type:"string"},{key:"paymentGateway",label:"Payment Gateway",type:"string"},{key:"paymentAmount",label:"INR Total Paid Amount",type:"number"},{key:"refundedAmount",label:"INR Refund Amount(a)",type:"number"},{key:"penaltyAmount",label:"INR Additional Refund Amount(b)",type:"number"},{key:"totalAmount",label:"INR Total Refund Amount(a+b)",type:"number"},{key:"refundInitDate",label:"Initiated On",type:"date"}],actualArray:this.allPaymentDetail,sortData:this.sortData};this.tableHeader=l.headers,this.tableJsonData.next({exportJson:l}),console.log(l)}},{key:"filterValue",value:function(e){console.log(e),this.filterDataArray=e.filterArray,this.sortData=e.sort,this.getPageNo(1)}},{key:"getPageNo",value:function(e){var t=this;this.currentPageNo=e,this.filterDataArray.length>9&&(this.paginationCount=10*e),0==this.filterDataArray.length&&(this.paginationCount=0),setTimeout((function(){document.querySelector("#foo1").querySelector(".pagination-next").classList.contains("disabled")&&(t.paginationCount=t.filterDataArray.length)}),100)}}]),e}();A.ctorParameters=function(){return[{type:f.b},{type:r.e},{type:c.e},{type:w},{type:p.a}]},a.b([Object(l.kb)("tableOpt",{static:!1})],A.prototype,"tableOpt",void 0),A=a.b([Object(l.n)({selector:"app-refunded",template:a.c(n("dbMI")).default,styles:[a.c(n("ICAx")).default]})],A);var N=function(){function e(t){_classCallCheck(this,e),this._router=t,this.offline=!1,this.online=!1,this.ischeque=!0,this.paymentReceiptUId="",this.docId1=new y.a({})}return _createClass(e,[{key:"ngOnInit",value:function(){this.fileId={},this.outputValue={},this.refundForm=new o.d({refundIdFlag:new o.c(null),reraTokenNo:new o.c(null),transactionRefNo:new o.c(null),dateRefund:new o.c(null),paymentReceiptId:new o.c(null),paymentReceiptUId:new o.c(null),paymentMode:new o.c("")})}},{key:"setValue",value:function(e){this.outputValue[e.fid]=e.docid}},{key:"checkRadio",value:function(e){var t=this.refundForm.get("transactionRefNo"),n=this.refundForm.get("dateRefund"),a=this.refundForm.get("paymentReceipt"),l=this.refundForm.get("paymentMode");"Offline"==e.target.value?(this.online=!1,t.setValidators([o.h.nullValidator]),n.setValidators([o.h.nullValidator]),a.setValidators([o.h.nullValidator]),l.setValidators([o.h.nullValidator])):(this.online=!0,t.setValidators([o.h.nullValidator]),n.setValidators([o.h.nullValidator]),a.setValidators([o.h.nullValidator]),l.setValidators([o.h.nullValidator])),t.updateValueAndValidity(),n.updateValueAndValidity(),a.updateValueAndValidity(),l.updateValueAndValidity()}},{key:"checkType",value:function(e){this.ischeque="CHEQUE"!=e}}]),e}();N.ctorParameters=function(){return[{type:c.e}]},N=a.b([Object(l.n)({selector:"app-payment-receipt",template:a.c(n("fuKm")).default,styles:[a.c(n("o7Gy")).default]})],N);var k=function(){function e(t,n){_classCallCheck(this,e),this._http=t,this._apiurl=n}return _createClass(e,[{key:"searchPaymentDetails",value:function(e){return this._http.securepost(this._apiurl.payment+"secure/allPaymentDetails",e)}},{key:"refundProcessService",value:function(e){return this._http.securepost(this._apiurl.payment+"secure/save-paymentrefund",e)}}]),e}();k.ctorParameters=function(){return[{type:u.a},{type:p.a}]},k=a.b([Object(l.B)({providedIn:"root"})],k);var R=function(){function e(t,n,a,l){_classCallCheck(this,e),this.exportAsService=t,this.datepipe=n,this._router=a,this._http=l,this.date=new Date,this.currentDate=new Date,this.close=!0,this.offline=!1,this.online=!1,this.ischeque=!0,this.paymentReceiptUId="",this.docId1=new y.a({}),this.inputJson=new y.a({}),this.modalPopup=!1,this.ca=1}return _createClass(e,[{key:"ngOnInit",value:function(){this.fileId={},this.outputValue={},this.maxDate=this.datepipe.transform(new Date(this.currentDate.getFullYear()+10,11,31),"yyyy-MM-dd"),this.currentFormatDate=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.currentToDate=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.fileId={},this.outputValue={},this.refundForm=new o.d({paymentId:new o.c(null),refundMode:new o.c(null),ammount:new o.c(null,o.h.required),reason:new o.c(null,o.h.required),remarks:new o.c(null,o.h.required),transactionNo:new o.c(null),paymentMode:new o.c(null),bankName:new o.c(null),refundedOn:new o.c(null),scanCopyId:new o.c(null),requestId:new o.c(null)}),this.paymentDetailForm=new o.d({fromDate:new o.c(null),toDate:new o.c(null),processType:new o.c(""),sbiRefNo:new o.c(null),tokenNo:new o.c(null),mode:new o.c(""),status:new o.c("PENDING")}),this.getAllPayment()}},{key:"setValue",value:function(e){this.outputValue[e.fid]=e.docid}},{key:"search",value:function(){var e=this;console.log(this.paymentDetailForm.value),this.loader=!0,this._http.searchPaymentDetails(this.paymentDetailForm.value).subscribe((function(t){console.log(t),e.allPaymentDetail=t.data,e.loader=!1}),(function(t){console.log(t),e.loader=!1,e.inputJson.next({popShow:!0,popMsg:t.error.message,popClass:"alert alert-danger",popRoute:""})}))}},{key:"getAllPayment",value:function(){var e=this;this._http.searchPaymentDetails({fromDate:this.currentFormatDate,toDate:this.currentFormatDate}).subscribe((function(t){console.log(t.data),e.allPaymentDetail=t.data}),(function(e){console.log(e)}))}},{key:"changeDate",value:function(e){this.newDate=new Date(e),this.newDate.setDate(this.newDate.getDate()+1),this.toMinStopage=this.datepipe.transform(this.newDate,"yyyy-MM-dd"),console.log(this.toMinStopage)}},{key:"viewDetails",value:function(e){this.allData=e.transaction,this.modalPopup=!0,this.modalOverlayPopup=!0}},{key:"closePopup",value:function(){this.modalPopup=!1,this.modalOverlayPopup=!1,this.refund_rec=!1}},{key:"refundProcess",value:function(e){console.log(e),this.rRequestId=e.rRequestId,this.paymentId=e.payId,this.refundMode=e.transaction.trxMode,this.beneficiaryName=e.transaction.userName,this.beneficiaryMobile=e.transaction.mobileNo,this.beneficiaryEmail=e.transaction.emailId,this.transactionDate=e.transaction.transactionDate,this.sbiReference=e.transaction.sbiReferenceNo,this.amount=e.transaction.reqTotalAmount,this.refund_rec=!0,this.modalOverlayPopup=!0,"OFFLINE"==e.transaction.trxMode?this.isOffline=!0:this.isOffline=!1}},{key:"refundSubmit",value:function(){var e=this;console.log(this.refundForm.value),this._http.refundProcessService(this.refundForm.value).subscribe((function(t){console.log(t),e.refund_rec=!1,e.refundForm.reset(),e.inputJson.next({popShow:!0,popMsg:"Refund request created successfully",popClass:"alert alert-success",popRoute:""})}),(function(t){e.inputJson.next({popShow:!0,popMsg:t.error.message,popClass:"alert alert-danger",popRoute:""}),console.log(t)}))}},{key:"checkType",value:function(e){this.ischeque="CHEQUE"!=e}},{key:"clickToExport",value:function(){var e=h.utils.table_to_sheet(this.tableOpt.nativeElement);console.log(e),e["!cols"]=[],e["!cols"][7]={hidden:!0};var t=h.utils.book_new();h.utils.book_append_sheet(t,e,"Sheet1"),h.writeFile(t,"Payment and Refunds.xlsx")}}]),e}();R.ctorParameters=function(){return[{type:f.b},{type:r.e},{type:c.e},{type:k}]},a.b([Object(l.kb)("tableOpt",{static:!1})],R.prototype,"tableOpt",void 0),R=a.b([Object(l.n)({selector:"app-refund-request",template:a.c(n("sF7i")).default,styles:[a.c(n("sG7q")).default]})],R);var x=function(){function e(t,n){_classCallCheck(this,e),this._http=t,this._apiurl=n}return _createClass(e,[{key:"searchPaymentDetails",value:function(e){return this._http.secureget(this._apiurl.payment+"secure/init-refund-list")}},{key:"approvePaymentDetails",value:function(e,t){return"APPROVE"==t?this._http.securepost(this._apiurl.payment+"secure/approve-paymentrefund",e):this._http.securepost(this._apiurl.payment+"secure/reject-paymentrefund",e)}},{key:"rejectPaymentDetails",value:function(e){return this._http.securepost(this._apiurl.payment+"secure/reject-paymentrefund",e)}},{key:"getPaymentRefence",value:function(e){return this._http.secureget(this._apiurl.payment+"secure/getPaymentByTrxNo/"+e)}},{key:"refundFilter",value:function(e){return this._http.secureget(this._apiurl.payment+"secure/refundFilter/".concat(e,"/FO"))}},{key:"getAllMsg",value:function(e,t){return this._http.secureget(this._apiurl.payment+"secure/getRefundActivityLog/"+t)}},{key:"getWofId",value:function(e,t){return"PROJECT_REG"==t?this._http.secureget(this._apiurl.projectRegAPI+"secure/project-app/get-wfo-id-by-prjid/"+e):"PROJECT_ALT"==t?this._http.secureget(this._apiurl.projectAltAPI+"secure/get-wfo-id-by-prjid/"+e):void 0}},{key:"getAllPaymentDetailsbyProcess",value:function(e){return this._http.secureget(this._apiurl.promoterOnlineEnquiry+"secure/trx/get-all-payment-by-processid/"+e)}},{key:"getActivityTble",value:function(e,t){return"PROJECT_REG"==t?this._http.secureget(this._apiurl.projectRegAPI+"secure/getRefundInitiateactivitylog/"+e):"PROJECT_ALT"==t?this._http.secureget(this._apiurl.projectAltAPI+"secure/getRefundInitiateactivitylog/"+e):void 0}},{key:"getAgnetId",value:function(e){return this._http.secureget(this._apiurl.AgentRegAPI+"get-withdrawl-agent-id-by-wfo-id/"+e)}},{key:"getWithdrawalDetails",value:function(e){return this._http.secureget(this._apiurl.AgentRegAPI+"secure/get-withdrawl-details-by-wfo-docid/"+e)}}]),e}();x.ctorParameters=function(){return[{type:u.a},{type:p.a}]},x=a.b([Object(l.B)({providedIn:"root"})],x);var P=function(){function e(t,n,a,l,r){_classCallCheck(this,e),this.datepipe=t,this._router=n,this._http=a,this._apiUrl=l,this._validation=r,this.confirmationEventB=new y.a({}),this.allPaymentDetail=new Array,this.showRejectedResponse={},this.showApprovedResponse={},this.mainResponse={},this.loadingSpinner=!1,this.fileId={},this.outputValue={},this.activityLogData=[],this.modalAOPopup=!1,this.date=new Date,this.currentDate=new Date,this.inputJson=new y.a({}),this.allData={},this.requestAmount="",this.requestPenalty="",this.ammount=0,this.amount=0,this.penaltyAmount=0,this.checkUserAction="APPROVE",this.tableJsonData=new y.a({}),this.paginationCount=10,this.docId4=new y.a({}),this.getAllTxn=[],this.isTxnSuccess=!1,this.optionValue="Pending at FO",this.activityHeader=[{label:"Activity On"},{label:"Activity By"},{label:"Department"},{label:"Status"},{label:"Team"},{label:"Remarks"}],this.getAllPaymentdata=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.downloadReciept=this._apiUrl.paymentDownload+"downloadPatmentReciept/",this.downloadVdms=this._apiUrl.fileDownloadAPI+"download/",this.currentFormatDate=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.currentToDate=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.approveReject=new o.d({refundId:new o.c(null,o.h.required),authRemarks:new o.c(null,o.h.required),checkUserAction:new o.c(null,o.h.required),amount:new o.c(null,[o.h.required]),penaltyAmount:new o.c(null,[o.h.required]),totalAmount:new o.c(null,[o.h.required]),supportingDocId:new o.c(null),supportingDocUid:new o.c(null)}),this.approvalForm=new o.d({fromDate:new o.c(null,o.h.required),toDate:new o.c(null,o.h.required),processType:new o.c(""),sbiRefNo:new o.c(null),tokenNo:new o.c(null),mode:new o.c("")}),this.getAllPayment()}},{key:"search",value:function(){var e=this;this.loader=!0,this._http.searchPaymentDetails(this.approvalForm.value).subscribe((function(t){e.allPaymentDetail=t.data,e.filterDataArray=e.allPaymentDetail,e.dataArray=e.allPaymentDetail,e.tableSortFilter(null,null,null,"default"),e.loader=!1}),(function(t){console.log(t),e.loader=!1,e.inputJson.next({popShow:!0,popMsg:t.error.message,popClass:"alert alert-danger",popRoute:""})}))}},{key:"getAllPayment",value:function(){var e=this;this.loadingSpinner=!0,this._http.searchPaymentDetails({}).subscribe((function(t){e.allPaymentDetail=t.data,e.dataArray=e.allPaymentDetail,e.getAllTxn=[],e.allPaymentDetail.forEach((function(t){console.log("iiiiiiiiiiiiiiiiiiiiiiiiiiii",t),e._http.getPaymentRefence(t.transactionNo).subscribe((function(n){200==n.status&&(e.txnWiseData=n.data,console.log("resssssssssssssssssssssssssssssssss",n),e.getAllTxn.push({projectName:t.projectName,paymentType:e.txnWiseData.registraionType,paymentMode:t.paymentMode,paymentTokenNo:e.txnWiseData.paymentTokenNo,transactionRefNo:e.txnWiseData.sbiReferenceNo,paymentGateway:t.paymentGateway,trxAge:e.txnWiseData.trxAge,estdEndDateRefund:e.txnWiseData.estdEndDateRefund,ticketNo:t.ticketNo,paymentAmount:t.paymentAmount,refundedAmount:t.refundedAmount,penaltyAmount:t.penaltyAmount,totalAmount:t.totalAmount,refundInitDate:t.refundInitDate,paymentRemarks:e.txnWiseData.paymentRemarks,refundStatus:e.txnWiseData.refundStatus,transactionNo:e.txnWiseData.transactionNo,userName:e.txnWiseData.userName,mobileNo:e.txnWiseData.mobileNo,transactionDate:e.txnWiseData.transactionDate,refundId:t.refundId,projectId:t.processId,registraionType:t.registraionType,payMode:e.txnWiseData.payMode,remainingDays:e.txnWiseData.remainingDays,processId:e.txnWiseData.processId,processName:e.txnWiseData.registraionType,modeofRefund:e.txnWiseData.mode_of_refund,dateofRefund:e.txnWiseData.date_of_refund,refundIdd:e.txnWiseData.refund_Id}),console.log("this.getAllTxnthis.getAllTxnthis.getAllTxn",e.getAllTxn))}))})),e.filterDataArray=e.getAllTxn,e.tableSortFilter(null,null,null,"default"),e.loadingSpinner=!1}),(function(e){console.log(e)}))}},{key:"changeDate",value:function(e){this.newDate=new Date(e),this.newDate.setDate(this.newDate.getDate()+1),this.toMinStopage=this.datepipe.transform(this.newDate,"yyyy-MM-dd"),console.log(this.toMinStopage)}},{key:"ApproveRequestPopUp",value:function(e){this.modalPopup=!0,this.showApprovedResponse=e}},{key:"RejectRequestPopUp",value:function(e){this.showRejectedResponse=e,this.rejectPopUp=!0}},{key:"closePopupReject",value:function(){this.rejectPopUp=!1,this.modalPopup=!1,this.approveReject.value.authRemarks=""}},{key:"showConfirmation",value:function(){this.approveReject.valid&&this.ammount!=this.mainResponse.totalAmount&&"APPROVE"==this.approveReject.value.checkUserAction?this.confirmationEventB.next({flag:!0,messageV:"Amount is different than proposed by Maker. Do you still want to continue?"}):this.submitFunction()}},{key:"confirmationEvent",value:function(e){"OK"==e&&this.submitFunction()}},{key:"submitFunction",value:function(){var e=this;this.loadingSpinner=!0,this.approveReject.valid?(this.modalPopup=!1,this.approveReject.value.amount=this.approveReject.value.amount.replace(/,/g,""),this.approveReject.value.penaltyAmount=this.approveReject.value.penaltyAmount.replace(/,/g,""),this._http.approvePaymentDetails(this.approveReject.value,this.approveReject.value.checkUserAction).subscribe((function(t){var n;(e.loadingSpinner=!1,"200"==t.status)?(n="APPLY_REFUND"==t.data.status?"Refund of "+t.data.totalAmount+" is approved and it is posted to payment gateway":"Refund of "+t.data.totalAmount+" is rejected",e.inputJson.next({popShow:!0,popMsg:n,popClass:"alert alert-success",popRoute:""}),e.getAllPayment()):e.getAllPayment()}),(function(t){e.loadingSpinner=!1,e.inputJson.next({popShow:!0,popMsg:"Something went wrong.",popClass:"alert alert-danger",popRoute:""}),e.getAllPayment()}))):(this.loadingSpinner=!1,this.inputJson.next({popShow:!0,popMsg:"Something went wrong.",popClass:"alert alert-danger",popRoute:""}))}},{key:"transformAmount",value:function(e){return Number(e).toLocaleString("en-IN")}},{key:"actionOfRadio",value:function(e){var t,n,a;t=this.approveReject.get("amount"),n=this.approveReject.get("penaltyAmount"),a=this.approveReject.get("totalAmount"),"REJECTE"==e.target.value?(t.setValidators([o.h.nullValidator]),n.setValidators([o.h.nullValidator]),a.setValidators([o.h.nullValidator])):"APPROVE"==e.target.value&&(t.setValidators([o.h.required]),n.setValidators([o.h.required]),a.setValidators([o.h.required,o.h.pattern(this._validation.numRegex)])),t.updateValueAndValidity(),n.updateValueAndValidity(),a.updateValueAndValidity()}},{key:"takeActionOnData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.paymentAmount=t.paymentAmount,console.log(t),"HDFC"==t.paymentGateway?(this.mainResponse=t,this.projectNameDetail=t.projectName,this.refundAmount=this.mainResponse.totalAmount,this.paymentNotMoreThan(t.refundedAmount,t.penaltyAmount),this.amount=this.transformAmount(t.refundedAmount),this.penaltyAmount=this.transformAmount(null!=t.penaltyAmount?t.penaltyAmount:0),this._http.getPaymentRefence(t.transactionNo).subscribe((function(t){e.modalPopup=!0,null!=t.data&&(e.allData=t.data,"SUCCESS"==e.allData.status.toUpperCase()?e.isTxnSuccess=!0:e.isTxnSuccess=!1)}),(function(e){console.log(e)}))):this.inputJson.next({popShow:!0,popMsg:"Online Refund is only available for HDFC Payment Gateway",popClass:"alert alert-danger",popRoute:""})}},{key:"viewDetails",value:function(e){var t=this;this.projectNameDetail=e.projectName,this.reqAmount=e.reqAmount,this.loadingSpinner=!0,this._http.getPaymentRefence(e.transactionNo).subscribe((function(e){t.allData=e.data,"SUCCESS"==t.allData.status?t.isTxnSuccessRefund=!0:t.isTxnSuccessRefund=!1,"SUCCESS"==t.allData.status?t.isTxnSuccess=!0:t.isTxnSuccess=!1,t.allData.transactionDate=null==e.data.transactionDate?"NA":e.data.transactionDate,t.allData.paymentRemarks=null==e.data.paymentRemarks?"NA":e.data.paymentRemarks,t.loadingSpinner=!1}),(function(e){t.loadingSpinner=!1})),this.modalAOPopup=!0,this.modalOverlayPopup=!0}},{key:"reqAmount",value:function(e,t){throw new Error("Method not implemented.")}},{key:"closePopup",value:function(){this.modalPopup=!1,this.modalOverlayPopup=!1,this.modalAOPopup=!1,this.activityPopup=!1,this.approveReject.reset(),this.checkUserAction="APPROVE",this.allData={},this.paymentAmount=0,this.getAllPaymentdata=[],this.activityLogData=[],this.getdata=[]}},{key:"activityLog",value:function(e,t,n,a,l,r,o,s){var i,d=this;(console.log("datadtatatda",s),"Agent Registration Fees"==s.paymentType)?(this._http.getWithdrawalDetails(s.processId).subscribe((function(e){console.log(e.data),d.getdata=[];var t=e.data[0];d.promoterName=t.agentName,d.getdata.push({remarks:t.remarks,reason:"NA",activityOn:t.withdrawalRequestDate}),d.activityProjectAck=t.agentRegistrationNo,t.activitylogList.forEach((function(e){d.activityLogData.push({activityOn:e.activityDate,activityByName:e.activityUserName,deptName:e.activityUserType,stateName:e.activityAction,team:e.activityTeam,remarks:e.activityRemark})}))})),this.getAllPaymentdata.push({projectType:s.paymentType,feeType:"PAID",areaFee:s.totalAmount})):("Registration - Withdrawal"==t||"Registration - Land Change"==t||"Registration - Online Enquiry"==t||"Registration Fees"==t||"PROJECT_REG_ONLINE"==t?i="PROJECT_REG":"Alteration - Withdrawal"!=t&&"Alteration - Land Change"!=t&&"PROJECT_ALT_ONLINE"!=t&&"Alteration - Online Enquiry"!=t||(i="PROJECT_ALT"),this.activityProjectAck=n,console.log(i,"processType"),console.log(e,"processId"),i&&this._http.getWofId(r,i).subscribe((function(e){console.log("wid1",e.data),d._http.getActivityTble(e.data,i).subscribe((function(e){d.promoterName=o,console.log(e,"wid"),d.getdata=e.data}),(function(e){console.log(e),d.getdata=[]}))})),this._http.getAllPaymentDetailsbyProcess(r).subscribe((function(e){200==e.status&&(d.getAllPaymentdata=e.data)}),(function(e){console.log(e),d.getAllPaymentdata=[]})),this._http.getAllMsg(i,l).subscribe((function(e){console.log("res",e),d.activityLogData=e.data[0].activityLog,console.log("this.activityLogData",d.activityLogData)}),(function(e){console.log(e),d.activityLogData=[]})));console.log("new",a),this.projectName_poup=a,this.activityPopup=!0,this.modalOverlayPopup=!0}},{key:"paymentNotMoreThan",value:function(e,t){var n,a;console.log(e,t),n=""==e||null==e?0:e,a=""==t||null==t?0:t,this.ammount=parseFloat(n)+parseFloat(a),this.ammount>this.paymentAmount&&this.inputJson.next({popShow:!0,popMsg:"Refund amount is greater than Paid Amount.",popClass:"alert alert-danger",popRoute:""}),this.paymentAmount=0,e=e.toString(),t=t.toString(),this.convertFunctionToLocal(e,t)}},{key:"convertFunctionToLocal",value:function(e,t){this.amount=Number(e.replace(/,/g,"")).toLocaleString("en-IN"),this.penaltyAmount=Number(t.replace(/,/g,"")).toLocaleString("en-IN")}},{key:"removeCommas",value:function(e,t){e=e.toString(),t=t.toString(),this.amount=Number(e.replace(/,/g,"")),this.penaltyAmount=Number(t.replace(/,/g,""))}},{key:"allowNumericOnly",value:function(e){var t;return console.log(e.which),e.target.value,!(!e.metaKey&&!e.ctrlKey&&37!==e.which&&39!==e.which)||32!==e.which&&(0===e.which||e.which<33||(t=String.fromCharCode(e.which),!!/[\d\s]/.test(t)))}},{key:"tableSortFilter",value:function(e,t,n,a){if(this.sortData="default"==a?{sortType:"DESC",key:"refundInitDate",typ:"date",sort:a}:{sortType:e,key:t,typ:n,sort:a},"Pending at AO"==this.optionValue||"Under Approval"==this.optionValue||"Applied for Refund"==this.optionValue||"Completed"==this.optionValue||"Rejected"==this.optionValue){var l=["Process Name","Ack No","Application Name","User Name","Mobile","Total Payment Amount","Req. Refund Amount","Payment Date","Refund Status","Transaction Age(In Days)","Estd. End Date of Refund","Transaction Mode","Payment Token No.","Transaction No.","Gateway Reference No.","Origin Bank","Payment Mode","Payment Gateway","Remaining Days for Refund","Mode Of Refund","Date Of Refund"],r={headers:[{key:"registraionType",label:l[0],type:"string"},{key:"paymentRemarks",label:l[1],type:"string"},{key:"projectName",label:l[2],type:"string"},{key:"userName",label:l[3],type:"string"},{key:"reqPenaltyAmount",label:l[4],type:"number"},{key:"trxMode",label:l[11],type:"string"},{key:"paymentGateway",label:l[17],type:"string"},{key:"paymentTokenNo",label:l[12],type:"string"},{key:"transactionNo",label:l[13],type:"string"},{key:"sbiReferenceNo",label:l[14],type:"string"},{key:"payMode",label:l[16],type:"string"},{key:"bankCode",label:l[15],type:"string"},{key:"createdOn",label:l[7],type:"date"},{key:"modeofRefund",label:l[19],type:"string"},{key:"dateofRefund",label:l[20],type:"date"},{key:"reqTotalAmount",label:l[5],type:"number"},{key:"transactionDate",label:l[6],type:"date"},{key:"estdEndDateRefund",label:l[10],type:"date"},{key:"remainingDays",label:l[18],type:"string"},{key:"refundStatus",label:l[8],type:"string"}],actualArray:this.allPaymentDetail,sortData:this.sortData};this.tableHeader=r.headers,this.tableJsonData.next({exportJson:r}),console.log(r)}else{var o={headers:[{key:"paymentType",label:"Payment Type",type:"string"},{key:"paymentRemarks",label:"Ack No",type:"string"},{key:"projectName",label:"Application Name",type:"string"},{key:"userName",label:"User Name",type:"string"},{key:"mobileNo",label:"Mobile No.",type:"string"},{key:"processName",label:"Process Name",type:"string"},{key:"paymentMode",label:"Transaction Mode",type:"string"},{key:"paymentGateway",label:"Payment Gateway",type:"string"},{key:"paymentTokenNo",label:"Payment Token No",type:"string"},{key:"transactionRefNo",label:"Gateway Reference No",type:"string"},{key:"transactionDate",label:"Payment Date",type:"date"},{key:"payMode",label:"Payment Mode",type:"string"},{key:"sbiReferenceNo",label:"Transaction No",type:"string"},{key:"paymentAmount",label:"INR Total Paid Amount",type:"string"},{key:"refundedAmount",label:"INR Refund Amount(a)",type:"string"},{key:"penaltyAmount",label:"INR Additional Refund Amount(b)",type:"string"},{key:"totalAmount",label:"INR Total Refund Amount(a+b)",type:"string"},{key:"refundInitDate",label:"Initiated On",type:"date"},{key:"modeofRefund",label:"Mode Of Refund",type:"string"},{key:"dateofRefund",label:"Date Of Refund",type:"date"},{key:"estdEndDateRefund",label:"Estimated End Date of Refund",type:"date"},{key:"remainingDays",label:"Remaining Days for Refund",type:"string"},{key:"ticketNo",label:"Ticket No",type:"string"},{key:"refundStatus",label:"Refund Status",type:"string"}],actualArray:this.filterDataArray,sortData:this.sortData};this.tableHeader=o.headers,this.tableJsonData.next({exportJson:o}),console.log(o)}}},{key:"filterValue",value:function(e){console.log(e),this.filterDataArray=e.filterArray,this.sortData=e.sort,this.getPageNo(1)}},{key:"getPageNo",value:function(e){var t=this;this.currentPageNo=e,this.filterDataArray.length>9&&(this.paginationCount=10*e),0==this.filterDataArray.length&&(this.paginationCount=0),setTimeout((function(){document.querySelector("#foo1").querySelector(".pagination-next").classList.contains("disabled")&&(t.paginationCount=t.filterDataArray.length)}),100)}},{key:"setValue",value:function(e){this.outputValue[e.fid]=e.docid}},{key:"actionOfRefundStatus",value:function(e){var t=this;console.log(e.target.value),this.loadingSpinner=!0,this.optionValue=e.target.value,"Pending at FO"===this.optionValue||"Under Approval"===this.optionValue?(this.getAllPayment(),this.loadingSpinner=!1):this._http.refundFilter(this.optionValue).subscribe((function(e){var n=e.data?e.data:t.filterDataArray=[];n.length>0&&200==e.status?(n.map((function(n){var a,l,r;"Pending at AO"==t.optionValue?(a=n.transactionNo,l=n.projectName,r=n.reqAmount,console.log(a,t.optionValue,"test")):(a=n.transaction_No,l=n.project_Name,r=n.refunded_Amount,console.log(a,t.optionValue,"test")),t.allPaymentDetail=[],t.filterDataArray=[],t._http.getPaymentRefence(a).subscribe((function(o){if(200==e.status){var s,i=o.data;s="PROJECT_REG_ONLINE"==n.processType?"Registration":"Alteration",t.allPaymentDetail.push({registraionType:s+" - Online Enquiry",paymentRemarks:i.paymentRemarks,projectName:l,userName:i.userName,reqPenaltyAmount:i.mobileNo,reqTotalAmount:i.reqTotalAmount,reqAmount:r,createdOn:i.createdOn,transactionNo:a,withdrawalId:n.enqId,projectId:n.processId,processName:i.processName,trxAge:i.trxAge,paymentTokenNo:i.paymentTokenNo,refundStatus:i.refundStatus,estdEndDateRefund:i.estdEndDateRefund,paymentGateway:i.paymentGateway,trxMode:i.trxMode,sbiReferenceNo:i.sbiReferenceNo,bankCode:i.bankCode,payMode:i.payMode,remainingDays:i.remainingDays,processType:n.processType,refundIdd:i.refund_Id,processId:i.processId,modeofRefund:i.mode_of_refund,dateofRefund:i.date_of_refund}),t.filterDataArray=t.allPaymentDetail,t.tableSortFilter(null,null,null,"default"),t.loadingSpinner=!1}}),(function(e){t.loadingSpinner=!1,console.log(e)})),t.loadingSpinner=!1,console.log("check loader")}),(function(e){t.loadingSpinner=!1,console.log("check loader"),console.log(e)})),t.loadingSpinner=!1,console.log("check loader")):(t.loadingSpinner=!1,console.log("check loader"))}),(function(e){t.loadingSpinner=!1,console.log(e)}))}},{key:"openProjectDetails",value:function(e,t,n){var a,l=this;(console.log("datadatadata",n),"Agent Registration Fees"==n.paymentType)?this._http.getAgnetId(n.processId).subscribe((function(e){console.log(e),sessionStorage.setItem("AGwfoId",n.processId),sessionStorage.setItem("agentId",e.data),l._router.navigate(["agent-app/agent-process"])})):("Registration - Withdrawal"==t||"Registration - Land Change"==t||"Registration - Online Enquiry"==t||"Registration Fees"==t||"PROJECT_REG_ONLINE"==t?a="PROJECT_REG":"Alteration - Withdrawal"!=t&&"Alteration - Land Change"!=t&&"Alteration - Online Enquiry"!=t&&"PROJECT_ALT_ONLINE"!=t||(a="PROJECT_ALT"),this._http.getWofId(e,a).subscribe((function(e){sessionStorage.setItem("outSideAccess","outSideAccess"),sessionStorage.setItem("wfoId",e.data),"PROJECT_REG"==a?l._router.navigate(["workflow"]):"PROJECT_ALT"==a&&l._router.navigate(["workflow/altration"])})))}},{key:"clickToPrint",value:function(){document.getElementsByTagName("title")[0].innerHTML=this.projectName_poup+this.datepipe.transform(new Date,"dd-MM-yyyy"),setTimeout((function(){document.getElementsByTagName("title")[0].innerHTML="Gujarat Real Estate Regulatory Authority"}),1e3);var e=document.getElementById("print-section");e.querySelectorAll(".printHide").forEach((function(e){e.remove()}));var t=document.createElement("div");t.appendChild(e),window.document.body.innerHTML=t.innerHTML,window.print(),window.location.reload()}}]),e}();P.ctorParameters=function(){return[{type:r.e},{type:c.e},{type:x},{type:p.a},{type:g.a}]},P=a.b([Object(l.n)({selector:"app-initiate-payment",template:a.c(n("5odX")).default,styles:[a.c(n("RvKy")).default]})],P);var T=function(){function e(t,n){_classCallCheck(this,e),this._http=t,this._apiUrl=n}return _createClass(e,[{key:"postOffilinePayment",value:function(e){return this._http.securepost(this._apiUrl.payment+"secure/saveOfflinePaymentDetails",e)}},{key:"postOffilinePaymentHead",value:function(e){return this._http.secureget(this._apiUrl.payment+"/getPaymentByTransactionNo/"+e)}},{key:"searchDetails",value:function(e,t){if("Challan"==t)return this._http.secureget(this._apiUrl.recoverychallanAPI+"/secure/detailsby-challanNo/"+e)}},{key:"getActivityDetails",value:function(e){return this._http.secureget(this._apiUrl.payment+"secure/offline-payment-activitylog/"+e)}},{key:"getAllBank",value:function(){return this._http.secureget(this._apiUrl.reraMasterAPI+"bank/getAllBank")}}]),e}();T.ctorParameters=function(){return[{type:u.a},{type:p.a}]},T=a.b([Object(l.B)({providedIn:"root"})],T);var C=function(){function e(t,n,a,l){_classCallCheck(this,e),this._regex=t,this._service=n,this._reraService=a,this._apiUrl=l,this.challanData={},this.paymenentInprogress=!1,this.loadingSpinner=!1,this.searchValue={},this.respodantList={},this.paymentList=new Array,this.challanInvalid=!0,this.docId1=new y.a({}),this.inputJson=new y.a({}),this.outputValue={},this.currentDate=new Date}return _createClass(e,[{key:"ngOnInit",value:function(){this.downloadUrl=this._apiUrl.paymentDownload+"downloadPatmentRecieptEcourt/",this.getAllBankDetails(),this.offilePaymentForm=new o.d({paymentHead:new o.c(null,[o.h.required]),payMode:new o.c(null,[o.h.required]),ddChequeNo:new o.c(null,[o.h.required]),ddChequeDate:new o.c(null,[o.h.required,this._regex.futureDateValidator]),ddChequeRecievingDate:new o.c(null,[o.h.required,this._regex.futureDateValidator]),creditedOnDate:new o.c(null,[o.h.required,this._regex.futureDateValidator]),processId:new o.c(null,[o.h.required]),processType:new o.c(null,[o.h.required]),docUid:new o.c(null),docId:new o.c(null,[o.h.required]),appNo:new o.c(null,[o.h.required]),emailId:new o.c(null),mobileNo:new o.c(null),userName:new o.c(null),amount:new o.c(null,[o.h.required]),totalAmount:new o.c(null,[o.h.required]),confirmAmount:new o.c(null,[o.h.required]),remark:new o.c(null,[o.h.required]),bankName:new o.c(null,[o.h.required]),bankCode:new o.c(null,[o.h.required]),status:new o.c(null)}),this.searchForm=new o.d({appNumber:new o.c(null,[o.h.required]),searchProcess:new o.c(null,[o.h.required])}),"FIN"===sessionStorage.getItem("userType")?this.offilePaymentForm.get("status").setValue("ACCOUNT_OFFICER"):"ACCOUNT_OFFICER"===sessionStorage.getItem("userType")?this.offilePaymentForm.get("status").setValue("FINCONTROLLER"):"FINCONTROLLER"===sessionStorage.getItem("userType")&&this.offilePaymentForm.get("status").setValue("APPROVED")}},{key:"getActivityData",value:function(e){var t=this;return this._service.getActivityDetails(e).subscribe((function(e){200==e.status&&(e.data.length>0?t.paymenentInprogress=!0:t.paymenentInprogress=!1)})),null}},{key:"searchData",value:function(){var e=this;this.loadingSpinner=!0,this.searchValue=this.searchForm.value,this.getActivityData(this.searchValue.appNumber),this._service.searchDetails(this.searchValue.appNumber,this.searchValue.searchProcess).subscribe((function(t){var n;(e.loadingSpinner=!1,200==t.status)?(e.challanData=t.data,"SUCCESS"==e.challanData.paymentStatus&&void 0!==e.challanData.paymentStatus?(e.showRespodentData=!1,e.inputJson.next({popShow:!0,popMsg:"Challan is already paid.",popClass:"alert alert-danger",popRoute:""})):1==e.paymenentInprogress?(e.showRespodentData=!1,e.inputJson.next({popShow:!0,popMsg:"Challan payment in progress.",popClass:"alert alert-danger",popRoute:""})):(e.showRespodentData=!0,e.outstandingAmount=e.challanData.outstandingAmount),e.respodantList=e.challanData.respodantList[0],e.paymentList=[],e.splitChallanCount=e.challanData.splitCount,e.penalityAmt=null==e.challanData.penaltyAmt?0:e.challanData.penaltyAmt,"YES"==t.data.splitFlag?e.splitYes=!1:e.splitYes=!0,e.challanData.paymentList.forEach((function(t){"SUCCESS"==t.status&&e.paymentList.push(t)})),e.paymentList=e.paymentList.map((function(t){return Object.assign(t,{downloadReceipt:e.downloadUrl+t.transactionNo}),t})),console.log("payment length",e.paymentList.length),3==e.paymentList.length&&(e.splitYes=!0),4==e.paymentList.length&&(e.challanInvalid=!1),n=e.challanData,"SUCCESS"==e.challanData.paymentStatus||e.paymenentInprogress?e.challanData.paymentHead="":"VCS-23"==n.status?e.challanData.paymentHead="VCS-23":null!==n.receiptNumber?e._service.postOffilinePaymentHead(n.receiptNumber).subscribe((function(t){e.challanData.paymentHead=t.registraionType})):"SOUMOTO"==n.chalanType?"NCQR"==n.soumotoCase?e.challanData.paymentHead="Exclusive Penalty for Non Compliance - NCQR":"NCQER"==n.soumotoCase?e.challanData.paymentHead="Exclusive Penalty for Non Compliance - NCQER":"NCAR"==n.soumotoCase?e.challanData.paymentHead="Exclusive Penalty for Non Compliance - NCAR":"NCPA"==n.soumotoCase?e.challanData.paymentHead="Exclusive Penalty for Non Compliance - NCPA":"SELL"==n.soumotoCase?e.challanData.paymentHead="Exclusive Penalty for Non Compliance - SELL":"AFS"==n.soumotoCase?e.challanData.paymentHead="Exclusive Penalty for Non Compliance - AFS":"ADVERTISEMENT"==n.soumotoCase?e.challanData.paymentHead="Exclusive Penalty for Non Compliance - ADVERTISEMENT":"AGREEMENTSALE"==n.soumotoCase?e.challanData.paymentHead="Exclusive Penalty for Non Compliance - AGREEMENTSALE":"QPR"==n.soumotoCase?e.challanData.paymentHead="Exclusive Penalty for Non Compliance - On Submitted QPR":"FORM5"==n.soumotoCase?e.challanData.paymentHead="Exclusive Penalty for Non Compliance - On Submitted Form 5":(n.soumotoCase,e.challanData.paymentHead="Exclusive Penalty for Non Compliance - Others"):"GENERAL COMPLAINT"==n.chalanType?e.challanData.paymentHead="Exclusive Penalty for Non Compliance - Complaint":"OFFLINE COMPLAINT"==n.chalanType?e.challanData.paymentHead="Exclusive Penalty for Non Compliance - Offline Complaint":"CONCILIATION_FORUM"==n.chalanType?e.challanData.paymentHead="Exclusive Penalty for Non Compliance - Conciliation":"OFF_REVIEW"==n.chalanType?e.challanData.paymentHead="Exclusive Penalty for Non Compliance - Review Offline":"DEFECT"==n.chalanType?e.challanData.paymentHead="Exclusive Penalty for Non Compliance - Defect Liability":"OFF_CONCILIATION_FORUM"==n.chalanType?e.challanData.paymentHead="Exclusive Penalty for Non Compliance - Offline Conciliation":"APPELLATE"==n.chalanType?e.challanData.paymentHead="Exclusive Penalty for Non Compliance - Appeal":"OFF_APPELLATE"==n.chalanType?e.challanData.paymentHead="Exclusive Penalty for Non Compliance - Appeal Offline":e.challanData.paymentHead="Exclusive Penalty for Non Compliance - Complaint",3==e.challanData.paymentList.length&&(e.confirmAmt=e.challanData.outstandingAmount,e.confirmAmount())):e.inputJson.next({popShow:!0,popMsg:"No Data found",popClass:"alert alert-danger",popRoute:""})}),(function(t){e.loadingSpinner=!1,e.inputJson.next({popShow:!0,popMsg:"No Data found",popClass:"alert alert-danger",popRoute:""})}))}},{key:"formSubmit",value:function(){var e=this;this.loadingSpinner=!0,this.offilePaymentForm.valid?this._service.postOffilinePayment(this.offilePaymentForm.value).subscribe((function(t){e.loadingSpinner=!1,e.showRespodentData=!1,200==t.status?(e.offilePaymentForm.reset(),e.searchForm.reset(),e.docId1.next({show:!1}),e.challanData={},e.respodantList={},e.inputJson.next({popShow:!0,popMsg:"Request submitted successfully",popClass:"alert alert-success",popRoute:""})):e.inputJson.next({popShow:!0,popMsg:"Something went wrong !",popClass:"alert alert-danger",popRoute:""})}),(function(t){e.loadingSpinner=!1,e.inputJson.next({popShow:!0,popMsg:"Something went wrong !",popClass:"alert alert-danger",popRoute:""})})):(this.loadingSpinner=!1,this.inputJson.next({popShow:!0,popMsg:"Something went wrong !",popClass:"alert alert-danger",popRoute:""}))}},{key:"setValue",value:function(e){this.outputValue[e.fid]=e.docid}},{key:"checkAmount",value:function(){var e=this.offilePaymentForm.get("amount");console.log(e.value,this.challanData.outstandingAmount),e.value>=this.challanData.outstandingAmount?e.setErrors({incorrect:!0}):(e.setErrors(null),e.setValidators([o.h.required]))}},{key:"confirmAmount",value:function(){this.totalAmount=this.penalityAmt+this.outstandingAmount;var e=this.offilePaymentForm.get("amount"),t=this.offilePaymentForm.get("confirmAmount");console.log(t.value,e.value),t.value==e.value&&e.value<=this.challanData.outstandingAmount?(e.setValidators([o.h.required]),t.setValidators([o.h.required]),t.updateValueAndValidity(),e.updateValueAndValidity(),t.setErrors(null),e.setErrors(null)):(e.setErrors({incorrect:!0}),t.setErrors({incorrect:!0}))}},{key:"getAllBankDetails",value:function(){var e=this;this._service.getAllBank().subscribe((function(t){e.bankMasterData=t}))}},{key:"selectBank",value:function(e,t){console.log(e.target.options[e.target.selectedIndex].text),this.bankCode=t,this.bankName=e.target.options[e.target.selectedIndex].text}},{key:"setPayMode",value:function(e){console.log(e),this.payMode=e}}]),e}();C.ctorParameters=function(){return[{type:g.a},{type:T},{type:u.a},{type:p.a}]},C=a.b([Object(l.n)({selector:"app-offline-payment",template:a.c(n("jUNI")).default,styles:[a.c(n("vxQW")).default]})],C);var I=function(){function e(t,n){_classCallCheck(this,e),this._http=t,this._apiurl=n}return _createClass(e,[{key:"searchPaymentDetails",value:function(e,t){return"allPayment"==t?this._http.securepost(this._apiurl.payment+"secure/allPaymentDetails-for-dashboard",e):"Withdrawal"==t?this._http.secureget(this._apiurl.projectWithdrawl+"secure/wf-state-code/APPROVED"):"prLand"==t?this._http.secureget(this._apiurl.projectRegAPI+"secure/land-area/status/REFUND"):"enquiry"==t?this._http.secureget(this._apiurl.onlineEnquiry+"/secure/trx/refund-payment-list"):this._http.secureget(this._apiurl.projectAlteration+"secure/land-area/status/REFUND")}},{key:"refundProcessService",value:function(e){return this._http.securepost(this._apiurl.payment+"secure/save-paymentrefund",e)}},{key:"checkForValidTicket",value:function(e){return this._http.secureget(this._apiurl.ticketAPI+"secure/ticket/ticket-no-pending-finance-dep/"+e)}},{key:"getPaymentRefence",value:function(e){return this._http.secureget(this._apiurl.payment+"secure/getPaymentByTrxNo/"+e)}},{key:"getProjectWorkflowId",value:function(e){return this._http.secureget(this._apiurl.projectRegAPI+"secure/project-app/getproject-certdetails/"+e)}},{key:"getProjectAltDetails",value:function(e){return this._http.secureget(this._apiurl.projectAlteration+"secure/"+e)}},{key:"getWofId",value:function(e,t){return"PROJECT_REG"==t?this._http.secureget(this._apiurl.projectRegAPI+"secure/project-app/get-wfo-id-by-prjid/"+e):"PROJECT_ALT"==t?this._http.secureget(this._apiurl.projectAltAPI+"secure/get-wfo-id-by-prjid/"+e):void 0}},{key:"getActivityTble",value:function(e,t){return"PROJECT_REG"==t?this._http.secureget(this._apiurl.projectRegAPI+"secure/getRefundInitiateactivitylog/"+e):"PROJECT_ALT"==t?this._http.secureget(this._apiurl.projectAltAPI+"secure/getRefundInitiateactivitylog/"+e):void 0}},{key:"getAllMsg",value:function(e,t){return this._http.secureget(this._apiurl.payment+"secure/getRefundActivityLog/"+t)}},{key:"refundFilter",value:function(e){return this._http.secureget(this._apiurl.payment+"secure/refundFilter/".concat(e,"/AO"))}},{key:"getAllPaymentDetailsbyProcess",value:function(e){return this._http.secureget(this._apiurl.promoterOnlineEnquiry+"secure/trx/get-all-payment-by-processid/"+e)}},{key:"getPaymentDetails",value:function(){return this._http.secureget(this._apiurl.payment+"/secure/offline-payment-tasklist")}}]),e}();I.ctorParameters=function(){return[{type:u.a},{type:p.a}]},I=a.b([Object(l.B)({providedIn:"root"})],I);var M=function(){function e(t,n,a,l,r,o){var s=this;_classCallCheck(this,e),this.exportAsService=t,this.datepipe=n,this._router=a,this._http=l,this._apiUrl=r,this.http=o,this.showLogPopUp=!1,this.rawDataObject=new y.a({}),this.refundDataVal={},this.allPaymentDetail=new Array,this.requestAmount=0,this.requestPenalty=0,this.ammount=0,this.ticektInfo={},this.confirmationEventB=new y.a({}),this.date=new Date,this.currentDate=new Date,this.close=!0,this.offline=!1,this.online=!1,this.ischeque=!0,this.paymentReceiptUId="",this.docId1=new y.a({}),this.inputJson=new y.a({}),this.modalPopup=!1,this.ca=1,this.loadingSpinner=!1,this.tableJsonData=new y.a({}),this.paginationCount=10,this.isTxnSuccess=!1,this.isTxnSuccessRefund=!1,this.activityHeader=[{label:"Activity On"},{label:"Activity By"},{label:"Department"},{label:"Status"},{label:"Team"},{label:"Remarks"}],this.docId4=new y.a({}),this.optionValue="Pending at AO",this.showDataReturn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("returnData",e)},this.hideshowLogPopUpFunction=function(){s.showLogPopUp=!1,s.rawDataObject.next(null)}}return _createClass(e,[{key:"ngOnInit",value:function(){this.downloadReciept=this._apiUrl.paymentDownload+"downloadPatmentReciept/",this.downloadVdms=this._apiUrl.fileDownloadAPI+"download/",this.fileId={},this.outputValue={},this.maxDate=this.datepipe.transform(new Date(this.currentDate.getFullYear()+10,11,31),"yyyy-MM-dd"),this.currentFormatDate=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.currentToDateFromValue=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.fileId={},this.outputValue={},this.refundForm=new o.d({paymentId:new o.c(null),refundMode:new o.c(null),ammount:new o.c(null,o.h.required),reason:new o.c("",o.h.required),remarks:new o.c(null,o.h.required),transactionNo:new o.c(null),paymentMode:new o.c(null),bankName:new o.c(null),refundedOn:new o.c(null),scanCopyId:new o.c(null),requestId:new o.c(null),ticketNo:new o.c(null),requestAmount:new o.c(null,o.h.required),requestPenalty:new o.c(null,o.h.required),ticketDescription:new o.c(null),ticketAttachmentDocUID:new o.c(null),trxAge:new o.c(null),paymentGateway:new o.c(null),refundStatus:new o.c(null),estdEndDateRefund:new o.c(null),paymentTokenNo:new o.c(null),supportingDocId:new o.c(null),supportingDocUid:new o.c(null)}),this.paymentDetailForm=new o.d({fromDate:new o.c(null),toDate:new o.c(null),processType:new o.c(""),sbiRefNo:new o.c(null),tokenNo:new o.c(null),mode:new o.c(""),status:new o.c("")}),this.getAllPayment()}},{key:"setValue",value:function(e){this.outputValue[e.fid]=e.docid}},{key:"getAllPayment",value:function(){var e=this;this.http.getPaymentDetails().subscribe((function(t){console.log(t);var n=t;e.allPaymentDetail=[];t.data,e.allPaymentDetail=n,e.filterDataArray=e.allPaymentDetail,e.dataArray=e.allPaymentDetail,e.tableSortFilter(null,null,null,"default"),console.log(e.allPaymentDetail)}),(function(e){console.log(e)}))}},{key:"getFullBCRData",value:function(e){sessionStorage.setItem("offlinePaymentReviewID",e),this._router.navigate(["refund-recovery/payment/offline-review"])}},{key:"tableSortFilter",value:function(e,t,n,a){this.sortData="default"==a?{sortType:"DESC",key:"createdOn",typ:"date",sort:a}:{sortType:e,key:t,typ:n,sort:a};var l={headers:[{key:"challanNo",label:"Challan No.",type:"string"},{key:"bankName",label:"Bank Name",type:"string"},{key:"processType",label:"Process Type",type:"string"},{key:"payMode",label:"Pay Mode",type:"string"},{key:"createdBy",label:"Created By",type:"string"},{key:"createdOn",label:"Created On",type:"date"}],actualArray:this.allPaymentDetail,sortData:this.sortData};this.tableHeader=l.headers,this.tableJsonData.next({exportJson:l}),console.log(l)}},{key:"filterValue",value:function(e){console.log(e),this.filterDataArray=e.filterArray,this.sortData=e.sort,this.getPageNo(1)}},{key:"getPageNo",value:function(e){var t=this;this.currentPageNo=e,this.filterDataArray.length>9&&(this.paginationCount=10*e),0==this.filterDataArray.length&&(this.paginationCount=0),setTimeout((function(){document.querySelector("#foo1").querySelector(".pagination-next").classList.contains("disabled")&&(t.paginationCount=t.filterDataArray.length)}),100)}},{key:"showLog",value:function(e){this.rawDataObject.next({processName:"OFFLINE_PAYMENT",processId:e}),this.showLogPopUp=!0}}]),e}();M.ctorParameters=function(){return[{type:f.b},{type:r.e},{type:c.e},{type:m},{type:p.a},{type:I}]},a.b([Object(l.kb)("tableOpt",{static:!1})],M.prototype,"tableOpt",void 0),M=a.b([Object(l.n)({selector:"app-offline-tasklist",template:a.c(n("6BIN")).default,styles:[a.c(n("+t6M")).default]})],M);var E=function(){function e(t,n){_classCallCheck(this,e),this._http=t,this._apiUrl=n}return _createClass(e,[{key:"getOfflinepaymentDetails",value:function(e){return this._http.secureget(this._apiUrl.payment+"/secure/get-offline-payment-details-by-id/"+e)}},{key:"postOffilinePayment",value:function(e){return this._http.securepost(this._apiUrl.payment+"secure/saveOfflinePaymentDetails",e)}},{key:"postOffilinePaymentHead",value:function(e){return this._http.secureget(this._apiUrl.payment+"/getPaymentByTransactionNo/"+e)}},{key:"searchDetails",value:function(e,t){if("Challan"==t)return this._http.secureget(this._apiUrl.recoverychallanAPI+"/secure/detailsby-challanNo/"+e)}},{key:"getAllBank",value:function(){return this._http.secureget(this._apiUrl.reraMasterAPI+"bank/getAllBank")}}]),e}();E.ctorParameters=function(){return[{type:u.a},{type:p.a}]},E=a.b([Object(l.B)({providedIn:"root"})],E);var S=function(){function e(t,n,a,l,r){_classCallCheck(this,e),this._regex=t,this._service=n,this._reraService=a,this._apiUrl=l,this._router=r,this.challanData={},this.loadingSpinner=!1,this.searchValue={},this.respodantList={},this.paymentList=new Array,this.nonEditfields=!1,this.challanInvalid=!0,this.docId1=new y.a({}),this.inputJson=new y.a({}),this.outputValue={},this.currentDate=new Date}return _createClass(e,[{key:"ngOnInit",value:function(){this.downloadUrl=this._apiUrl.paymentDownload+"downloadPatmentRecieptEcourt/";var e=sessionStorage.getItem("offlinePaymentReviewID");this.getAllBankDetails(),this.getOfflinePaymentDetails(e),this.offilePaymentForm=new o.d({id:new o.c(null),paymentHead:new o.c(null,[o.h.required]),payMode:new o.c(null,[o.h.required]),ddChequeNo:new o.c(null,[o.h.required]),ddChequeDate:new o.c(null,[o.h.required,this._regex.futureDateValidator]),ddChequeRecievingDate:new o.c(null,[o.h.required,this._regex.futureDateValidator]),creditedOnDate:new o.c(null,[o.h.required,this._regex.futureDateValidator]),processId:new o.c(null,[o.h.required]),processType:new o.c(null,[o.h.required]),docUid:new o.c(null),docId:new o.c(null,[o.h.required]),appNo:new o.c(null,[o.h.required]),emailId:new o.c(null),mobileNo:new o.c(null),userName:new o.c(null),amount:new o.c(null,[o.h.required]),totalAmount:new o.c(null,[o.h.required]),confirmAmount:new o.c(null,[o.h.required]),remark:new o.c(null,[o.h.required]),bankName:new o.c(null,[o.h.required]),bankCode:new o.c(null,[o.h.required]),status:new o.c(null)}),this.searchForm=new o.d({appNumber:new o.c(null,[o.h.required]),searchProcess:new o.c(null,[o.h.required])}),"FIN"===sessionStorage.getItem("userType")?(this.btnContent="Submit",this.offilePaymentForm.get("status").setValue("ACCOUNT_OFFICER")):"ACCOUNT_OFFICER"===sessionStorage.getItem("userType")?(this.btnContent="Submit",this.offilePaymentForm.get("status").setValue("FINCONTROLLER")):"FINCONTROLLER"===sessionStorage.getItem("userType")&&(this.btnContent="Approve",this.offilePaymentForm.get("status").setValue("APPROVED"))}},{key:"getOfflinePaymentDetails",value:function(e){var t=this;this._service.getOfflinepaymentDetails(e).subscribe((function(e){console.log(e),t.paymentData=e,t.paymentData.ddChequeRecievingDate=t.paymentData.ddChequeRecievingDate.substring(0,10),t.paymentData.ddChequeDate=t.paymentData.ddChequeDate.substring(0,10),t.paymentData.creditedOnDate=t.paymentData.creditedOnDate.substring(0,10),t.docId1.next({docId:t.paymentData.docId,docUid:t.paymentData.docUid}),void 0!==t.paymentData.challanNo&&t.searchData(t.paymentData.challanNo,t.paymentData.processType)}))}},{key:"searchData",value:function(e,t){var n=this;this.loadingSpinner=!0,this.searchValue=this.searchForm.value,this._service.searchDetails(e,t).subscribe((function(e){var t;(n.loadingSpinner=!1,200==e.status)?(n.challanData=e.data,n.confirmedAmount=n.challanData.chalanAmt,"SUCCESS"==n.challanData.paymentStatus&&void 0!==n.challanData.paymentStatus?(n.showRespodentData=!1,n.nonEditfields=!0,n.inputJson.next({popShow:!0,popMsg:"Challan is already paid.",popClass:"alert alert-danger",popRoute:""})):(n.showRespodentData=!0,n.outstandingAmount=n.challanData.outstandingAmount),n.respodantList=n.challanData.respodantList[0],n.paymentList=[],n.splitChallanCount=n.challanData.splitCount,n.penalityAmt=null==n.challanData.penaltyAmt?0:n.challanData.penaltyAmt,"YES"==e.data.splitFlag?n.splitYes=!1:n.splitYes=!0,n.challanData.paymentList.forEach((function(e){"SUCCESS"==e.status&&n.paymentList.push(e)})),n.paymentList=n.paymentList.map((function(e){return Object.assign(e,{downloadReceipt:n.downloadUrl+e.transactionNo}),e})),console.log("payment length",n.paymentList.length),3==n.paymentList.length&&(n.splitYes=!0),4==n.paymentList.length&&(n.challanInvalid=!1),t=n.challanData,"SUCCESS"!=n.challanData.paymentStatus||n.nonEditfields?"VCS-23"==t.status?n.challanData.paymentHead="VCS-23":null!==t.receiptNumber?n._service.postOffilinePaymentHead(t.receiptNumber).subscribe((function(e){n.challanData.paymentHead=e.registraionType})):"SOUMOTO"==t.chalanType?"NCQR"==t.soumotoCase?n.challanData.paymentHead="Exclusive Penalty for Non Compliance - NCQR":"NCQER"==t.soumotoCase?n.challanData.paymentHead="Exclusive Penalty for Non Compliance - NCQER":"NCAR"==t.soumotoCase?n.challanData.paymentHead="Exclusive Penalty for Non Compliance - NCAR":"NCPA"==t.soumotoCase?n.challanData.paymentHead="Exclusive Penalty for Non Compliance - NCPA":"SELL"==t.soumotoCase?n.challanData.paymentHead="Exclusive Penalty for Non Compliance - SELL":"AFS"==t.soumotoCase?n.challanData.paymentHead="Exclusive Penalty for Non Compliance - AFS":"ADVERTISEMENT"==t.soumotoCase?n.challanData.paymentHead="Exclusive Penalty for Non Compliance - ADVERTISEMENT":"AGREEMENTSALE"==t.soumotoCase?n.challanData.paymentHead="Exclusive Penalty for Non Compliance - AGREEMENTSALE":"QPR"==t.soumotoCase?n.challanData.paymentHead="Exclusive Penalty for Non Compliance - On Submitted QPR":"FORM5"==t.soumotoCase?n.challanData.paymentHead="Exclusive Penalty for Non Compliance - On Submitted Form 5":(t.soumotoCase,n.challanData.paymentHead="Exclusive Penalty for Non Compliance - Others"):"GENERAL COMPLAINT"==t.chalanType?n.challanData.paymentHead="Exclusive Penalty for Non Compliance - Complaint":"OFFLINE COMPLAINT"==t.chalanType?n.challanData.paymentHead="Exclusive Penalty for Non Compliance - Offline Complaint":"CONCILIATION_FORUM"==t.chalanType?n.challanData.paymentHead="Exclusive Penalty for Non Compliance - Conciliation":"OFF_REVIEW"==t.chalanType?n.challanData.paymentHead="Exclusive Penalty for Non Compliance - Review Offline":"DEFECT"==t.chalanType?n.challanData.paymentHead="Exclusive Penalty for Non Compliance - Defect Liability":"OFF_CONCILIATION_FORUM"==t.chalanType?n.challanData.paymentHead="Exclusive Penalty for Non Compliance - Offline Conciliation":"APPELLATE"==t.chalanType?n.challanData.paymentHead="Exclusive Penalty for Non Compliance - Appeal":"OFF_APPELLATE"==t.chalanType?n.challanData.paymentHead="Exclusive Penalty for Non Compliance - Appeal Offline":n.challanData.paymentHead="Exclusive Penalty for Non Compliance - Complaint":n.challanData.paymentHead="",3==n.challanData.paymentList.length&&(n.confirmAmt=n.challanData.outstandingAmount,n.confirmAmount())):n.inputJson.next({popShow:!0,popMsg:"No Data found",popClass:"alert alert-danger",popRoute:""})}),(function(e){n.loadingSpinner=!1,n.inputJson.next({popShow:!0,popMsg:"No Data found",popClass:"alert alert-danger",popRoute:""})}))}},{key:"formSubmit",value:function(){var e=this;this.loadingSpinner=!0,this.offilePaymentForm.valid?this._service.postOffilinePayment(this.offilePaymentForm.value).subscribe((function(t){e.loadingSpinner=!1,e.showRespodentData=!1,200==t.status?(e.offilePaymentForm.reset(),e.searchForm.reset(),e.docId1.next({show:!1}),e.challanData={},e.respodantList={},e.inputJson.next({popShow:!0,popMsg:"Request submitted successfully",popClass:"alert alert-success",popRoute:"refund-recovery/payment/offlinetasklist"})):e.inputJson.next({popShow:!0,popMsg:"Something went wrong !",popClass:"alert alert-danger",popRoute:"refund-recovery/payment/offlinetasklist"})}),(function(t){e.loadingSpinner=!1,e.inputJson.next({popShow:!0,popMsg:"Something went wrong !",popClass:"alert alert-danger",popRoute:"refund-recovery/payment/offlinetasklist"})})):(this.loadingSpinner=!1,this.inputJson.next({popShow:!0,popMsg:"Something went wrong !",popClass:"alert alert-danger",popRoute:"refund-recovery/payment/offlinetasklist"}))}},{key:"setValue",value:function(e){""==e.docid?(this.offilePaymentForm.get("docId").setValue(null),this.offilePaymentForm.get("docUid").setValue(null)):(this.offilePaymentForm.get("docId").setValue(e.docid),this.offilePaymentForm.get("docUid").setValue(e.docUid))}},{key:"checkAmount",value:function(){var e=this.offilePaymentForm.get("amount");console.log(e.value,this.challanData.outstandingAmount),e.value>=this.challanData.outstandingAmount?e.setErrors({incorrect:!0}):(e.setErrors(null),e.setValidators([o.h.required]))}},{key:"confirmAmount",value:function(){this.totalAmount=this.penalityAmt+this.outstandingAmount;var e=this.offilePaymentForm.get("amount"),t=this.offilePaymentForm.get("confirmAmount");console.log(t.value,e.value),t.value==e.value&&e.value<=this.challanData.outstandingAmount?(e.setValidators([o.h.required]),t.setValidators([o.h.required]),t.updateValueAndValidity(),e.updateValueAndValidity(),t.setErrors(null),e.setErrors(null)):(e.setErrors({incorrect:!0}),t.setErrors({incorrect:!0}))}},{key:"getAllBankDetails",value:function(){var e=this;this._service.getAllBank().subscribe((function(t){e.bankMasterData=t}))}},{key:"selectBank",value:function(e,t){console.log(e.target.options[e.target.selectedIndex].text),this.bankCode=t,this.offilePaymentForm.get("bankName").setValue(e.target.options[e.target.selectedIndex].text)}},{key:"setPayMode",value:function(e){console.log(e),this.payMode=e}},{key:"naviagteBack",value:function(){this._router.navigate(["refund-recovery/payment/offlinetasklist"])}}]),e}();S.ctorParameters=function(){return[{type:g.a},{type:E},{type:u.a},{type:p.a},{type:c.e}]};var O=[{path:"initiate-refund",component:P},{path:"approval-payment",component:D},{path:"payment-detail",component:b},{path:"withdraw-detail",component:b},{path:"land-detail",component:b},{path:"refunded",component:A},{path:"payment-receipt",component:N},{path:"refund-recovery/refund-request",component:R},{path:"payment/offline",component:C},{path:"payment/offline-review",component:S=a.b([Object(l.n)({selector:"app-review-payment",template:a.c(n("quAB")).default,styles:[a.c(n("0VMR")).default]})],S)},{path:"payment/offlinetasklist",component:M}],_=_createClass((function e(){_classCallCheck(this,e)}));_=a.b([Object(l.J)({imports:[c.f.forChild(O)],exports:[c.f]})],_);var F=n("xkgV"),q=n("UPf0"),j=n("C75N"),V=n("5c4+"),L=n("kdZ/"),U=n("QJDa");n.d(t,"recoveryModule",(function(){return H}));var H=_createClass((function e(){_classCallCheck(this,e)}));H=a.b([Object(l.J)({declarations:[b,D,A,N,R,P,M,C,S],imports:[r.b,_,o.g,s.a,i.a,o.e,d.a,F.a,q.a,j.a,L.a,V.a,U.a],providers:[r.e,f.b]})],H)},oUdY:function(e,t,n){"use strict";n.r(t),t.default=""},qeaw:function(e,t,n){"use strict";n.r(t),t.default='<div class="row">\r\n\r\n    <div class="col-md-12 mb-4">\r\n  <div class="card ">\r\n \r\n  </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<div class="row">\r\n\r\n  <div class="col-md-12 mb-4">\r\n    <div class="d-flex justify-content-between align-items-center">\r\n      \x3c!-- <h2>{{dealyedPageTitle}} </h2> --\x3e\r\n      <div class="tableTotalCount">Total Result - {{paginationCount}}/{{filterDataArray?.length}}</div>\r\n      </div>\r\n      <div class="row">\r\n\r\n        <div class=" col-md-12">\r\n          <div class="table-responsive">\r\n        \r\n            <app-filter-table [filterTableData]="{\'tableJson\':tableJsonData}" (myEvent)="filterValue($event)"></app-filter-table>\r\n          <table class="table table-bordered text-center">\r\n                  \r\n    <thead>\r\n      <tr class="bg-light  text-size-small text-center">\r\n          <th *ngFor="let th of tableHeader">{{th.label}} <div class="sortTable">\r\n            <a href="javascript:void(0)" [ngClass]="{\'active\':sortData.sortType==\'ASC\' && sortData.key==th.key}" (click)="tableSortFilter(\'ASC\', th.key, th.type,\'sort\')" class="upArrow"><i class="fas fa-arrow-up"></i></a>\r\n            <a href="javascript:void(0)" [ngClass]="{\'active\':sortData.sortType==\'DESC\' && sortData.key==th.key}" (click)="tableSortFilter(\'DESC\', th.key, th.type,\'sort\')" class="downArrow"><i class="fas fa-arrow-down"></i></a>\r\n          </div>\r\n        </th> \r\n        <th>Action</th>\r\n      </tr>\r\n  </thead>\r\n            \x3c!-- <thead class="bg-light font-weight-bold">\r\n              <tr class="text-center bg-light  text-size-small">\r\n                <th>Head</th>\r\n                <th>Token No</th>\r\n                <th>Transaction No</th>\r\n                <th>Ticket No</th>\r\n                <th>INR Amount(a)</th>\r\n                <th>INR Additional Amount(b)</th>\r\n                <th>INR Refund Applied(a+b)</th>\r\n                <th>INR Paid Amount</th>\r\n                <th>Initiated On</th>\r\n                <th>Action</th>\r\n\r\n              </tr>\r\n            </thead> --\x3e\r\n            <tbody *ngIf="filterDataArray?.length > 0; else no_allPaymentDetail">\r\n              <tr *ngFor="let data of filterDataArray| paginate: { id: \'foo1\', itemsPerPage: 10, currentPage: currentPageNo}">\r\n                <td>{{data.paymentType}}</td>\r\n                <td>{{data.paymentTokenNo}}</td>\r\n                <td>{{data.transactionNo}}</td>\r\n                <td>{{data.transactionRefNo}}</td>\r\n                <td>{{data.paymentGateway}}</td>\r\n                <td>{{data.ticketNo}}</td>\r\n                <td class="tabel-text-right">{{transformAmount(data.paymentAmount)}}</td>\r\n                <td class="tabel-text-right">{{transformAmount(data.refundedAmount)}}</td>\r\n                <td class="tabel-text-right">{{transformAmount(data.penaltyAmount)}}</td>\r\n                <td class="tabel-text-right">{{transformAmount(data.totalAmount)}}</td>\r\n                <td class=" text-nowrap">{{data.refundInitDate | date : \'dd-MM-yyyy, h:mm a\'}}</td>\r\n                <td style="white-space: nowrap" class="d-flex">\r\n                   <u>\r\n                    <a href="{{downloadReciept}}{{data.transactionNo}}" class="cursor-pointer mr-4" title="Download Payment Receipt"><i class="icon icon-download green" aria-hidden="true"></i></a>\r\n                  </u>\r\n&nbsp;\r\n                  <a href="javascript:void(0)" (click)="takeActionOnData(data)" class="cursor-pointer" title="View Transaction" class="cursor-pointer">\r\n                    <i class="fa icon-eye" aria-hidden="true"></i>\r\n                   </a>\r\n                </td>\r\n              </tr>\r\n\r\n            </tbody>\r\n\r\n            <ng-template #no_allPaymentDetail>\r\n              <tbody>\r\n                <tr>\r\n                  <td colspan="10">\r\n                    <span class="red">Please wait...</span>\r\n                  </td>\r\n                </tr>\r\n\r\n              </tbody>\r\n            </ng-template>\r\n          </table>\r\n          <div class="col-md-12 text-right" *ngIf="filterDataArray?.length > 0">\r\n            <pagination-controls id="foo1" (pageChange)="getPageNo($event)"></pagination-controls>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      </div>\r\n\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n<div class="modal show" *ngIf="modalPopup">\r\n  <div class="modal-dialog modal-xl">\r\n    <div class="modal-content">\r\n\r\n      <div class="modal-header">\r\n        <h4 class="modal-title"><b>Transection Details</b> </h4>\r\n        <button type="button" class="close" (click)="closePopup()">&times;</button>\r\n      </div>\r\n      <div class="modal-body">\r\n\r\n        <div class="row">\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Name</label>\r\n            <input type="text" readonly class="form-control" value="{{allData.userName}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Email Id</label>\r\n            <input type="text" readonly class="form-control" value="{{allData.emailId}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Mobile No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData.mobileNo}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Transaction No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData.transactionNo}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Token No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData.paymentTokenNo}}">\r\n          </div>\r\n          \x3c!-- <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Registraion Type</label>\r\n            <input type="text" readonly class="form-control" value="{{allData.registraionType}}">\r\n          </div> --\x3e\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Gateway Reference No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData.sbiReferenceNo}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Payment Mode</label>\r\n            <input type="text" readonly class="form-control" value="{{allData.payMode}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Payment Gateway</label>\r\n            <input type="text" readonly class="form-control" value="{{allData.paymentGateway}}">\r\n          </div>\r\n\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Credited on</label>\r\n            <input type="text" readonly class="form-control" value="{{allData.creditedOn | date : \'dd-MM-yyyy, h:mm a \'}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Credited Flag</label>\r\n            <input type="text" readonly class="form-control" value="{{allData.creditFlag}}">\r\n          </div>\r\n\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Bank Reference No</label>\r\n            <input type="text" readonly class="form-control" value="{{allData.bankReferenceNo}}">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Transaction Date</label>\r\n            <input type="text" readonly class="form-control" value="{{allData.transactionDate}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Heads Name</label>\r\n            <input type="text" readonly class="form-control" value="{{allData.registraionType}}">\r\n          </div>\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Transaction Mode</label>\r\n            <input type="text" readonly class="form-control" value="{{allData.trxMode}}">\r\n          </div>\r\n\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Amount</label>\r\n            \x3c!-- <input type="text" readonly class="form-control" value="{{allData.reqAmount}}"> --\x3e\r\n            <input type="text" readonly class="form-control text-right" [value]="transformAmount(allData.reqAmount)">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Additional Amount</label>\r\n            \x3c!-- <input type="text" readonly class="form-control" value="{{allData.reqPenaltyAmount}}"> --\x3e\r\n            <input type="text" readonly class="form-control text-right" [value]="transformAmount(allData.reqPenaltyAmount)">\r\n          </div>\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Total Amount</label>\r\n            \x3c!-- <input type="text" readonly class="form-control" value="{{allData.reqTotalAmount}}"> --\x3e\r\n            <input type="text" readonly class="form-control text-right" [value]="transformAmount(allData.reqTotalAmount)">\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <h3 class="text center"><b>Refund Details</b></h3>\r\n        <div class="row">\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Amount</label>\r\n            <input type="text" readonly class="form-control text-right" [value]="transformAmount(mainResponse.refundedAmount)">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Additional Amount</label>\r\n            <input type="text" readonly class="form-control text-right" [value]="transformAmount(mainResponse.penaltyAmount)">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Total Amount </label>\r\n            <input type="text" readonly class="form-control text-right" [value]="transformAmount(mainResponse.totalAmount)">\r\n          </div>\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Refund Mode</label>\r\n            <input type="text" readonly class="form-control" [value]="(mainResponse.modeOfRefund)">\r\n          </div>\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Ticket No. </label>\r\n            <input type="text" readonly class="form-control" [value]="(mainResponse.ticketNo)">\r\n          </div>\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold"> Ticket Query\r\n              <a *ngIf="mainResponse.ticketAttachmentDocUID!=null" href="{{downloadReciept}}{{mainResponse.ticketAttachmentDocUID}}" title="Download Ticket Attachment">\r\n                <i class="icon icon-download green"></i>\r\n              </a>\r\n            </label>\r\n            <input type="text" readonly class="form-control" [value]="(mainResponse.ticketDescription)">\r\n          </div>\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Reason</label>\r\n            <input type="text" readonly class="form-control" [value]="(mainResponse.reasonOfRefund)">\r\n          </div>\r\n\r\n\r\n\r\n\r\n\r\n          <div class="col-md-4 mb-4">\r\n            <label class="control-label font-weight-bold">Remark</label>\r\n            <input type="text" *ngIf="userType==\'ACCOUNT_OFFICER\'" readonly class="form-control" [value]="(mainResponse.remarks)">\r\n            <input type="text" *ngIf="userType==\'FINCONTROLLER\'" readonly class="form-control" [value]="(mainResponse.authRemarks)">\r\n          </div>\r\n        </div>\r\n        <div class="col-md-4 mb-4" *ngIf="mainResponse.reasonOfRefund">\r\n          <label class="control-label font-weight-bold">Any Supporting Document</label>\r\n          <app-multi-file-view [Uid]="mainResponse.supportingDocUid"></app-multi-file-view>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n  <app-validation-message [message]="inputJson"></app-validation-message>\r\n'},quAB:function(e,t,n){"use strict";n.r(t),t.default='\r\n<div class="row">\r\n \r\n   \r\n        <div class="col-md-12  mb-4 ">\r\n            <input type="Submit" value="Back" class="btn btn-primary" (click)="naviagteBack()">\r\n        </div>\r\n   \r\n    <div class="col-md-12 mb-4 ">\r\n        <div class="card ">\r\n            <div class="card-header"><b>Offline Payment</b></div>\r\n            <div class="pl-4">\r\n                <form [formGroup]="searchForm" id="validateFoem">\r\n            <div class="row align-items-center mt-3 mb-3 pl-2">\r\n                <div class="form-group col-md-5">\r\n                    <label class="control-label font-weight-bold">Process<sup>*</sup></label>\r\n                    <select class="form-control" disabled formControlName="searchProcess"  [(ngModel)]="paymentData.processType">\r\n                        <option value="">--Select--</option>\r\n                        <option value="Challan">Challan</option>\r\n                    </select>\r\n                </div>\r\n                <div class="form-group col-md-5">\r\n                    <label class="control-label font-weight-bold">Application Number<sup>*</sup></label>\r\n                        <input type="text" class="form-control" disabled formControlName="appNumber" [(ngModel)]="paymentData.challanNo">\r\n                </div>\r\n             \r\n            </div>\r\n        </form>\r\n<div class="table-responsive pl-4" *ngIf="showRespodentData">\r\n    <table class="table table-bordered">\r\n        <thead>\r\n            <tr>\r\n                <th>Respondent Name</th>\r\n                <th>Respondent Email</th>\r\n                <th>Respondent Mobile</th>\r\n                <th>Outstanding Amount</th>\r\n                <th>Paid Amount</th>\r\n                <th>Total Amount</th>\r\n            </tr>\r\n        </thead>\r\n<tbody>\r\n    <tr>\r\n        <td>{{respodantList.respondantUserName}}</td>\r\n        <td>{{respodantList.respondantEmailId}}</td>\r\n        <td>{{respodantList.respondantMobile}}</td>\r\n        <td>{{challanData.outstandingAmount}}</td>\r\n        <td>{{challanData.paidAmount}}</td>\r\n        <td>{{challanData.chalanAmt}}</td>\r\n    </tr>\r\n</tbody>\r\n    </table>   \r\n\r\n    <table class="table table-bordered mt-4">\r\n        <thead>\r\n            <tr>\r\n                <th>Transaction No</th>\r\n                <th>Paid Amount</th>\r\n                <th>Transaction Date</th>\r\n                <th>Download Receipt</th>\r\n            </tr>\r\n        </thead>\r\n<tbody>\r\n    <tr *ngFor="let data of paymentList">\r\n        <td>{{data.transactionNo}}</td>\r\n        <td>{{data.amount}}</td>\r\n        <td>{{data.submissionDate | date: \'dd-MM-yyyy\'}}</td>\r\n        <td><a href="{{data.downloadReceipt}}" class="btn btn-primary" target="_blank" download>Download</a> </td>\r\n    </tr>\r\n</tbody>\r\n    </table>\r\n\r\n</div>\r\n\r\n            <form [formGroup]="offilePaymentForm" id="validateFoem" *ngIf="challanInvalid">\r\n                <input type="hidden" readonly class="form-control" [(ngModel)]="challanData.chalanId" formControlName="processId">\r\n                <input type="hidden" readonly class="form-control" [(ngModel)]="paymentData.processType" formControlName="processType">\r\n                <input type="hidden" readonly class="form-control" [(ngModel)]="respodantList.respondantUserName" formControlName="userName">\r\n                <input type="hidden" readonly class="form-control" [(ngModel)]="respodantList.respondantEmailId" formControlName="emailId">\r\n                <input type="hidden" readonly class="form-control" [(ngModel)]="respodantList.respondantMobile" formControlName="mobileNo">\r\n                <input type="hidden" readonly class="form-control" [(ngModel)]="challanData.chalanAmt" formControlName="totalAmount">\r\n                <input type="hidden" readonly class="form-control" [(ngModel)]="challanData.chalanNo" formControlName="appNo">\r\n                <input type="hidden" readonly class="form-control" [(ngModel)]="paymentData.id" formControlName="id">\r\n                <div class="card-body">\r\n                    <div class="row">\r\n                        <div class="form-group col-md-4">\r\n                            <label class="control-label font-weight-bold">Payment Head<sup>*</sup></label>\r\n                            <input type="text" readonly class="form-control" [(ngModel)]="challanData.paymentHead" formControlName="paymentHead">\r\n                        </div>\r\n                        <div class="form-group col-md-4" *ngIf="!nonEditfields">\r\n                            <label class="control-label font-weight-bold">Bank Name<sup>*</sup></label>\r\n                            <input type="hidden"  class="form-control"   formControlName="bankName"  [(ngModel)]="paymentData.bankName">\r\n                            <select #bankData [(ngModel)]="paymentData.bankCode" (click)="selectBank($event, bankData.value)" class="form-control" formControlName="bankCode" [(ngModel)]="bankCode">\r\n                                <option value="">--Select--</option>\r\n                                <option *ngFor="let data of bankMasterData" [value]="data.bankCode">{{data.bankName}}</option>\r\n                            </select>\r\n                            <div class="error-box"><small class="error"> Pay Mode can not be blank</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-4" *ngIf="nonEditfields">\r\n                            <label class="control-label font-weight-bold">Bank Name<sup>*</sup></label>\r\n                            <input type="hidden" readonly class="form-control" [(ngModel)]="bankName" formControlName="bankName">\r\n                           \x3c!-- <input type="hidden"  class="form-control"   formControlName="bankName"  [(ngModel)]="paymentData.bankName">--\x3e\r\n                            <select #bankData [(ngModel)]="paymentData.bankCode" disabled (click)="selectBank($event, bankData.value)" class="form-control" formControlName="bankCode" [(ngModel)]="bankCode">\r\n                                <option value="">--Select--</option>\r\n                                <option *ngFor="let data of bankMasterData" [value]="data.bankCode">{{data.bankName}}</option>\r\n                            </select>\r\n                            <div class="error-box"><small class="error"> Pay Mode can not be blank</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-4"  *ngIf="!nonEditfields">\r\n                            <label class="control-label font-weight-bold">Pay Mode<sup>*</sup></label>\r\n                            <select class="form-control" [disabled]="nonEditfields" #pay   formControlName="payMode" [(ngModel)]="paymentData.payMode" (click)="setPayMode(pay.value)">\r\n                                <option value="">--Select--</option>\r\n                                <option value="Demand Draft">Demand Draft</option>\r\n                                <option value="Cheque">Cheque</option>\r\n                                <option value="NEFT">NEFT</option>\r\n                                <option value="RTGS">RTGS</option>\r\n                            </select>\r\n                            <div class="error-box"><small class="error"> Pay Mode can not be blank</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-4" *ngIf="nonEditfields">\r\n                            <label class="control-label font-weight-bold">Pay Mode<sup>*</sup></label>\r\n                            <select class="form-control" disabled #pay   formControlName="payMode" [(ngModel)]="paymentData.payMode" (click)="setPayMode(pay.value)">\r\n                                <option value="">--Select--</option>\r\n                                <option value="Demand Draft">Demand Draft</option>\r\n                                <option value="Cheque">Cheque</option>\r\n                                <option value="NEFT">NEFT</option>\r\n                                <option value="RTGS">RTGS</option>\r\n                            </select>\r\n                            <div class="error-box"><small class="error"> Pay Mode can not be blank</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-4">\r\n                            <label class="control-label font-weight-bold">Amount<sup>*</sup></label>\r\n                            <input type="number" [readonly]="splitYes" [(ngModel)]="challanData.chalanAmt" (focusout)="checkAmount();" (keyup)="checkAmount();" class="form-control" formControlName="amount">\r\n                            <div class="error-box"><small class="error"> The amount should not exceed the outstanding amount</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-4">\r\n                            <label class="control-label font-weight-bold">Re-Confirm Amount<sup>*</sup></label>\r\n                            <input type="number"   [readonly]="nonEditfields"   [(ngModel)]="confirmedAmount" (focusout)="confirmAmount()" (keyup)="confirmAmount()" class="form-control" formControlName="confirmAmount">\r\n                            <div class="error-box"><small class="error"> The Confirm Amount is not matching with Outstanding Amount.</small></div>\r\n                        </div>\r\n                     \r\n                        <div class="form-group col-md-4">\r\n                            <label class="control-label font-weight-bold">{{payMode}} Number<sup>*</sup></label>\r\n                            <input type="text"  [readonly]="nonEditfields" class="form-control" formControlName="ddChequeNo"  [(ngModel)]="paymentData.ddChequeNo">\r\n                            <div class="error-box"><small class="error"> {{payMode}} Number can not be blank</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-4">\r\n                            <label class="control-label font-weight-bold">{{payMode}} Date<sup>*</sup></label>\r\n                            <input type="date"  [readonly]="nonEditfields"  [(ngModel)]="paymentData.ddChequeDate"  max="{{currentDate | date:\'yyyy-MM-dd\'}}" class="form-control" formControlName="ddChequeDate">\r\n                            <div class="error-box"><small class="error"> {{payMode}} Date can not be blank</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-4">\r\n                            <label class="control-label font-weight-bold">{{payMode}} Received Date<sup>*</sup></label>\r\n                            <input type="date"  [readonly]="nonEditfields" [(ngModel)]="paymentData.ddChequeRecievingDate"  max="{{currentDate | date:\'yyyy-MM-dd\'}}" class="form-control" formControlName="ddChequeRecievingDate">\r\n                            <div class="error-box"><small class="error"> {{payMode}} Received Date can not be blank</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-4">\r\n                            <label class="control-label font-weight-bold">{{payMode}} Credited on Date<sup>*</sup></label>\r\n                            <input type="date"   [readonly]="nonEditfields" [(ngModel)]="paymentData.creditedOnDate" max="{{currentDate | date:\'yyyy-MM-dd\'}}" class="form-control" formControlName="creditedOnDate">\r\n                            <div class="error-box"><small class="error"> {{payMode}} Credited on Date can not be blank</small></div>\r\n                          </div>\r\n                        <div class="form-group col-md-4">\r\n                            <label class="control-label font-weight-bold">Remarks<sup>*</sup></label>\r\n                            <textarea class="form-control"  [readonly]="nonEditfields"  [(ngModel)]="paymentData.remarks"  formControlName="remark"></textarea>\r\n                            <div class="error-box"><small class="error"> Remarks can not be blank</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-4">\r\n                            <label class="control-label font-weight-bold">Scan Document<sup>*</sup></label>\r\n                            <input type="hidden" [(ngModel)]="paymentData.docId" class="form-control" formControlName="docId">\r\n                            <input type="hidden" [(ngModel)]="paymentData.docUid" class="form-control" formControlName="docUid">\r\n                            <app-file-upload *ngIf="!nonEditfields" (myEvent)="setValue($event)" [parm]="{apiType:\'NEW\',fileId:\'docId\',docId:docId1,close:true,show:false,fileType:[\'pdf\',\'jpg\',\'jpeg\',\'png\']}"></app-file-upload>\r\n                            <app-file-upload *ngIf="nonEditfields" (myEvent)="setValue($event)" [parm]="{apiType:\'NEW\',fileId:\'docId\',docId:docId1,close:false,show:false,fileType:[\'pdf\',\'jpg\',\'jpeg\',\'png\']}"></app-file-upload>\r\n                            \r\n\r\n                        </div>\r\n                    </div>\r\n<div class="row">\r\n   \r\n    <div class="col-md-12 text-center">\r\n        <input type="Submit" [value]="btnContent" [disabled]="this.offilePaymentForm.invalid || nonEditfields" class="btn btn-primary" (click)="formSubmit()">\r\n    </div>\r\n</div>\r\n                </div>\r\n                \r\n            </form>\r\n        </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n<app-loader *ngIf="loadingSpinner"></app-loader>'},sF7i:function(e,t,n){"use strict";n.r(t),t.default='<div class="row">\r\n    <div class="col-md-12 mb-4 ">\r\n    <div class="card ">\r\n    <div class="card-header"><b>Refund Detail</b></div>\r\n    <form [formGroup]="paymentDetailForm" id="validateFoem">\r\n      <div class="card-body">\r\n        <div class="row">\r\n        <div class="form-group col-md-4">\r\n        <label class="control-label font-weight-bold">From Date<sup>*</sup></label>\r\n\r\n        <input type="date" [(ngModel)]="currentFormatDate" max="{{currentToDate}}"  #enrd (change)="changeDate(enrd.value)" class="form-control"  placeholder="" formControlName="fromDate">\r\n\r\n\r\n        <div class="error-box"><small class="error"> Date can not be blank</small></div>\r\n        </div>\r\n\r\n        <div class="form-group col-md-4">\r\n        <label class="control-label font-weight-bold">To Date<sup>*</sup></label>\r\n        <input type="date" [(ngModel)]="currentToDate"  min="{{ toMinStopage }}" max="{{currentToDate}}" class="form-control"  placeholder="" formControlName="toDate">\r\n        <div class="error-box"><small class="error"> Date can not be blank</small></div>\r\n        </div>\r\n\r\n        <div class="form-group col-md-4">\r\n        <label class="control-label font-weight-bold">Fee Type</label>\r\n        <select class="form-control" formControlName="processType" >\r\n        <option value="">--Select Fee Type--</option>\r\n        <option value="Complaint Registration Fees">Complaint Registration Fees</option>\r\n        <option value="Miscellaneous Payment/Exclusive Penalty for Non Compliance - Complaint">Miscellaneous Payment/Exclusive Penalty for Non Compliance - Complaint</option>\r\n        <option value="Miscellaneous Payment/Authority Documents Access Fees">Miscellaneous Payment/Authority Documents Access Fees</option>\r\n        <option value="Profile Change Fees">Profile Change Fees</option>\r\n        <option value="Project Registration Fees">Project Registration Fees</option>\r\n        <option value="Project Alteration Fees">Project Alteration Fees</option>\r\n        <option value="Project Data Correction Fees">Project Data Correction Fees</option>\r\n        <option value="Section 15 application fees">Section 15 application fees</option>\r\n        <option value="Section 15 application fees - Stage2">Section 15 application fees - Stage2</option>\r\n        <option value="Project Extension Fees">Project Extension Fees</option>\r\n        <option value="Bank Account Change Fees">Bank Account Change Fees</option>\r\n        <option value="Project Quarter Fees">Project Quarter Fees</option>\r\n        <option value="Agent Registration Fees">Agent Registration Fees</option>\r\n        <option value="Project Land Area/Status/Property Type Changing Fees">Project Land Area/Status/Property Type Changing Fees</option>\r\n        <option value="Agent Yearly Fees">Agent Yearly Fees</option>\r\n      </select>\r\n        <div class="error-box"><small class="error">Please Select Fee Type</small></div>\r\n        </div>\r\n\r\n        <div class="form-group col-md-4">\r\n        <label class="control-label font-weight-bold">Mode</label>\r\n        <select class="form-control" formControlName="mode" >\r\n        <option value="">--Select Mode--</option>\r\n        <option value="OFFLINE">Offline</option>\r\n        <option value="ONLINE" >Online</option>\r\n        </select>\r\n        <div class="error-box"><small class="error">Please Select Mode</small></div>\r\n        </div>\r\n\r\n        <div class="form-group col-md-4">\r\n          <label class="control-label font-weight-bold">Gateway Reference No</label>\r\n          <input type="text"  class="form-control"  placeholder="" formControlName="sbiRefNo">\r\n          <div class="error-box"><small class="error">Gateway Reference No can not be blank</small></div>\r\n          </div>\r\n          \x3c!-- <div class="form-group col-md-4">\r\n            <label class="control-label font-weight-bold">Token No</label>\r\n            <input type="text"  class="form-control"  placeholder="" formControlName="tokenNo">\r\n            <div class="error-box"><small class="error">Token No can not be blank</small></div>\r\n            </div> --\x3e\r\n\r\n\r\n        </div>\r\n        <div class="row">\r\n          <div class="col-md-12 text-center mb-2">\r\n            <button  [disabled]="this.paymentDetailForm.invalid" class="btn btn-primary" (click)="search()"><i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i> SEARCH </button>\r\n            </div>\r\n        </div>\r\n\r\n\r\n\r\n\r\n        </div>\r\n\r\n\r\n\r\n\r\n\r\n    </form>\r\n\r\n    <div class="row">\r\n    <div class="col-md-12 text-right mb-1"><input type="button" class="btn btn-primary" (click)="clickToExport()" value="Export Excel"></div>\r\n      <div class=" col-md-12 table-responsive">\r\n        <table class="table table-bordered text-center" #tableOpt id="myTableElementId">\r\n\r\n          <thead class="bg-light font-weight-bold">\r\n      <tr class="text-center bg-light  text-size-small">\r\n        <th>Head</th>\r\n        <th>Transaction No</th>\r\n        <th>SBI/Cheque/DD No.</th>\r\n        <th>Amount</th>\r\n        <th>Mode</th>\r\n        <th>Transaction Date</th>\r\n        <th>Credit in RERA A/c On</th>\r\n        <th>Action</th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n\r\n\r\n\r\n      <tr *ngFor="let data of allPaymentDetail | paginate: { id: \'foo1\', itemsPerPage: 10, currentPage: ca}">\r\n\r\n\r\n        <td>{{data.transaction.registraionType}}</td>\r\n        <td>{{data.transaction.transactionNo}}</td>\r\n        <td>{{data.transaction.sbiReferenceNo}}</td>\r\n        <td>{{data.transaction.reqTotalAmount}}</td>\r\n        <td>{{data.transaction.trxMode}}</td>\r\n        <td>{{data.transaction.transactionDate}}</td>\r\n        <td>{{data.transaction.transactionDate}}</td>\r\n\r\n          <td><i (click)="viewDetails(data)" class="fa icon-eye"aria-hidden="true"></i> <a href="javascript:void(0)"  (click)="refundProcess(data)" ><span class="spriteImage rupees-icon"></span>  </a> </td>\r\n\r\n      </tr>\r\n\r\n    </tbody>\r\n      </table>\r\n      </div>\r\n      <div class="col-md-12 text-right"><pagination-controls  id="foo1" (pageChange)="ca = $event"></pagination-controls></div>\r\n\r\n\r\n      </div>\r\n    </div>\r\n    </div>\r\n\r\n    <div class="modal show" *ngIf="refund_rec">\r\n      <div class="modal-dialog modal-xl">\r\n      <div class="modal-content">\r\n\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n      <h4 class="modal-title"><b>Create Refund Request</b>  </h4>\r\n      <button type="button" (click)="closePopup()" class="close" data-dismiss="modal">&times;</button>\r\n      </div>\r\n\r\n\r\n      \x3c!-- Modal body --\x3e\r\n      <div class="modal-body">\r\n        <h3 class=""><b>Beneficiary Detail</b></h3>\r\n\r\n            <div class="col-md-4 mb-4">\r\n              <label class="control-label font-weight-bold">Beneficiary Name</label>\r\n              <input type="text" readonly class="form-control" value="{{beneficiaryName}}">\r\n            </div>\r\n            <div class="col-md-4 mb-4">\r\n              <label class="control-label font-weight-bold">Beneficiary Email Id</label>\r\n              <input type="text" readonly class="form-control" value="{{beneficiaryEmail}}">\r\n            </div>\r\n            <div class="col-md-4 mb-4">\r\n              <label class="control-label font-weight-bold">Beneficiary Mobile</label>\r\n              <input type="text" readonly class="form-control" value="{{beneficiaryMobile}}">\r\n            </div>\r\n            <div class="col-md-4 mb-4">\r\n              <label class="control-label font-weight-bold">Transaction Date</label>\r\n              <input type="text" readonly class="form-control" value="{{transactionDate}}">\r\n            </div>\r\n            <div class="col-md-4 mb-4">\r\n              <label class="control-label font-weight-bold">SBI/Cheque/DD No.</label>\r\n              <input type="text" readonly class="form-control" value="{{sbiReference}}">\r\n            </div>\r\n            <div class="col-md-4 mb-4">\r\n              <label class="control-label font-weight-bold">Amount</label>\r\n              <input type="text" readonly class="form-control" value="{{amount}}">\r\n            </div>\r\n\r\n\r\n            <h3 class=""><b>Refund Form</b></h3>\r\n        <form [formGroup]="refundForm" id="validateFoem">\r\n          <input type="hidden" class="form-control" formControlName="paymentId" [(ngModel)]="paymentId">\r\n          <input type="hidden" class="form-control" formControlName="requestId" [(ngModel)]="rRequestId">\r\n      <div class="col-md-12">\r\n      <div class="col-md-4 mb-4">\r\n      <label class="control-label font-weight-bold">Refund Mode</label>\r\n      <input type="text"  readonly class="form-control" formControlName="refundMode"  [(ngModel)]="refundMode">\r\n\r\n      </div>\r\n      <div class="col-md-4 mb-4">\r\n      <label class="control-label font-weight-bold ">Amount<sup>*</sup></label>\r\n      <input type="number" class="form-control" formControlName="ammount">\r\n      </div>\r\n      <div class="col-md-4 mb-4">\r\n      <label class="control-label font-weight-bold ">Reason<sup>*</sup></label>\r\n      <select class="form-control" formControlName="reason">\r\n        <option value="">--Select--</option>\r\n        <option value="Duplicate Payment">Duplicate Payment</option>\r\n        <option value="Project Outside Planning area">Project Outside Planning area</option>\r\n        <option value="Excess Payment">Excess Payment</option>\r\n      </select>\r\n      </div>\r\n      <div class="col-md-4 mb-4">\r\n      <label class="control-label font-weight-bold ">Remarks<sup>*</sup></label>\r\n      <input type="text" class="form-control" formControlName="remarks">\r\n      </div>\r\n      <div class="col-md-4 mb-4" *ngIf="isOffline">\r\n        <label class="control-label font-weight-bold ">Payment Mode<sup>*</sup></label>\r\n        <input type="text" class="form-control" formControlName="paymentMode">\r\n        <select class="form-control">\r\n          <option value="">--Select--</option>\r\n          <option value="NEFT">NEFT</option>\r\n          <option value="RTGS">RTGS</option>\r\n          <option value="CHEQUE">Cheque</option>\r\n          <option value="NETBANKING">Net Banking</option>\r\n          <option value="DD">Demad Draft</option>\r\n        </select>\r\n        </div>\r\n      <div class="col-md-4 mb-4" *ngIf="isOffline">\r\n        <label class="control-label font-weight-bold ">Transaction No<sup>*</sup></label>\r\n        <input type="text" class="form-control" formControlName="transactionNo">\r\n        </div>\r\n\r\n      <div class="col-md-4 mb-4" *ngIf="isOffline">\r\n      <label class="control-label font-weight-bold ">Bank Name<sup>*</sup></label>\r\n      <input type="text" class="form-control" formControlName="bankName">\r\n      </div>\r\n      <div class="col-md-4 mb-4" *ngIf="isOffline">\r\n      <label class="control-label font-weight-bold ">Refunded On<sup>*</sup></label>\r\n      <input type="date"  max="{{date | date:\'yyyy-MM-dd\'}}"  class="form-control"  placeholder="" formControlName="refundedOn">\r\n      </div>\r\n      <div class="col-md-4 mb-4" *ngIf="isOffline">\r\n      <label class="control-label font-weight-bold ">Scan Copy<sup>*</sup></label>\r\n      <input type="hidden" [ngModel]="outputValue.scanCopyId" formControlName="scanCopyId">\r\n    <app-file-upload (myEvent)="setValue($event)" [parm]="{fileId:\'scanCopyId\',docId:docId1,show:false,fileType:[\'pdf\',\'jpg\',\'jpeg\',\'png\']}"></app-file-upload>\r\n    <div class="error-box"><small class="error">Please upload file</small></div>\r\n      </div>\r\n\r\n      </div>\r\n\r\n\r\n\r\n\r\n      <div class="col-md-12">\r\n\r\n\r\n\r\n      <div class=" col-md-12 mt-4 d-none">\r\n      <div class="form-check">\r\n      <label class="form-check-label">\r\n      <input type="checkbox" class="form-check-input" value="">I declare that the information provided by me is True & Correct.\r\n      </label>\r\n\r\n      </div>\r\n      </div>\r\n      <div class=" col-md-12 mt-4 text-center">\r\n\r\n        <button  class="btn btn-small btn-primary" [disabled]="this.refundForm.invalid"  (click)="refundSubmit()"><i class="fa fa-spinner fa-spin text-white" *ngIf="refundLoader" aria-hidden="true"></i> Submit </button>\r\n      </div>\r\n\r\n      </div>\r\n      </form>\r\n      </div>\r\n      </div>\r\n\r\n      </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n\r\n    <div class="modal show" *ngIf="modalPopup">\r\n      <div class="modal-dialog modal-xl">\r\n      <div class="modal-content">\r\n\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n      <h4 class="modal-title"><b>Transection Details</b>  </h4>\r\n      <button type="button" class="close" (click)="closePopup()">&times;</button>\r\n      </div>\r\n      <div class="modal-body">\r\n\r\n    <div class="row">\r\n      <div class="col-md-4 mb-4">\r\n        <label class="control-label font-weight-bold">Name</label>\r\n        <input type="text" readonly class="form-control" value="{{allData.userName}}">\r\n      </div>\r\n      <div class="col-md-4 mb-4">\r\n        <label class="control-label font-weight-bold">Email Id</label>\r\n        <input type="text" readonly class="form-control" value="{{allData.emailId}}">\r\n      </div>\r\n      <div class="col-md-4 mb-4">\r\n        <label class="control-label font-weight-bold"> Mobile No</label>\r\n        <input type="text" readonly class="form-control" value="{{allData.mobileNo}}">\r\n      </div>\r\n\r\n      <div class="col-md-4 mb-4">\r\n        <label class="control-label font-weight-bold"> Transaction No</label>\r\n        <input type="text" readonly class="form-control" value="{{allData.transactionNo}}">\r\n      </div>\r\n      <div class="col-md-4 mb-4">\r\n        <label class="control-label font-weight-bold"> Registraion Type</label>\r\n        <input type="text" readonly class="form-control" value="{{allData.registraionType}}">\r\n      </div>\r\n      <div class="col-md-4 mb-4">\r\n        <label class="control-label font-weight-bold"> Total Amount</label>\r\n        <input type="text" readonly class="form-control" value="{{allData.reqTotalAmount}}">\r\n      </div>\r\n      <div class="col-md-4 mb-4">\r\n        <label class="control-label font-weight-bold"> Gateway Reference No</label>\r\n        <input type="text" readonly class="form-control" value="{{allData.sbiReferenceNo}}">\r\n      </div>\r\n      <div class="col-md-4 mb-4">\r\n        <label class="control-label font-weight-bold"> Payment Mode</label>\r\n        <input type="text" readonly class="form-control" value="{{allData.payMode}}">\r\n      </div>\r\n      <div class="col-md-4 mb-4">\r\n        <label class="control-label font-weight-bold"> Payment Gateway</label>\r\n        <input type="text" readonly class="form-control" value="{{allData.paymentGateway}}">\r\n      </div>\r\n      <div class="col-md-4 mb-4">\r\n        <label class="control-label font-weight-bold"> Bank Code</label>\r\n        <input type="text" readonly class="form-control" value="{{allData.bankCode}}">\r\n      </div>\r\n      <div class="col-md-4 mb-4">\r\n        <label class="control-label font-weight-bold"> Bank Reference No</label>\r\n        <input type="text" readonly class="form-control" value="{{allData.bankReferenceNo}}">\r\n      </div>\r\n\r\n      <div class="col-md-4 mb-4">\r\n        <label class="control-label font-weight-bold"> Transaction Date</label>\r\n        <input type="text" readonly class="form-control" value="{{allData.transactionDate}}">\r\n      </div>\r\n      <div class="col-md-4 mb-4">\r\n        <label class="control-label font-weight-bold"> Process Name</label>\r\n        <input type="text" readonly class="form-control" value="{{allData.processName}}">\r\n      </div>\r\n      <div class="col-md-4 mb-4">\r\n        <label class="control-label font-weight-bold"> Transaction Mode</label>\r\n        <input type="text" readonly class="form-control" value="{{allData.trxMode}}">\r\n      </div>\r\n\r\n\r\n    </div>\r\n\r\n        </div>\r\n\r\n\r\n\r\n      </div>\r\n    </div>\r\n    </div>\r\n\r\n\r\n    <div class="popup-overlay" *ngIf="modalOverlayPopup"></div>\r\n\r\n\r\n    <app-validation-message [message]="inputJson"></app-validation-message>'},sG7q:function(e,t,n){"use strict";n.r(t),t.default=""},vxQW:function(e,t,n){"use strict";n.r(t),t.default=""}}]);