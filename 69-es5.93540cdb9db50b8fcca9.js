function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{"5jxU":function(t,e,a){"use strict";a.r(e);var n=a("mrSG"),r=a("8Y7J"),i=a("SVse"),l=a("xkgV"),s=a("dTlI"),o=a("UPf0"),c=a("iInd"),d=a("2Vo4"),p=a("FvaC"),u=a("vTBr"),h=function(){function t(e,a){_classCallCheck(this,t),this._http=e,this._apiURL=a}return _createClass(t,[{key:"getVCSHeadData",value:function(){return this._http.secureget(this._apiURL.chalanAPI+"challan/secure/get-vcs-challan-count")}},{key:"getVcsListing",value:function(t){return this._http.secureget("".concat(this._apiURL.chalanAPI,"challan/secure/get-vcs-challan-recovery-details-list/").concat(t))}}]),t}();h.ctorParameters=function(){return[{type:u.a},{type:p.a}]},h=n.b([Object(r.B)({providedIn:"root"})],h);var g=function(){function t(e,a){var n=this;_classCallCheck(this,t),this.apiService=e,this._apiURL=a,this.passValue=new d.a({}),this.vcsHeadsList=[],this.loadingSpinner=!1,this.listingResponse=[],this.summaryViewTableArray=[],this.totalViewTable={amount:0,penaltyAmount:0,totalAmount:0},this.textSearch="",this.afterFilterCounting=0,this.filterDataArray=[],this.tableJsonData=new d.a({}),this.paginationCount=10,this.headTypeofFessList=["Complaint Registration Fees","Complaint Registration","Complaint Registration Fees (Form A - General Online)","Complaint Registration Fees (Form B - General Online)","Conciliation Fees","Defect Liability","Appeal Fees","Review Complaint Application Registration Fees","Review Application Fees","Complaint Registration Fees (Form A)","Complaint Registration Fees (Form B)","Agent Registration Fees","Agent Registration","Agent Renewal Fees","Agent Annual Return Fees","Agent Return Fees","Agent Half Yearly Fees"],this.listType="Total",this.getRefundRequestList=function(t){n.listType=t,n.loadingSpinner=!0,n.apiService.getVcsListing(t).subscribe((function(t){n.originalListing=t.data,n.listingResponse=t.data,n.filterDataArray=t.data,n.tableSortFilter(null,null,null,"default"),n.loadingSpinner=!1,n.afterFilterCounting=t.data.length}),(function(t){n.loadingSpinner=!1}))},this.formatValue=function(t){return t>0?Number(t).toLocaleString("en-IN"):0},this.goBack=function(){history.back()}}return _createClass(t,[{key:"ngOnInit",value:function(){this.passValue.next("vcs_list"),this.getVCSHeads(),this.getRefundRequestList(this.listType)}},{key:"tableSortFilter",value:function(t,e,a,n){this.sortData="default"==n?{sortType:"DESC",key:"created_on",typ:"date",sort:n}:{sortType:t,key:e,typ:a,sort:n};var r={headers:[{key:"chalanNo",label:"Challan No",type:"string"},{key:"name",label:"Applicant Name",type:"string"},{key:"email",label:"Email Id",type:"string"},{key:"mobileNO",label:"Mobile No",type:"string"},{key:"chalanAmt",label:"Fee",type:"string"},{key:"chalanAmt",label:"Total Amount",type:"string"},{key:"bankRefNo",label:"SBI Trans Reference Number",type:"string"},{key:"chalanType",label:"Complaint Type",type:"string"},{key:"projectName",label:"Project Name",type:"string"},{key:"projectRegNo",label:"Project Reg. No",type:"string"},{key:"judgDate",label:"Order Date",type:"date"},{key:"chalanGeneratedDate",label:"Challan Created Date",type:"date"},{key:"orderPDF",label:"Order PDF",type:"string"},{key:"challanPDF",label:"Challan PDF",type:"string"},{key:"paymentReceiptPDF",label:"Payment  Receipt PDF",type:"string"},{key:"tokenNo",label:"Unique Token Number",type:"string"},{key:"paymentStatus",label:"Payment Status",type:"string"},{key:"paymode",label:"Payment Mode",type:"string"},{key:"trnxDate",label:"Payment Date",type:"date"}],actualArray:this.originalListing,sortData:this.sortData};this.tableHeader=r.headers,this.tableJsonData.next({exportJson:r}),console.log(r)}},{key:"filterValue",value:function(t){this.filterDataArray=t.filterArray,this.sortData=t.sort,this.getPageNo(1)}},{key:"getPageNo",value:function(t){var e=this;this.currentPageNo=t,this.filterDataArray.length>9&&(this.paginationCount=10*t),0==this.filterDataArray.length&&(this.paginationCount=0),setTimeout((function(){document.querySelector("#foo1").querySelector(".pagination-next").classList.contains("disabled")&&(e.paginationCount=e.filterDataArray.length)}),100)}},{key:"getVCSHeads",value:function(){var t=this;this.apiService.getVCSHeadData().subscribe((function(e){t.vcsHeadsList=e.data}))}},{key:"backButton",value:function(){window.history.back()}},{key:"transformAmount",value:function(t){return t?Number(t).toLocaleString("en-IN"):0}},{key:"pdfDownload",value:function(t){console.log(t),window.open(this._apiURL.recoverychallanAPIDownload+"/generateChallanPDF/"+t),console.log(this._apiURL.recoverychallanAPIDownload+"/generateChallanPDF/"+t)}},{key:"printRecipt",value:function(t){console.log(t),window.open(this._apiURL.paymentDownload+"downloadPatmentReciept/"+t),console.log(this._apiURL.paymentDownload+"downloadPatmentReciept/"+t)}}]),t}();g.ctorParameters=function(){return[{type:h},{type:p.a}]},n.b([Object(r.kb)("listing",{static:!1})],g.prototype,"listing",void 0);var y=[{path:"",component:g=n.b([Object(r.n)({selector:"app-vcs-list",template:n.c(a("fKVq")).default,styles:[n.c(a("z6oC")).default]})],g)}],b=function t(){_classCallCheck(this,t)};b=n.b([Object(r.J)({imports:[c.f.forChild(y)],exports:[c.f]})],b);var f=a("NSbh"),m=a("6Lj3"),v=a("kdZ/"),k=a("5c4+");a.d(e,"VcsModule",(function(){return C}));var C=function t(){_classCallCheck(this,t)};C=n.b([Object(r.J)({declarations:[g],imports:[i.b,b,l.a,s.a,o.a,f.a,m.a,v.a,k.a]})],C)},fKVq:function(t,e,a){"use strict";a.r(e),e.default='<app-all-dashboard [activeTab]="3"></app-all-dashboard>\r\n<app-mis-dashboard-tabs [tabActive]=\'passValue\'></app-mis-dashboard-tabs>\r\n\r\n<div>\r\n    <div class="row">\r\n        <div class="col-md-12 mb-1 ">\r\n            <ul class="d-flex justify-content-between qprTab">\r\n                <li>\r\n                    <a class="btn btn-warning cursor-pointer" href="#/mis/qpr-dashboard">Q-I</a>\r\n                </li>\r\n\r\n                <li>\r\n                    <a class="btn btn-warning cursor-pointer" href="#/mis/qpr-dashboard-qe">Q-E</a>\r\n                </li>\r\n\r\n\r\n                <li>\r\n                    <a class="btn btn-warning cursor-pointer" href="#/mis/dashboard-Compliance">Annual Compliance </a>\r\n                </li>\r\n                <li>\r\n                    <a class="btn btn-warning cursor-pointer" href="#/searchProjectList"> Project Search </a>\r\n                </li>\r\n                <li>\r\n                    <a class="btn btn-success cursor-pointer" href="#/vcsList"> VCS 23 </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n    <hr />\r\n    <div class="d-flex justify-content-between align-items-center">\r\n        <h2>VCS - {{listType}}</h2>\r\n        <div class="tableTotalCount">Total Result - {{paginationCount}}/{{filterDataArray?.length}}</div>\r\n    </div>\r\n    <div class="center-align">\r\n        <table class="table table-bordered center">\r\n            <thead>\r\n                <tr class="bg-light  text-size-small text-center">\r\n                    <th>S.No.</th>\r\n                    <th>Type</th>\r\n                    <th>Heads</th>\r\n                    <th><i class="fas fa-rupee-sign" aria-hidden="true"></i> Amount</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor="let item of vcsHeadsList; let i = index;">\r\n                    <td class="text-center">{{i+1}}</td>\r\n                    <td class="text-center" *ngFor="let subItem of item;let last = last">\r\n                        <span *ngIf="!last" class="text-uppercase">{{subItem}}</span>\r\n                        <span *ngIf="last"><a href="javascript:void(0)" class="link-color cursor-pointer"\r\n                                (click)="getRefundRequestList(item[1])">{{transformAmount(subItem)}}</a></span>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n    <div class="row">\r\n\r\n\r\n        <div #listing class="text-right col-md-12">\r\n            <div class="table-responsive text-left">\r\n                <app-filter-table [filterTableData]="{\'tableJson\':tableJsonData}" (myEvent)="filterValue($event)">\r\n                </app-filter-table>\r\n                <table class="table table-bordered text-center">\r\n                    <thead>\r\n                        <tr class="bg-light  text-size-small text-center">\r\n                            <th>S.No.</th>\r\n                            <th *ngFor="let th of tableHeader">{{th.label}} <div class="sortTable">\r\n                                    <a href="javascript:void(0)"\r\n                                        [ngClass]="{\'active\':sortData.sortType==\'ASC\' && sortData.key==th.key}"\r\n                                        (click)="tableSortFilter(\'ASC\', th.key, th.type,\'sort\')" class="upArrow"><i\r\n                                            class="fas fa-arrow-up"></i></a>\r\n                                    <a href="javascript:void(0)"\r\n                                        [ngClass]="{\'active\':sortData.sortType==\'DESC\' && sortData.key==th.key}"\r\n                                        (click)="tableSortFilter(\'DESC\', th.key, th.type,\'sort\')" class="downArrow"><i\r\n                                            class="fas fa-arrow-down"></i></a>\r\n                                </div>\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n\r\n                    <tbody *ngIf="filterDataArray?.length > 0; else _no_approvedProjectList">\r\n\r\n                        <tr\r\n                            *ngFor="let data of filterDataArray | paginate: { id: \'foo1\', itemsPerPage: 10, currentPage: currentPageNo }; let i = index ">\r\n\r\n                            <td class="tabel-text-right">{{((currentPageNo-1)*10)+(i+1) }} </td>\r\n                            <td>\r\n                                {{data.chalanNo}}\r\n                            </td>\r\n\r\n                            <td>{{data.name}}</td>\r\n                            <td>{{data.email}}</td>\r\n                            <td>{{data.mobileNO}}</td>\r\n                            <td>{{transformAmount(data.chalanAmt)}}</td>\r\n                            <td>{{transformAmount(data.chalanAmt)}}</td>\r\n                            <td>{{data.bankRefNo}}</td>\r\n                            \x3c!-- <td>New Key</td> --\x3e\r\n                            <td>{{data.chalanType}}</td>\r\n                            <td>{{data.projectName}}</td>\r\n                            <td>{{data.projectRegNo}}</td>\r\n                            <td>{{data.judgDate | date : \'dd-MM-yyyy\'}}</td>\r\n                            <td>{{data.chalanGeneratedDate | date : \'dd-MM-yyyy\'}}</td>\r\n                            <td>\r\n                                <app-multi-file-view *ngIf="data.judgUid" [Uid]="data.judgUid"></app-multi-file-view>\r\n                            </td>\r\n                            \x3c!-- <td>{{data.challanPDF}}</td> --\x3e\r\n                            <td>\r\n                                <a href="javascript:void(0)" (click)="pdfDownload(data.chalanNo)"\r\n                                    class="btn text-white btn-primary mt-2" download> Challan Pdf</a>\r\n\r\n                            </td>\r\n                            <td>\r\n                                <ng-container\r\n                                    *ngIf="data.receiptNumber  !=null && data.receiptNumber  !=\'\'; else notPaidAvail">\r\n                                    <a href="javascript:void(0)" (click)="printRecipt(data.receiptNumber)"\r\n                                        class="btn btn-primary mt-2" download> Payment Receipt</a>\r\n                                </ng-container>\r\n                                <ng-template #notPaidAvail>\r\n                                    ---\r\n                                </ng-template>\r\n                            </td>\r\n                            \x3c!-- <td>{{data.status}}</td> --\x3e\r\n                            \x3c!-- <td>End New</td> --\x3e\r\n                            <td>{{data.tokenNo}}</td>\r\n                            <td>{{data.paymentStatus}}</td>\r\n                            <td>{{data.paymode}}</td>\r\n                            <td>{{data.trnxDate | date : \'dd-MM-yyyy\'}}</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <ng-template #_no_approvedProjectList>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td colspan="15" class="red font-weight-bold text-center">No Records Found.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </ng-template>\r\n\r\n                </table>\r\n                <div class="col-md-12 text-right" *ngIf="filterDataArray?.length > 0">\r\n                    <pagination-controls id="foo1" (pageChange)="getPageNo($event)"></pagination-controls>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},z6oC:function(t,e,a){"use strict";a.r(e),e.default=".scrollme {\n  overflow-x: auto;\n}\n\n.activeClassForQPR {\n  color: #008a00;\n}\n\n.submittedClassForQPR {\n  color: #6f42c1;\n}\n\n.inactiveClassForQPR {\n  color: #6c757d;\n}\n\n.defaultClassForQPR {\n  color: #db3700;\n}\n\n.default_activeClassForQPR {\n  color: #fd7e14;\n}\n\n.cursorPoint {\n  cursor: pointer;\n}"}}]);