function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var a=0;a<r.length;a++){var t=r[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,r,a){return r&&_defineProperties(e.prototype,r),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"69qj":function(e,r,a){"use strict";a.r(r),r.default='<div class="projectPrint">\r\n  <div class="row"><div class="col-md-12 PrintLogo text-center"><img  alt="Logo" class="img-logo" src="assets/images/logo.png"></div></div>\r\n<div class="row">\r\n<div class="col-md-10 text-center mb-4 title_text_2">\r\n  Bank Change Request <span class="badge badge-dark" *ngIf="totalBCRData.changeReqNum!=null"> Ack No.: {{totalBCRData.changeReqNum}} </span>\r\n</div>\r\n<div class="col-md-2 pull text-right pull-right printHide"> <a href="javascript:void(0);" (click)="goBackGoBack()" title="Back"><button class="btn btn-primary">\r\n  Back</button></a></div>\r\n</div>\r\n\r\n\r\n<div class="row mt-4">\r\n  <div class="container-fluid">\r\n    <form [formGroup]="bcrRa1Ra2IdFk" id="validateFoem">\r\n\r\n      <div class="card shadow mb-4">\r\n        <div class="card-header"><b>Project Bank Details (RA1 & RA2)</b></div>\r\n        <div class="card-body asd">\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="row">\r\n                <div class="form-group col-md-12">\r\n\r\n                  \x3c!-- <label class="control-label">\r\n                    <input type="text" class="form-control mr-2" [disabled]="true" placeholder="Promoter Name" [value]="groupName">\r\n                    <span class="bcr-div-w">RERA A/C for</span>\r\n                    <input type="text" class="bcr-formControl ml-2 width-85" [disabled]="true" placeholder="Project Name" [value]="projectName">\r\n                   \r\n                  </label> --\x3e\r\n                  <label class="control-label">Expected name of Project RERA Bank Account as per RERA banking Directions</label>\r\n                  <div class="reraACSec">\r\n                    <textarea readonly class="inputBox form-control mr-2" [disabled]="true" placeholder="Promoter Name" [value]="groupName"></textarea>\r\n                    \x3c!-- <input type="text" readonly class="inputBox form-control mr-2" formControlName="groupName" placeholder="Promoter Name" [(ngModel)]="groupName">  --\x3e\r\n                  <div class="d-flex justify-content-between reraAC-50"> <span class="acTitle">RERA A/C for </span>\r\n                    <span class="reraAcWidth"> \r\n                      <textarea readonly class="ml-2 form-control" [disabled]="true" placeholder="Project Name" [value]="projectName"></textarea></span>\r\n                      \x3c!-- <input type="text" readonly class="bcr-formControl ml-2" formControlName="projectName" placeholder="Project Name" [(ngModel)]="bankACChange.projectName"></span> --\x3e\r\n                  </div>\r\n                </div>\r\n\r\n                  </div>\r\n               \r\n\r\n\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">IFSC Code</label>\r\n                  <input type="text" class="form-control" disabled formControlName="ifscCode"\r\n                    [(ngModel)]="bcrData.ifscCode" oninput="this.value = this.value.toUpperCase()">\r\n                  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                        aria-hidden="true"></i> Please enter ifsc code</small></div>\r\n                </div>\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">Bank Name</label>\r\n                  <input type="text" disabled class="form-control" [(ngModel)]="bcrData.bankName" formControlName="bankName">\r\n\r\n\r\n                  <div class="error-box"><small class="error">Please select bank name</small></div>\r\n                </div>\r\n\r\n\r\n\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">Branch Name</label>\r\n                  <input type="text" class="form-control" disabled formControlName="branchName"\r\n                    [(ngModel)]="bcrData.branchName">\r\n                  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                        aria-hidden="true"></i> Please enter branch name</small></div>\r\n                </div>\r\n                \x3c!-- (Suffix the term "RERA Account for GANESH ELITE Real Estate Project") --\x3e\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">A/c Holder Name as per Bank Statement/ Passbook</label>\r\n                  <input type="text" class="form-control" disabled formControlName="accountHolderName"\r\n                    [(ngModel)]="bcrData.accountHolderName">\r\n                  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                        aria-hidden="true"></i> Please enter A/C holder name</small></div>\r\n                </div>\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">Type of Account</label>\r\n                  <select class="form-control" disabled formControlName="accountType" [(ngModel)]="bcrData.accountType"\r\n                    (change)="accountTypeChange($event)">\r\n                    <option value="">--Select--</option>\r\n                    <option value="CURRENT"> Current Account</option>\r\n                    <option value="SAVING"> Saving Account</option>\r\n                  </select>\r\n                  <div class="error-box"><small class="error">\r\n                      <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please select type of\r\n                      account</small></div>\r\n                </div>\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">New Account No.</label>\r\n                  <input type="text" class="form-control" disabled formControlName="accountNumber"\r\n                    [(ngModel)]="bcrData.accountNumber">\r\n                  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                        aria-hidden="true"></i> Please enter new account no</small></div>\r\n                </div>\r\n\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">State</label>\r\n                  <select class="form-control" (change)="getDistrictByStateId($event)" disabled\r\n                    formControlName="stateCode" [(ngModel)]="bcrData.stateCode">\r\n                    <option value="">--Select State--</option>\r\n                    <option *ngFor="let s of stateList" [value]="s.stateUtCode"> {{s.stateUtName}} </option>\r\n                  </select>\r\n                  <input type="hidden" [(ngModel)]="stateName" formControlName="stateName">\r\n                  <div class="error-box"><small class="error">Please select State</small>\r\n                  </div>\r\n                </div>\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">District</label>\r\n                  <select class="form-control" (change)="getDistrictList($event)" disabled\r\n                    formControlName="districtCode" [(ngModel)]="bcrData.districtCode">\r\n                    <option value="">--Select District--</option>\r\n                    <option *ngFor="let d of districtList" [(value)]="d.districtCode"> {{d.districtName}} </option>\r\n                  </select>\r\n                  <input type="hidden" class="form-control" [(ngModel)]="districtName" formControlName="districtName">\r\n                  <div class="error-box"><small class="error">Please select District</small></div>\r\n                </div>\r\n\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">Taluka</label>\r\n                  <input type="text" class="form-control" disabled formControlName="subDistrictName"\r\n                    [(ngModel)]="bcrData.subDistrictName">\r\n                  \x3c!-- <select class="form-control" (change)="getTalukaList($event)" formControlName="subDistrictName" disabled\r\n                [(ngModel)]="bcrData.subDistrictName">\r\n                <option value="">--Select--</option>\r\n                <option *ngFor="let d of subDistrictList" [(value)]="d.subDistrictName"> {{d.subDistrictName}} </option>\r\n              </select>\r\n         --\x3e\r\n                  <div class="error-box"><small class="error">Please select Taluka</small></div>\r\n                </div>\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">Pincode</label>\r\n                  <input type="text" class="form-control" formControlName="pincode" disabled\r\n                    [(ngModel)]="bcrData.pincode">\r\n                  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                        aria-hidden="true"></i> Please enter Pincode</small></div>\r\n                </div>\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">Closing Balance of Existing RERA A/C</label>\r\n                  <input type="text" class="form-control" disabled formControlName="closingBal"\r\n                    [value]="transformAmount(bcrData.closingBal)">\r\n                  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                        aria-hidden="true"></i> Please enter closing balance of existing rera A/C</small></div>\r\n                        \x3c!-- <span *ngIf="closingBalToWords">{{closingBalToWords}}</span> --\x3e\r\n                </div>\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">Closing Balance Date</label>\r\n                  \x3c!-- <input type="date" class="form-control" disabled [(ngModel)]="bcrData.closingBalanceDate"\r\n                    formControlName="closingBalanceDate" data-date-format="DD-MMMM-YYYY"\r\n                    max="{{maxDate | date:\'yyyy-MM-dd\'}}" min="{{date | date:\'yyyy-MM-dd\'}}"> --\x3e\r\n                    <div>{{bcrData.closingBalanceDate | date:\'dd-MM-yyyy\'}}</div> \x3c!--20-07-2020--\x3e\r\n                  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                        aria-hidden="true"></i> Please select closing balance date</small></div>\r\n                </div>\r\n              </div>\r\n\r\n              <div formGroupName="bcrIdDocFk" class="row">\r\n                <div class="form-group col-md-6">\r\n                  <input type="hidden" class="form-control" [(ngModel)]="formRa2DocUId" formControlName="formRa2DocUId">\r\n                  <label class="control-label"> RA02 Certificate from Existing RERA Bank Account</label>\r\n                  <input type="hidden" [ngModel]="outputValue.formRa2DocId" formControlName="formRa2DocId">\r\n                  \x3c!-- <a href="{{fileDownlod}}{{formRa2DocUId}}" download class="btn btn-primary">Download</a> --\x3e\r\n                  <app-multi-file-view [Uid]="formRa2DocUId" ></app-multi-file-view>\r\n                </div>\r\n\r\n                <div class="form-group col-md-6">\r\n                  <input type="hidden" class="form-control" [(ngModel)]="passBookDocUId"\r\n                    formControlName="passBookDocUId">\r\n                  <label class="control-label"> New RERA Bank Account Statement or First Page of Passbook</label>\r\n                  <input type="hidden" [ngModel]="outputValue.passBookDocId" formControlName="passBookDocId">\r\n                  \x3c!-- <a href="{{fileDownlod}}{{passBookDocUId}}" download class="btn btn-primary">Download</a> --\x3e\r\n                  <app-multi-file-view [Uid]="passBookDocUId" ></app-multi-file-view>\r\n\r\n                </div>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n\r\n          <div class="row">\r\n            \x3c!-- <div class="form-group col-md-6">\r\n              <label class="control-label"> Reason for Change </label>\r\n              <textarea class="form-control" formControlName="reason" disabled [(ngModel)]="bcrData.reason"></textarea>\r\n              <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                    aria-hidden="true"></i> Please enter Reason for Change</small></div>\r\n            </div> --\x3e\r\n\r\n\r\n\r\n<div class="form-group col-md-6">\r\n  <label class="control-label">Reason for Change</label>\r\n  <select class="form-control"  formControlName="reason" disabled [(ngModel)]="bcrData.reason" (click)="checkOth($event)" >\r\n    <option value="">--Reason for Change--</option>\r\n    <option value="Reason-1" > Project Finance </option>\r\n    <option value="Reason-2" > Error in providing Bank account at the time of project registration </option>\r\n    <option value="Reason-3" > Better service </option>\r\n    <option value="Reason-4"> Bank Merger </option>\r\n    <option value="OTHER" > Other </option>\r\n    </select>\r\n  \x3c!-- <ng-multiselect-dropdown formControlName="reason" [placeholder]="\'Select Reason\'" [data]="reasonDropdownList"\r\n                      [settings]="reasondropdownSettings" [(ngModel)]="bcrData.reason" [disabled]="true">\r\n                    </ng-multiselect-dropdown> --\x3e\r\n  \r\n\r\n  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i>  Please enter Reason for Change </small></div>\r\n  </div>\r\n\r\n\r\n  <div class="form-group col-md-4" *ngIf="showOth">\r\n      <label class="control-label"> Reason for Change (Other)</label>\r\n\r\n      <textarea class="form-control" formControlName="otherReason" disabled [(ngModel)]="bcrData.otherReason"></textarea>\r\n\r\n      <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please enter Reason for Change </small></div>\r\n      </div>\r\n\r\n            \r\n            <div class="form-group col-md-6" *ngIf="totalBCRData.ra1Ra2EqrRemarkExt!=null && totalBCRData.status!=\'REJECTED\'">\r\n              <label class="control-label">Account Officer Remark</label>\r\n                <textarea rows="2" cols="1" #treason class="form-control resizableHeight" formControlName="ra1Ra2EqrRemarkExt"\r\n                  disabled [(ngModel)]="totalBCRData.ra1Ra2EqrRemarkExt"></textarea>\r\n            </div>\r\n\r\n            <div class="form-group col-md-6" *ngIf="(totalBCRData.status==\'REJECTED\' && totalBCRData?.bcrRa3Ra4IdFk!=null)">\r\n              <label class="control-label">Account Officer Remark</label>\r\n                <textarea rows="2" cols="1" #treason class="form-control resizableHeight" formControlName="ra1Ra2EqrRemarkExt"\r\n                  disabled [(ngModel)]="totalBCRData.ra1Ra2EqrRemarkExt"></textarea>\r\n            </div>\r\n\r\n\r\n            <div class="form-group col-md-6" *ngIf="(totalBCRData.status==\'REJECTED\' && totalBCRData?.bcrRa3Ra4IdFk==null)">\r\n              <label class="control-label">Account Officer Remark</label>\r\n                <textarea rows="2" cols="1" #treason class="form-control resizableHeight" formControlName="ra1Ra2EqrRemarkExt" disabled [(ngModel)]="totalBCRData.ra1Ra2RemarkExt"></textarea>\r\n            </div>\r\n\r\n            \x3c!-- <div class="form-group col-md-6" *ngIf="externalRemarkRA1RA2">\r\n              <label class="control-label">External Remark</label>\r\n                <textarea rows="2" cols="1" #treason class="form-control" disabled [value]="externalRemarkRA1RA2"></textarea>\r\n            </div> --\x3e\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n    </form>\r\n\r\n\r\n\r\n\r\n\r\n    <div *ngIf="formRA3RA4 && r3r4Data.transferedAmount!=null">\r\n    <form [formGroup]="r3r4Form" id="validateFoem">\r\n      <input type="hidden" class="form-control" formControlName="bcrRa3Ra4IdFk" [(ngModel)]="bcrData.id">\r\n\r\n      <div class="card shadow mb-4">\r\n\r\n\r\n        \x3c!-- .card-body-kys --\x3e\r\n\r\n        <div class="card-header"><b>Project Bank Details (RA3 & RA4)</b></div>\r\n        <div class="card-body asd">\r\n\r\n\r\n\r\n\r\n            <div>\r\n              <div class="row">\r\n                <input type="hidden" class="form-control" formControlName="status" [(ngModel)]="status"\r\n                  value="{{status}}">\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">Transferred Amount as per RA3</label>\r\n                  <input type="text" class="form-control" disabled formControlName="transferedAmount"\r\n                    [value]="transformAmount(r3r4Data.transferedAmount)">\r\n                  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                        aria-hidden="true"></i> Please enter closing balance of existing RERA A/C as per the bank statement uploaded</small></div>\r\n                        \x3c!-- <span *ngIf="transferedAmountToWords">{{transferedAmountToWords}}</span> --\x3e\r\n                </div>\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">Date of Transferred Amount as per RA3</label>\r\n                  \x3c!-- <input type="date" class="form-control" disabled [(ngModel)]="r3r4Data.transferedAmountDate"\r\n                    formControlName="transferedAmountDate" data-date-format="DD-MMMM-YYYY"\r\n                    max="{{maxDate | date:\'yyyy-MM-dd\'}}" min="{{date | date:\'yyyy-MM-dd\'}}"> --\x3e\r\n                    {{r3r4Data.transferedAmountDate | date:\'dd-MM-yyyy\'}}\r\n                  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                        aria-hidden="true"></i> Please select closing balance date</small></div>\r\n                </div>\r\n\r\n                <div formGroupName="bcrIdDocFk" class="col-md-12">\r\n                  <div class="row">\r\n                    <div class="form-group col-md-6">\r\n                      <input type="hidden" class="form-control" [(ngModel)]="formRa3DocUId"\r\n                        formControlName="formRa3DocUId">\r\n                      <label class="control-label">RA3 (Only PDF)</label>\r\n                      <input type="hidden" [ngModel]="outputValue.formRa3DocId" formControlName="formRa3DocId">\r\n                      \x3c!-- <a href="{{fileDownlod}}{{r3r4Data.bcrIdDocFk.formRa3DocUId}}" download class="btn btn-primary">Download</a> --\x3e\r\n\r\n                      <app-multi-file-view [Uid]="r3r4Data.bcrIdDocFk.formRa3DocUId" ></app-multi-file-view>\r\n\r\n\r\n                      <div class="error-box"><small class="error">Please upload RA3 document</small></div>\r\n                    </div>\r\n\r\n                    <div class="form-group col-md-6">\r\n\r\n                      <input type="hidden" class="form-control" [(ngModel)]="formRa4DocUId"\r\n                        formControlName="formRa4DocUId">\r\n                      <label class="control-label">RA4 (Only PDF)</label>\r\n                      <input type="hidden" [ngModel]="outputValue.formRa4DocId" formControlName="formRa4DocId">\r\n                      \x3c!-- <a href="{{fileDownlod}}{{r3r4Data.bcrIdDocFk.formRa4DocUId}}" download class="btn btn-primary">Download</a> --\x3e\r\n\r\n                      <app-multi-file-view [Uid]="r3r4Data.bcrIdDocFk.formRa4DocUId" ></app-multi-file-view>\r\n\r\n\r\n                      <div class="error-box"><small class="error">Please upload RA4 document</small></div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="row">\r\n                <div class="form-group col-md-6" *ngIf="totalR3R4Data.status==\'REJECTED\'">\r\n                  <label class="control-label">Account Officer Remark</label>\r\n                    <textarea rows="2" cols="1" #treasop class="form-control resizableHeight" formControlName="ra3Ra4RemarkExt"\r\n                      disabled [(ngModel)]="totalR3R4Data.ra3Ra4RemarkExt"></textarea>\r\n                </div>\r\n\r\n                <div class="form-group col-md-6" *ngIf="totalR3R4Data.ra3Ra4RemarkExt!=null && totalR3R4Data.ra3Ra4EqrRemarkExt==null && totalR3R4Data.status!=\'REJECTED\'">\r\n                  <label class="control-label">Account Officer Remark</label>\r\n                    <textarea rows="2" cols="1" #treasop class="form-control resizableHeight" formControlName="ra3Ra4RemarkExt"\r\n                      disabled [(ngModel)]="totalR3R4Data.ra3Ra4RemarkExt"></textarea>\r\n                </div>\r\n                <div class="form-group col-md-6" *ngIf="totalR3R4Data.ra3Ra4EqrRemarkExt!=null && totalR3R4Data.status!=\'REJECTED\'">\r\n                  <label class="control-label">Account Officer Remark</label>\r\n                    <textarea rows="2" cols="1" #treasonp class="form-control resizableHeight" formControlName="ra3Ra4EqrRemarkExt"\r\n                      [(ngModel)]="totalR3R4Data.ra3Ra4EqrRemarkExt" disabled></textarea>\r\n                </div>\r\n\r\n\r\n              </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n      \x3c!-- /.card-body Documents --\x3e\r\n\r\n\r\n    </form>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <app-payment-view [paymentDataArray]="sendInBehaviou"></app-payment-view>\r\n\r\n\r\n\r\n</div>\r\n<div class="row">\r\n  <div class="col-md-12 text-center">\r\n<button (click)="clickToPrint()" class="btn btn-small btn-success printHide mt-4">Print</button>\r\n</div>\r\n</div>\r\n</div>'},AZ0c:function(e,r,a){"use strict";a.r(r),r.default="textarea {\n  resize: both !important;\n}\n\n.width-85 {\n  width: 85%;\n}\n\n.projectPrint .bcr-formControl {\n  background: none;\n  border: none;\n}\n\n.projectPrint textarea {\n  resize: none !important;\n}"},BBNe:function(e,r,a){"use strict";a.r(r),r.default="textarea {\n  resize: both !important;\n}"},"D+yC":function(e,r,a){"use strict";a.r(r),r.default=""},"Hle/":function(e,r,a){"use strict";a.r(r);var t=a("mrSG"),n=a("8Y7J"),o=a("SVse"),l=a("s7LF"),s=a("4nBV"),i=a("ybvR"),c=a("T9Jj"),d=a("iInd"),m=a("yfuv"),u=a("2Vo4"),p=a("kb7i"),b=a("p87Y"),f=a("zrEs"),h=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){var r=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],a=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],t=["","Ten","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],n=function(e,r){return 0==e?"":" "+(1==e?a[r]:t[e])},o=function(e,a,t){return(0!=e&&1!=a?" "+r[e]:"")+(0!=a||e>0?" "+t:"")},l="",s=0,i=0,c=0,d=[];if(e+="",isNaN(parseInt(e)))l="";else if(parseInt(e)>0&&e.length<=10){for(s=e.length-1;s>=0;s--)switch(i=e[s]-0,c=s>0?e[s-1]-0:0,e.length-s-1){case 0:d.push(o(i,c,""));break;case 1:d.push(n(i,e[s+1]));break;case 2:d.push(0!=i?" "+r[i]+" Hundred"+(0!=e[s+1]&&0!=e[s+2]?" and":""):"");break;case 3:d.push(o(i,c,"Thousand"));break;case 4:d.push(n(i,e[s+1]));break;case 5:d.push(o(i,c,"Lakh"));break;case 6:d.push(n(i,e[s+1]));break;case 7:d.push(o(i,c,"Crore"));break;case 8:d.push(n(i,e[s+1]));break;case 9:d.push(0!=i?" "+r[i]+" Hundred"+(0!=e[s+1]||0!=e[s+2]?" and":" Crore"):"")}l=d.reverse().join("")+" Only"}else l="";return l}}]),e}();h=t.b([Object(n.U)({name:"transformInr"})],h);var v=function(){function e(r,a,t,n,o,l,s){var i=this;_classCallCheck(this,e),this.datePipe=r,this._route=a,this._httpServ=t,this._validation=n,this._fb=o,this._pinCodeValidation=l,this.inrTransformPipe=s,this.statusCheck="",this.isNull=!1,this.counter=0,this.tooltipJson=new u.a({}),this.totalBCRData={},this.bcrDataMain={},this.loadingSpinner=!1,this.docId1=new u.a({}),this.docId4=new u.a({}),this.ra1Ra2RemarkExt="",this.ra1Ra2EqrRemarkExt="",this.bcrData={id:"",bankCode:"",branchName:"",accountHolderName:"",accountType:"",accountNumber:"",reaccountNumber:"",ifscCode:"",stateCode:"",districtCode:"",subDistrictName:"",closingBal:"",closingBalanceDate:"",pincode:"",reason:"",otherReason:""},this.formRa2DocUId=null,this.passBookDocUId=null,this.isApproved=!1,this.subDistrictName="",this.bankACChange={projectId:"",projectName:"",promoterId:"",promoterMobileNo:"",promoterName:"",promoterType:"",promoteremailId:"",projectRegNo:""},this.bankDetail={oldBankName:"",oldBranchName:"",oldAccountNo:"",oldIfscCode:"",oldDistrictName:"",oldStateName:"",subDistrictName:"",accountName:"",pincode:""},this.loader=!1,this.oldBankDtl=null,this.errorMsg=!1,this.successMsg=!1,this.inputJson=new u.a({}),this.popMsg=!1,this.formValueData="INPROGRESS",this.ifscObs=new u.a({}),this.isReadonlyAllowed=!0,this.paymentSourceData={},this.quarterDetailsSet="",this.shouldConsiderPayment=!0,this.paymentMode="",this.closingBalToWords="",this.date=new Date,this.currentDate=new Date,this.searchableString=new u.a({}),this.closeIcon=!0,this.paymentAmount=5e3,this.reasonDropdownList=[{reason_code:"Reason-1",reason_name:"Project Finance"},{reason_code:"Reason-2",reason_name:"Error in providing Bank account at the time of project registration"},{reason_code:"Reason-3",reason_name:"Better service"},{reason_code:"Reason-4",reason_name:"Bank Merger"},{reason_code:"OTHER",reason_name:"OTHER"}],this.reasondropdownSettings={singleSelection:!1,idField:"reason_code",textField:"reason_name",selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1},this.reasonPopUp=!1,this.disableReasonDrop=!1,this.upcomingQPRDateAndName=function(e){i._httpServ.upcomingQPRDateandName(e).subscribe((function(e){"200"==e.status&&(Object.keys(e.data).length>0?i.quarterDetailsSet="Upcoming QPR - "+e.data.qtrName+" end date : "+e.data.extendedDate:i.quarterDetailsSet="")}),(function(e){console.error("upcoming quarter error",e)}))},this.backMe=function(){history.back()}}return _createClass(e,[{key:"ngOnInit",value:function(){this.projectId=sessionStorage.getItem("projectId"),this.maxDate=this.datePipe.transform(new Date(this.currentDate.getFullYear()+10,11,31),"yyyy-MM-dd"),console.log("project id is::::::"+this.projectId),this.fileId={},this.outputValue={},this.bcrForm=this._fb.group({id:new l.c,projectId:new l.c(null),projectName:new l.c(null,l.h.required),groupName:new l.c(null),promoterId:new l.c(null),promoterMobileNo:new l.c(null),promoterName:new l.c(null),promoterType:new l.c(null),promoteremailId:new l.c(null),projectRegNo:new l.c(null),status:new l.c(null),changeReqNum:new l.c(null),paymentMode:new l.c(null),bcrRa1Ra2IdFk:this._fb.group({oldBankName:new l.c(null),id:new l.c(null),projectName:new l.c(null,l.h.required),groupName:new l.c(null),bankName:new l.c(null,l.h.required),bankCode:new l.c(""),accountType:new l.c("",l.h.required),stateCode:new l.c("",l.h.required),stateName:new l.c(null,l.h.required),districtCode:new l.c("",l.h.required),districtName:new l.c(null,l.h.required),pincode:new l.c(null,[l.h.required,l.h.pattern(this._validation.pinCodeRegex)]),subDistrictName:new l.c("",l.h.required),closingBal:new l.c(null,[l.h.required,l.h.pattern(this._validation.onlyNumberRegexnEW)]),closingBalanceDate:new l.c(null,[l.h.required,this._validation.futureDateValidator]),branchName:new l.c(null,[l.h.required]),accountHolderName:new l.c(null,[l.h.required,l.h.pattern(this._validation.alphanumericmultiplecharRegex)]),accountNumber:new l.c(null,[l.h.required,l.h.pattern(this._validation.accountNumber)]),reaccountNumber:new l.c(null,[l.h.required,l.h.pattern(this._validation.accountNumber)]),bcrIdDocFk:this._fb.group({id:new l.c(null),formRa2DocId:new l.c(null,l.h.required),formRa2DocUId:new l.c(this.formRa2DocUId),passBookDocId:new l.c(null,l.h.required),passBookDocUId:new l.c(this.passBookDocUId)}),oldBranchName:new l.c(null),oldAccountNo:new l.c(null),oldIfscCode:new l.c(null),oldDistrictName:new l.c(null),oldStateName:new l.c(null),oldTalukaName:new l.c(null),oldAccountantName:new l.c(null),oldPincode:new l.c(null),typeOfAccount:new l.c(""),ifscCode:new l.c(null,[l.h.required,l.h.pattern(this._validation.ifscRegex)]),paymentAmount:new l.c(this.paymentAmount),reason:new l.c(null,l.h.required),otherReason:new l.c(null),formRA1RA2SubmittedRemarks:new l.c(null),ra1Ra2RemarkExt:new l.c(null),financControllerRemarks:new l.c(null),commencentCertiId:new l.c(null),decilarionFormBId:new l.c(null),ra1Ra2EqrRemarkExt:new l.c(null),remarkIntController:new l.c(null)}),ra1Ra2RemarkExt:new l.c(null),ra3Ra4RemarkExt:new l.c(null),ra1Ra2EqrRemarkExt:new l.c(null),ra3Ra4EqrRemarkExt:new l.c(null)}),this.getBankList(),this.getStateList(),this.getData(),this.getPrmData(),this.upcomingQPRDateAndName(this.projectId)}},{key:"setValue",value:function(e){this.outputValue[e.fid]=e.docid}},{key:"getPromoterExtraRemark",value:function(){var e=this;this._httpServ.getPromoterGroupName().subscribe((function(r){console.log(r),e.groupName=r?r.promoterName:""}),(function(r){e.groupName=""}))}},{key:"formSubmit",value:function(){var e=this;this.loadingSpinner=!0,console.log(this.bcrForm.value),this.bcrForm.valid?(this.popMsg=!0,this.bcrForm.value.bcrRa1Ra2IdFk.districtCode=this.bcrData.districtCode,this.bcrForm.value.bcrRa1Ra2IdFk.stateCode=this.bcrData.stateCode,this.paymentSourceData&&Object.keys(this.paymentSourceData).length>0&&(this.bcrForm.value.paymentDetailsFk=this.paymentSourceData),this._httpServ.postPrmData(this.bcrForm.value,this.enquiryStatus).subscribe((function(r){if(sessionStorage.setItem("bcrId",r.id),console.log(r),console.log(e.enquiryStatus),"BCR_ENQUIRY"==e.enquiryStatus)e.loadingSpinner=!1,e.inputJson.next({popShow:!0,popMsg:"Enquiry response has been submitted successfully.",popClass:"alert alert-success",popRoute:"project-dashboard/project-view"});else if(e.shouldConsiderPayment)e.loadingSpinner=!1,e.inputJson.next({popShow:!0,popMsg:"Bank Change Request Has Been Saved Successfully.",popClass:"alert alert-success",popRoute:"bcr/bcr-payment"});else{var a;a={bcrIdFk:r.id},e._httpServ.postDataWithoutPayment(a).subscribe((function(r){console.log("submitted response",r),e.loadingSpinner=!1,e.inputJson.next({popShow:!0,popMsg:"Application is submitted successfully.",popClass:"alert alert-success",popRoute:"project-dashboard/project-view"})}),(function(r){console.log(r),e.loadingSpinner=!1,e.inputJson.next({popShow:!0,popMsg:"Something went wrong.",popClass:"alert alert-danger",popRoute:""})}))}console.log(r),e.loader=!1,e.successMsg=!0,e.errorMsg=!1,e.loadingSpinner=!1}),(function(r){e.loadingSpinner=!1,console.log(r),e.loader=!1,e.successMsg=!1,e.errorMsg=!0,e.inputJson.next({popShow:!0,popMsg:r.error.message,popClass:"alert alert-danger",popRoute:""})}))):(this.loader=!1,this.successMsg=!1,this.errorMsg=!0,this.inputJson.next({popShow:!0,popMsg:"Something went Wrong!!",popClass:"alert alert-danger",popRoute:""}))}},{key:"accountTypeChange",value:function(e){this.accountType=e.target.options[e.target.selectedIndex].text,console.log(this.accountType)}},{key:"getBankList",value:function(){var e=this;this._httpServ.getBankList().subscribe((function(r){console.log("bank list is"),console.log(r),e.bankList=r}))}},{key:"disableAllTheField",value:function(e,r){Object.keys(e).forEach((function(e){r.controls[e].disable()}))}},{key:"getBcrData",value:function(){var e=this;console.log(":::::::::::::::::::::::::::::::1:::::::::::::"+this.projectId),this._httpServ.getBcrData(this.projectId).subscribe((function(r){if("200"==r.code)if("DISCARDED"!=r.data.status&&"APPROVED"!=r.data.status){"WithPayment"==sessionStorage.getItem("paymentModeForBCR")||"WithPayment"==r.data.paymentMode?(e.shouldConsiderPayment=!0,e.paymentMode="WithPayment"):(e.shouldConsiderPayment=!1,e.paymentMode="WithoutPayment"),e.bcrDataMain.id=r.data.id,e.groupName=r.data.groupName,e.bankACChange.projectName=r.data.projectName,console.log("option ",e.bankACChange.projectName),sessionStorage.setItem("bcrId",r.data.id),e.enquiryStatus=r.data.status,console.log(r.data),"BCR_ENQUIRY"==e.enquiryStatus&&(e.formValueData="PENDING_FINANCE_RA1_RA2"),e.totalBCRData=r.data,e.bcrData=r.data.bcrRa1Ra2IdFk,e.transFormToWords(),e.projDtlPin(e.bcrData.pincode,"bcrPin"),"OTHER"==r.data.bcrRa1Ra2IdFk.reason&&(e.showOth=!0),e.externalremark=r.data.ra1Ra2RemarkExt,console.log(r.data.bcrRa1Ra2IdFk),e._httpServ.getDataofSubDistrict(r.data.bcrRa1Ra2IdFk.districtCode).subscribe((function(r){e.subDistrictList=r})),e.outputValue.formRa2DocId=r.data.bcrRa1Ra2IdFk.bcrIdDocFk.formRa2DocId,e.outputValue.passBookDocId=r.data.bcrRa1Ra2IdFk.bcrIdDocFk.passBookDocId,console.log(e.outputValue.formRa2DocId),console.log(e.outputValue.passBookDocId),e.bcrData.reaccountNumber=e.bcrData.accountNumber,e.formRa2DocUId=r.data.bcrRa1Ra2IdFk.bcrIdDocFk.formRa2DocUId,e.passBookDocUId=r.data.bcrRa1Ra2IdFk.bcrIdDocFk.passBookDocUId,console.log(e.formRa2DocUId),console.log(e.passBookDocUId),e.docId1.next({docId:r.data.bcrRa1Ra2IdFk.bcrIdDocFk.formRa2DocId,docUid:r.data.bcrRa1Ra2IdFk.bcrIdDocFk.formRa2DocUId}),e.docId4.next({docId:r.data.bcrRa1Ra2IdFk.bcrIdDocFk.passBookDocId,docUid:r.data.bcrRa1Ra2IdFk.bcrIdDocFk.passBookDocUId});var a=r.data.bcrRa1Ra2IdFk.stateCode;if(e.getDistrictByStateIdOnLoad(a),e.paymentSourceData=r.data.paymentDetailsFk,e.statusCheck=r.data.status,"INPROGRESS"!=r.data.status&&"APPROVED_CONTROLLER_RA3_RA4"!=r.data.status&&"REJECTED"!=r.data.status&&"BCR_ENQUIRY"!=r.data.status&&"DISCARDED"!=r.data.status)console.log("ssss"),e.bcrData.reaccountNumber=e.bcrData.accountNumber,e.isApproved=!0,e.disableAllTheField(e.bcrForm.controls,e.bcrForm),e.disableReasonDrop=!0,e.closeIcon=!1;else if("BCR_ENQUIRY"==r.data.status){e.closeIcon=!0;var t=e.bcrForm.get("bcrRa1Ra2IdFk.closingBalanceDate");t.setValidators(l.h.nullValidator),t.updateValueAndValidity(),e.checkBox=!0,e.isApproved=!1}else console.log("dddddddd"),e.isApproved=!1}else"WithPayment"==sessionStorage.getItem("paymentModeForBCR")||"WithPayment"==r.data.paymentMode&&"INPROGRESS"==r.data.status?(e.shouldConsiderPayment=!0,e.paymentMode="WithPayment"):(e.shouldConsiderPayment=!1,e.paymentMode="WithoutPayment"),e.getPromoterExtraRemark();else"WithPayment"==sessionStorage.getItem("paymentModeForBCR")?(e.shouldConsiderPayment=!0,e.paymentMode="WithPayment"):(e.shouldConsiderPayment=!1,e.paymentMode="WithoutPayment"),e.getPromoterExtraRemark()}),(function(r){"WithPayment"==sessionStorage.getItem("paymentModeForBCR")?(e.shouldConsiderPayment=!0,e.paymentMode="WithPayment"):(e.shouldConsiderPayment=!1,e.paymentMode="WithoutPayment"),e.closeIcon=!0,console.log(":::::::::::::::::::::::::::::::2"),console.log(r),e.getPromoterExtraRemark()}))}},{key:"resetterOfForm",value:function(e,r,a){throw new Error("Method not implemented.")}},{key:"getData",value:function(){var e=this;this._httpServ.getFormThreeData(this.projectId).subscribe((function(r){console.log(r.data),e.bankDetail=r.data}),(function(e){console.log(e)}))}},{key:"getPrmData",value:function(){var e=this;this._httpServ.getPrmData(this.projectId).subscribe((function(r){console.log(r);var a;a=r.data,Object.keys(a).length>0&&(e.bankACChange={projectId:a.projRegId,projectName:a.projectName,promoterId:a.promoterId,promoterMobileNo:a.promoterMobileNo,promoterName:a.promoterName,promoterType:a.promoterType,promoteremailId:a.promoterEmailId,projectRegNo:a.projRegNo}),console.log("project bank details are :"),console.log(e.bankACChange),e.getBcrData()}),(function(r){console.log(r),e.getBcrData()}))}},{key:"getStateList",value:function(){var e=this;this._httpServ.getStateMaster().subscribe((function(r){console.log(r),e.stateList=r}))}},{key:"getDistrictByStateId",value:function(e,r,a){var t=this;this.bcrData.stateName=e.target.options[e.target.selectedIndex].text,this._httpServ.getDistrictByStateCode(e.target.value).subscribe((function(e){console.log(e),t.districtList=e}))}},{key:"validatePinCodeFunc",value:function(e,r){this.checkPincode=this._pinCodeValidation.checkPinCodeByState(e,r),0==this.checkPincode||6!=e.length?this.bcrForm.get("bcrRa1Ra2IdFk.pincode").setErrors({incorrect:!0}):this.bcrForm.get("bcrRa1Ra2IdFk.pincode").setErrors(null)}},{key:"validatePinCode",value:function(e,r){this.validatePinCodeFunc(e,r)}},{key:"getDistrictByStateIdOnLoad",value:function(e){var r=this;this._httpServ.getDistrictByStateCode(e).subscribe((function(e){console.log(e),r.districtList=e}))}},{key:"getBankName",value:function(e){this.bcrData.bankName=e.target.options[e.target.selectedIndex].text}},{key:"getDistrictList",value:function(e){var r=this;this.bcrData.districtName=e.target.options[e.target.selectedIndex].text,this._httpServ.getDataofSubDistrict(e.target.value).subscribe((function(e){console.log(e),r.subDistrictList=e}))}},{key:"getTalukaList",value:function(e){this.subDistrictName=e.target.options[e.target.selectedIndex].text}},{key:"matchAccountNumber",value:function(e,r){console.log(e),console.log(r),parseInt(e)!==parseInt(r)?this.invalidAccount=!0:this.invalidAccount=!1}},{key:"checkValue",value:function(e){1==e.target.checked?this.counter++:this.counter--,1==this.counter?this.checkBox=!0:this.checkBox=!1}},{key:"data",value:function(e){null==this.bcrData?this.isNull=!0:this.isNull=!1}},{key:"onChangeClosingDate",value:function(){console.log("this");var e=this.bcrForm.get("bcrRa1Ra2IdFk.closingBalanceDate");e.setValidators([l.h.required,this._validation.futureDateValidator]),e.updateValueAndValidity()}},{key:"openToolTip",value:function(e,r){this.tooltipJson.next({pageX:e.pageX,pageY:e.pageY,code:r})}},{key:"checkOth",value:function(e){var r=this.bcrForm.get("bcrRa1Ra2IdFk.otherReason");"OTHER"==e.target.value?(this.showOth=!0,r.setValidators(l.h.required)):(this.showOth=!1,r.setValidators(l.h.nullValidator)),r.updateValueAndValidity()}},{key:"projDtlPin",value:function(e,r){this.searchableString.next({section:r,pinCode:e})}},{key:"getPinInformation",value:function(e){"bcrPin"==e.section&&(0!=Object.keys(e.pinInformation).length?(console.log(e),this.bcrData.stateName=e.pinInformation.pincode.stateName,this.bcrData.stateCode=e.pinInformation.pincode.stateCode,this.districtList=e.pinInformation.distList,this.bcrData.districtName=e.pinInformation.pincode.districtName,this.bcrData.districtCode=e.pinInformation.pincode.districtCode,this.subDistrictList=e.pinInformation.Taluka,this.bcrData.subDistrictName=e.pinInformation.pincode.talukaName,this.bcrForm.get("bcrRa1Ra2IdFk.stateCode").disable()):this.closeIcon&&(this.bcrForm.get("bcrRa1Ra2IdFk.stateCode").enable(),this.bcrForm.get("bcrRa1Ra2IdFk.districtCode").enable()))}},{key:"ngDoCheck",value:function(){var e=[],r=this.bcrForm.controls;for(var a in r)r[a].invalid&&e.push(a);console.log(e)}},{key:"onBlurOfIFSCcode",value:function(){console.log("this is system"),this.ifscObs.next({ifscCode:this.bcrData.ifscCode})}},{key:"blurOutPutIFSC",value:function(e){console.log(e),null==e.response?(this.isReadonlyAllowed=!1,this.inputJson.next({popShow:!0,popMsg:"Unable to find bank details with this IFSC.",popClass:"alert alert-danger",popRoute:""})):null!=e.response&&""!=e.response&&(this.isReadonlyAllowed=!0,this.bcrData.bankName=e.response.bankName,this.bcrData.branchName=e.response.branchName)}},{key:"transFormToWords",value:function(){this.closingBalToWords=this.inrTransformPipe.transform(this.bcrData.closingBal)}},{key:"onReasonItemSelect",value:function(e){"Project Finance"===e.reason_name&&(this.reasonPopUp=!0),this.checkOtherSelected(e.reason_name)}},{key:"closePopupReason",value:function(){this.reasonPopUp=!1}},{key:"onReasonSelectAll",value:function(){this.reasonPopUp=!0,this.checkOtherSelected("OTHER")}},{key:"onReasonItemDeSelectAll",value:function(){this.reasonPopUp=!1,this.checkOtherDeSelected("OTHER")}},{key:"onReasonItemDeSelect",value:function(e){"Project Finance"===e.reason_name&&(this.reasonPopUp=!1),this.checkOtherDeSelected(e.reason_name)}},{key:"getReasonArray",value:function(){var e=this.bcrData.reason.split(",");e.includes("OTHER")&&(this.showOth=!0),this.bcrData.reason=this.reasonDropdownList.filter((function(r){return e.includes(r.reason_code)})),this.selectedReasonItems=this.bcrData.reason}},{key:"checkOtherSelected",value:function(e){var r=this.bcrForm.get("bcrRa1Ra2IdFk.otherReason");"OTHER"==e&&(this.showOth=!0,r.setValidators(l.h.required)),r.updateValueAndValidity()}},{key:"checkOtherDeSelected",value:function(e){var r=this.bcrForm.get("bcrRa1Ra2IdFk.otherReason");"OTHER"==e&&(this.showOth=!1,this.bcrForm.patchValue({bcrRa1Ra2IdFk:{otherReason:null}}),r.setValidators(l.h.nullValidator)),r.updateValueAndValidity()}}]),e}();v.ctorParameters=function(){return[{type:o.e},{type:d.e},{type:p.a},{type:b.a},{type:l.b},{type:f.a},{type:h}]},v=t.b([Object(n.n)({selector:"app-bcr-request",template:t.c(a("w/Wv")).default,styles:[t.c(a("BBNe")).default]})],v);var g=a("R/mc"),R=a("FvaC"),y=a("vTBr"),k=function(){function e(r,a){_classCallCheck(this,e),this._apiURL=r,this._http=a,this.paymentFaild=new u.a({})}return _createClass(e,[{key:"postPaymentResultService",value:function(e){return this._http.securepost(this._apiURL.bcr+"secure/payment/modify",e)}}]),e}();k.ctorParameters=function(){return[{type:R.a},{type:y.a}]},k=t.b([Object(n.B)({providedIn:"root"})],k);var D=function(){function e(r,a){_classCallCheck(this,e),this._http=r,this._apiURL=a}return _createClass(e,[{key:"getPaymentDetailsService",value:function(e){return this._http.secureget(this._apiURL.bcr+"secure/payment/details/bcr/"+e)}},{key:"postPaymentDetailsService",value:function(e){return this._http.post(this._apiURL.payment+"savePaymentDetail",e)}},{key:"encPaymentDetailsService",value:function(e){return this._http.post(this._apiURL.payment+"encDataForSecurePay",e)}}]),e}();D.ctorParameters=function(){return[{type:y.a},{type:R.a}]},D=t.b([Object(n.B)({providedIn:"root"})],D);var A=function(){function e(r,a,t,n){var o=this;_classCallCheck(this,e),this._securePayment=r,this._router=a,this._paymentService=t,this._payResultService=n,this.counter=0,this.behaviourMatrix=new u.a({}),this.errorMsg=!1,this.successMsg=!1,this.loader=!1,this.paymentData={processName:"BCR",registraionType:"BCR",processId:"",userName:"",mobileNo:"",emailId:"",paymentRemarks:""},this.paymentFailed=!1,this.checkPayment=!0,this.openGatewayPop=new u.a({}),this.inputJson=new u.a({}),this.transactionalData=new u.a({}),this.showVerification=!1,this.showReceipt=!0,this.checkPaymentActivity=!0,this.clickForMoreDetails=function(){o.behaviourMatrix.next({isShow:!0,section:"Bank Change Request"})},this.setObserVableValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";o.transactionalData.next({registrationType:r,processName:e,processId:o.bcrId,redirectUrl:a}),o.showVerification=!0},this.outPutHandle=function(e){console.log("outPutHandle",e),o.showReceipt=e.payMentDone>-1,e.hidePayButton>-1?(o.checkPayment=!1,o.showVerification=!0):(o.checkPayment=!0,o.showVerification=!1)}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;sessionStorage.removeItem("printAckBcr"),this.projectId=parseInt(sessionStorage.getItem("projectId")),this.bcrId=parseInt(sessionStorage.getItem("bcrId")),console.log(sessionStorage.getItem("bcrId")),this.reqAmount="5000",this.reqPenaltyAmount="0",this.reqTotalAmount="5000",this.paymentForm=new l.d({paymentTokenNo:new l.c(null),reqAmount:new l.c(null),reqPenaltyAmount:new l.c(null),reqTotalAmount:new l.c(null),processName:new l.c(null,[l.h.required]),registraionType:new l.c(null,[l.h.required]),processId:new l.c(null,[l.h.required]),redirectUrl:new l.c("bcr/bcr-payment/bcr-payment-result",[l.h.required]),userName:new l.c(null,[l.h.required]),mobileNo:new l.c(null,[l.h.required]),emailId:new l.c(null,[l.h.required]),paymentRemarks:new l.c(null,[l.h.required]),paymentGateway:new l.c(null),encData:new l.c(null)}),this._payResultService.paymentFaild.subscribe((function(r){console.log(r),e.paymentFailed=r.show,e.paymentMsg=r.message})),this.getPaymentDetails()}},{key:"getPaymentDetails",value:function(){var e=this;this._paymentService.getPaymentDetailsService(this.bcrId).subscribe((function(r){console.log(r),e.paymentData=r.data,e.paymentData.processName="Regulatory Compliance Fees",e.paymentData.registraionType="Bank Account Change Fees",null==r.data.transactionNo?e.setObserVableValue("Regulatory Compliance Fees","Bank Account Change Fees","project-dashboard/project-view"):e.checkPayment=!1,r.data.amount,e.reqAmount=r.data.amount,e.reqPenaltyAmount=r.data.penaltyAmount,r.data.totalBcrAmount=r.data.amount+r.data.penaltyAmount,e.reqTotalAmount=r.data.totalBcrAmount,setTimeout((function(){e.encDataForSecurePay()}),1e3)}),(function(e){console.log(e)}))}},{key:"encDataForSecurePay",value:function(){var e=this;this._paymentService.encPaymentDetailsService(this.paymentForm.value).subscribe((function(r){e.encDataValue=r.data.encData}))}},{key:"selectGatewayConfirm",value:function(e){var r=this;this.paymentGatewayValue=e,setTimeout((function(){r.savePaymentDetails()}),1e3)}},{key:"savePaymentDetails",value:function(){var e=this;this._paymentService.postPaymentDetailsService(this.paymentForm.value).subscribe((function(r){e._securePayment.secureData.next(r),e._router.navigate(["secure-payment"])}),(function(r){e.inputJson.next({popShow:!0,popMsg:r.error.message,popClass:"alert alert-danger",popRoute:""}),console.log(r)}))}},{key:"postPaymentDetails",value:function(){this.openGatewayPop.next({openPop:!0})}},{key:"prevTab",value:function(){this._router.navigate(["bcr/bcr-request"])}},{key:"checkValue",value:function(e){!0===e.target.checked?this.counter++:this.counter--,4==this.counter?document.getElementById("paymentBtn").removeAttribute("disabled"):document.getElementById("paymentBtn").setAttribute("disabled","disabled")}},{key:"printNavigation",value:function(){this._router.navigate(["printbcr/print-bcr"])}},{key:"transformAmount",value:function(e){return Number(e).toLocaleString("en-IN")}}]),e}();A.ctorParameters=function(){return[{type:g.a},{type:d.e},{type:D},{type:k}]},A=t.b([Object(n.n)({selector:"app-bcr-payment",template:t.c(a("xLxF")).default,styles:[t.c(a("MliE")).default]})],A);var N=a("dkfh"),C=function(){function e(r,a,t,n){_classCallCheck(this,e),this._apiURL=r,this._payConfirm=a,this._router=t,this._payResultService=n}return _createClass(e,[{key:"ngOnInit",value:function(){this.projectId=parseInt(sessionStorage.getItem("projectId")),this.bcrId=parseInt(sessionStorage.getItem("bcrId")),this.postPaymentResult()}},{key:"postPaymentResult",value:function(){var e=this;this._payConfirm.setData.subscribe((function(r){console.log(r);var a={amount:1e4,bcrIdFk:e.bcrId,penaltyAmount:0,sbiReferanceNo:r.sbireferenceNo,status:r.status,tokenNo:r.paymentTokenNo,totalBcrAmount:1e4,totalProjectAmount:1e4,transactionNo:r.resTransactionNo};e.downloadReciept=e._apiURL.paymentDownload+"downloadPatmentReciept/"+r.resTransactionNo,console.log(a),e._payResultService.postPaymentResultService(a).subscribe((function(r){200==r.status&&sessionStorage.setItem("printAckBcr",r.data.aknowledgementNo),"SUCCESS"==r.data.paymentStatus||"BOOKED"==r.data.paymentStatus?e.allData={message:r.message,class:"alert alert-success"}:"PENDING"==r.data.paymentStatus?e.allData={message:r.message,class:"alert alert-warning"}:(e._payResultService.paymentFaild.next({show:!0,message:r.message}),e._router.navigate(["bcr/bcr-payment"])),console.log(r)}),(function(r){console.log(r),e._payResultService.paymentFaild.next({show:!0,message:"Payment Failed, Please try again"}),e._router.navigate(["bcr/bcr-payment"])}))}))}},{key:"printNavigation",value:function(){this._router.navigate(["printbcr/print-bcr"])}}]),e}();C.ctorParameters=function(){return[{type:R.a},{type:N.a},{type:d.e},{type:k}]},C=t.b([Object(n.n)({selector:"app-bcr-payment-result",template:t.c(a("TFx1")).default,styles:[t.c(a("D+yC")).default]})],C);var x=function(){function e(r,a){_classCallCheck(this,e),this._apiURL=r,this._reraService=a}return _createClass(e,[{key:"postBcrData",value:function(e,r){return this._reraService.securepost(this._apiURL.bcr+"secure/ra1ra2/update-bcr-Ra1Ra2-status-by-id/"+e+"/"+r,null)}},{key:"getBcrListData",value:function(e){return this._reraService.secureget(this._apiURL.bcr+"secure/bcr-list/"+e)}},{key:"getData",value:function(e){return this._reraService.secureget(this._apiURL.projectRegAPI+"secure/professional-assignment-status/project-id/"+e)}},{key:"getBcrData",value:function(e){return this._reraService.secureget(this._apiURL.bcr+"secure/ra1ra2/getbcr-Ra1Ra2-details-byid/"+e)}},{key:"getPrmData",value:function(e){return this._reraService.get(this._apiURL.projectRegAPI+""+e)}},{key:"getDistrictByStateCode",value:function(e){return this._reraService.get(this._apiURL.reraMasterAPI+"district/getDistrictByStateUtCode"+e)}},{key:"getDataofSubDistrict",value:function(e){return this._reraService.get(this._apiURL.reraMasterAPI+"subDistrict/getSubDistrictByDistrictCode"+e)}},{key:"getFormThreeData",value:function(e){return this._reraService.secureget(this._apiURL.projectRegAPI+"secure/project-app/getprojectreg-banks/"+e)}},{key:"getFullBCRData",value:function(e){return this._reraService.secureget(this._apiURL.bcr+"secure/getbcr-details-byid/"+e)}},{key:"getBankList",value:function(){return this._reraService.secureget(this._apiURL.reraMasterAPI+"bank/getAllBank")}},{key:"getStateMaster",value:function(){return this._reraService.get(this._apiURL.reraMasterAPI+"state/getActiveState")}},{key:"updateStatusToController",value:function(e,r){return this._reraService.securepost(this._apiURL.bcr+"secure/update-bcr-status-by-id/"+e+"/PENDING_CONTROLLER_RA1_RA2/"+r,null)}},{key:"REJECTbcrsTATUS",value:function(e,r){return this._reraService.securepost(this._apiURL.bcr+"secure/update-bcr-status-by-id/"+e+"/REJECTED/"+r,null)}},{key:"getRA3RA4ListService",value:function(e,r){return this._reraService.secureget(this._apiURL.bcr+"secure/ra3ra4/getbcr-Ra3Ra4-details-by-bcrid"+e)}},{key:"getR3R4listData",value:function(e){return this._reraService.secureget(this._apiURL.bcr+"secure/ra3ra4/getbcr-Ra3Ra4-details-by-status"+e)}},{key:"updateStatusToControllerRA3RA4",value:function(e,r){return this._reraService.securepost(this._apiURL.bcr+"secure/update-bcr-status-by-id/"+e+"/PENDING_CONTROLLER_RA3_RA4/"+r,null)}},{key:"REJECTbcrsTATUSRA3RA4",value:function(e,r){return this._reraService.securepost(this._apiURL.bcr+"secure/update-bcr-status-by-id/"+e+"/REJECTED/"+r,null)}},{key:"enquirySubmissionData",value:function(e,r,a){return this._reraService.securepost(this._apiURL.bcr+"secure/update-bcr-eqr-status-id",a)}},{key:"RejectRA1RA2FinanceUser",value:function(e,r,a,t){return this._reraService.securepost(this._apiURL.bcr+"secure/update-bcr-reject-status-id/"+e+"/"+r+"/"+t+"/"+a,null)}},{key:"getPaymentRefence",value:function(e){return this._reraService.secureget(this._apiURL.payment+"secure/getPaymentByTrxNo/"+e)}},{key:"upcomingQPRDateandName",value:function(e){return this._reraService.secureget(this._apiURL.qpr+"secure/get-upcommingqtr/"+e)}},{key:"getProjectWorkflowId",value:function(e){return this._reraService.secureget(this._apiURL.projectRegAPI+"secure/project-app/getproject-certdetails/"+e)}}]),e}();x.ctorParameters=function(){return[{type:R.a},{type:y.a}]},x=t.b([Object(n.B)({providedIn:"root"})],x);var I=function(){function e(r,a,n,o,l,s){var i=this;_classCallCheck(this,e),this._http=r,this._apiURL=a,this._validation=n,this._fb=o,this.datepipe=l,this._router=s,this.checkUserAction="Approve",this.tooltipJson=new u.a({}),this.checkedEnquiryId=new Array,this.totalBCRdata={},this.sendInBehaviou=new u.a([]),this.quarterDetailsSet="",this.showLogPopUp=!1,this.loadingSpinner=!1,this.financeResponse=new Array,this.bcrArray=new Array,this.docId1=new u.a({}),this.docId2=new u.a({}),this.docId3=new u.a({}),this.rawDataObject=new u.a({}),this.r3r4Data={transferedAmount:"",transferedAmountDate:""},this.bcrData={bankCode:"",branchName:"",accountHolderName:"",accountType:"",accountNumber:"",ifscCode:"",stateCode:"",districtCode:"",closingBal:"",closingBalanceDate:"",reason:"",subDistrictName:"",formRA1RA2SubmittedRemarks:"",financControllerRemarks:"",pincode:"",otherReason:""},this.subDistrictName="",this.formRa2DocUId=null,this.passBookDocUId=null,this.bankACChange={projectId:"",projectName:"",promoterId:"",promoterMobileNo:"",promoterName:"",promoterType:"",promoteremailId:"",projRegNo:""},this.bankDetail={oldBankName:"",oldBranchName:"",oldAccountNo:"",oldIfscCode:"",oldDistrictName:"",oldStateName:"",talukaName:"",accountName:"",pincode:""},this.loader=!1,this.oldBankDtl=null,this.errorMsg=!1,this.successMsg=!1,this.formRa3DocUId=null,this.formRa4DocUId=null,this.inputJson=new u.a({}),this.popMsg=!1,this.date=new Date,this.currentDate=new Date,this.formRA1RA2SubmittedRemarks="",this.form1InternalRemarks="",this.form1ExternalRemarks="",this.formRA3RA3SubmittedRemarks="",this.form3InternalRemarks="",this.form3ExternalRemarks="",this.tableJsonData=new u.a({}),this.paginationCount=10,this.callBackFunction=function(){return t.a(i,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBcrListData();case 2:return e.next=4,this.getR3R4Data();case 4:case"end":return e.stop()}}),e,this)})))},this.getPaymentDetails=function(e,r){var a=new Array;i._http.getPaymentRefence(e).subscribe((function(e){console.log("aaaaaa"),null!=e.data&&(a[r]=e.data,i.sendInBehaviou.next(a))}),(function(e){console.log(e)}))},this.upcomingQPRDateAndName=function(e){i._http.upcomingQPRDateandName(e).subscribe((function(e){"200"==e.status&&(Object.keys(e.data).length>0?i.quarterDetailsSet="Upcoming QPR - "+e.data.qtrName+" end date : "+e.data.extendedDate:i.quarterDetailsSet="")}),(function(e){console.error("upcoming quarter error",e)}))},this.showDataReturn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("returnData",e)},this.showLog=function(e){i.showLogPopUp=!0,console.log("process id",e),i.rawDataObject.next({processName:"BCR",processId:e})},this.hideshowLogPopUpFunction=function(){i.showLogPopUp=!1,i.rawDataObject.next(null)},this.redirectTOProjectSubmission=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.loadingSpinner=!0,i._http.getProjectWorkflowId(e.projectId).subscribe((function(e){console.log("showing data",e),i.loadingSpinner=!1,Object.keys(e.data).length>0?(sessionStorage.setItem("wfoId",e.data.wfoId),i._router.navigate(["workflow"])):i.inputJson.next({popShow:!0,popMsg:"Something went wrong.",popClass:"alert alert-danger",popRoute:""})}),(function(e){i.loadingSpinner=!1,console.error("showing error",e),i.inputJson.next({popShow:!0,popMsg:"Something went wrong.",popClass:"alert alert-danger",popRoute:""})}))}}return _createClass(e,[{key:"ngOnInit",value:function(){this.finUserRA1RA2Enq=this._apiURL.financeUserRemarkRA1RA2,this.finUserRA3RA4Enq=this._apiURL.financeUserRemarkRA3RA4,this.status="PENDING_FINANCE_RA3_RA4",this.fileDownlod=this._apiURL.fileDownloadAPI+"download/",this.maxDate=this.datepipe.transform(new Date(this.currentDate.getFullYear()+10,11,31),"yyyy-MM-dd"),this.fileId={},this.outputValue={},this.fileId={},this.outputValue={},this.bcrForm=this._fb.group({id:new l.c,projectId:new l.c(null),projectName:new l.c(null),promoterId:new l.c(null),promoterMobileNo:new l.c(null),promoterName:new l.c(null),promoterType:new l.c(null),promoteremailId:new l.c(null),projRegNo:new l.c(null),bcrRa1Ra2IdFk:this._fb.group({oldBankName:new l.c(null),bankName:new l.c(null),bankCode:new l.c(""),accountType:new l.c(""),stateCode:new l.c(""),stateName:new l.c(null),districtCode:new l.c(""),districtName:new l.c(null),subDistrictName:new l.c(""),closingBal:new l.c(null),pincode:new l.c(null),closingBalanceDate:new l.c(null),branchName:new l.c(null),accountHolderName:new l.c(null),accountNumber:new l.c(null),bcrIdDocFk:this._fb.group({formRa2DocId:new l.c(null),formRa2DocUId:new l.c(this.formRa2DocUId),passBookDocId:new l.c(null),passBookDocUId:new l.c(this.passBookDocUId)}),oldBranchName:new l.c(null),oldAccountNo:new l.c(null),oldIfscCode:new l.c(null),oldDistrictName:new l.c(null),oldStateName:new l.c(null),oldTalukaName:new l.c(null),oldAccountantName:new l.c(null),oldPincode:new l.c(null),typeOfAccount:new l.c(""),ifscCode:new l.c(null),paymentAmount:new l.c("10000"),reason:new l.c(null),otherReason:new l.c(null),commencentCertiId:new l.c(null),decilarionFormBId:new l.c(null),formRA1RA2SubmittedRemarks:new l.c(null),form1InternalRemarks:new l.c(null,[l.h.required]),form1ExternalRemarks:new l.c(null,[l.h.required]),checkUserAction:new l.c(null)})}),this.bcrRa1Ra2IdFk=new l.d({bankCode:new l.c(null),bankName:new l.c(null),branchName:new l.c(null),accountHolderName:new l.c(null),accountType:new l.c(null),accountNumber:new l.c(null),ifscCode:new l.c(null),stateCode:new l.c(null),stateName:new l.c(null),reason:new l.c(null),otherReason:new l.c(null),districtCode:new l.c(null),districtName:new l.c(null),subDistrictName:new l.c(""),closingBal:new l.c(null),pincode:new l.c(null),closingBalanceDate:new l.c(null),formRA1RA2SubmittedRemarks:new l.c(null),financControllerRemarks:new l.c(null),bcrIdDocFk:this._fb.group({formRa2DocId:new l.c(null),formRa2DocUId:new l.c(this.formRa2DocUId),passBookDocId:new l.c(null),passBookDocUId:new l.c(this.passBookDocUId)})}),this.r3r4Form=this._fb.group({bcrRa3Ra4IdFk:new l.c,status:new l.c(null),transferedAmount:new l.c(null),transferedAmountDate:new l.c(null),formRA3RA3SubmittedRemarks:new l.c(null),form3InternalRemarks:new l.c(null,l.h.required),form3ExternalRemarks:new l.c(null,l.h.required),checkUserAction:new l.c(null),controllerEqr:new l.c(null),remarkIntUser:new l.c(null),remarkIntController:new l.c(null),bcrIdDocFk:this._fb.group({formRa3DocId:new l.c(null),formRa3DocUId:new l.c(null),formRa4DocId:new l.c(null),formRa4DocUId:new l.c(null)})}),this.getBankList(),this.getStateList(),this.callBackFunction()}},{key:"ngDoCheck",value:function(){var e=this.bcrForm.get("bcrRa1Ra2IdFk");console.log("this is form",e),this.financeResponse=this.financeResponse.sort((function(e,r){return r.appSubmissionDate-e.appSubmissionDate})),console.log("loggin",this.financeResponse)}},{key:"getBcrListData",value:function(){var e=this;this._http.getBcrListData("PENDING_FINANCE_RA1_RA2").subscribe((function(r){if(console.log("awaiting system",1),"200"==r.status){var a=[];(a=r.data)&&(a.forEach((function(r){r.type="RA1RA2",r.appSubmissionDate=new Date(r.appSubmissionDate),e.financeResponse.push(r)})),e.filterDataArray=e.financeResponse,e.dataArray=e.financeResponse,e.tableSortFilter(null,null,null,"default"))}}),(function(e){console.log(e)}))}},{key:"getR3R4Data",value:function(){var e=this;this._http.getBcrListData("PENDING_FINANCE_RA3_RA4").subscribe((function(r){if("200"==r.status){console.log("awaiting system",2);var a=[];(a=r.data)&&(a.forEach((function(r){r.type="RA3RA4",r.appSubmissionDate=new Date(r.appSubmissionDate),e.financeResponse.push(r)})),e.filterDataArray=e.financeResponse,e.dataArray=e.financeResponse,e.tableSortFilter(null,null,null,"default"))}}),(function(e){console.log(e)}))}},{key:"getRA3RA4ListService",value:function(e,r){var a=this;this.rawDataObject.next({processName:"BCR",processId:e}),this.upcomingQPRDateAndName(r),this.r3r4Form.controls.formRA3RA3SubmittedRemarks.reset(),this._http.getRA3RA4ListService(e,r).subscribe((function(t){"200"==t.code?(console.log(t),a.modalPopup=!0,a.getFullBCRDataRA3RA4(e,r),a.r3r4Data=t.data,a.formRa3DocUId=t.data.bcrIdDocFk.formRa3DocUId,a.formRa4DocUId=t.data.bcrIdDocFk.formRa4DocUId):(console.log("res"),a.r3r4Data=[])}),(function(e){a.r3r4Data=[],console.log(e)}))}},{key:"getData",value:function(e,r){var a=this;this._http.getFormThreeData(r).subscribe((function(e){console.log(e.data),a.bankDetail=e.data}),(function(e){console.log(e)}))}},{key:"getFullBCRDataRA3RA4",value:function(e,r){var a=this;this.r3r4Form.controls.formRA3RA3SubmittedRemarks.reset(),this._http.getFullBCRData(e).subscribe((function(t){if(a.currentMainId=e,"200"==t.status){a.totalBCRdata=t.data,a.bcrData=t.data.bcrRa1Ra2IdFk,"OTHER"==t.data.bcrRa1Ra2IdFk.reason&&(a.showOth=!0);var n=t.data.bcrRa1Ra2IdFk.stateCode;a.getDistrictByStateIdOnLoad(n),a.getData(e,r),a.formRa2DocUId=t.data.bcrRa1Ra2IdFk.bcrIdDocFk.formRa2DocUId,a.passBookDocUId=t.data.bcrRa1Ra2IdFk.bcrIdDocFk.passBookDocUId,console.log(a.formRa2DocUId),console.log(a.passBookDocUId),console.log(t),Object.keys(a.totalBCRdata.paymentDetailsFk).length>0&&a.getPaymentDetails(a.totalBCRdata.paymentDetailsFk.transactionNo,0)}}),(function(e){console.log("error")}))}},{key:"getFullBCRData",value:function(e,r){var a=this;this.rawDataObject.next({processName:"BCR",processId:e}),this.upcomingQPRDateAndName(r),this.bcrForm.get("bcrRa1Ra2IdFk.formRA1RA2SubmittedRemarks").reset(),this.form1InternalRemarks="",this.form1ExternalRemarks="",this.refund_rec=!0,this._http.getFullBCRData(e).subscribe((function(t){if(a.currentMainId=e,"200"==t.status){a.totalBCRdata=t.data,a.bcrData=t.data.bcrRa1Ra2IdFk,"OTHER"==t.data.bcrRa1Ra2IdFk.reason&&(a.showOth=!0);var n=t.data.bcrRa1Ra2IdFk.stateCode;a.getDistrictByStateIdOnLoad(n),a.getData(e,r),a.formRa2DocUId=t.data.bcrRa1Ra2IdFk.bcrIdDocFk.formRa2DocUId,a.passBookDocUId=t.data.bcrRa1Ra2IdFk.bcrIdDocFk.passBookDocUId,console.log(a.formRa2DocUId),console.log(a.passBookDocUId),console.log(t),Object.keys(a.totalBCRdata.paymentDetailsFk).length>0&&a.getPaymentDetails(a.totalBCRdata.paymentDetailsFk.transactionNo,0)}}),(function(e){console.log("error")}))}},{key:"accountTypeChange",value:function(e){this.accountType=e.target.options[e.target.selectedIndex].text,console.log(this.accountType)}},{key:"getBankList",value:function(){var e=this;this._http.getBankList().subscribe((function(r){console.log("bank list is"),console.log(r),e.bankList=r}))}},{key:"getStateList",value:function(){var e=this;this._http.getStateMaster().subscribe((function(r){console.log(r),e.stateList=r}))}},{key:"getDistrictByStateId",value:function(e){var r=this;this.stateName=e.target.options[e.target.selectedIndex].text,this._http.getDistrictByStateCode(e.target.value).subscribe((function(e){console.log(e),r.districtList=e}))}},{key:"getDistrictByStateIdOnLoad",value:function(e){var r=this;this._http.getDistrictByStateCode(e).subscribe((function(e){console.log(e),console.log("00000000000000000000000000000000000000"),r.districtList=e}))}},{key:"getBankName",value:function(e){this.bankName=e.target.options[e.target.selectedIndex].text}},{key:"getDistrictList",value:function(e){var r=this;this.districtName=e.target.options[e.target.selectedIndex].text,this._http.getDataofSubDistrict(e.target.value).subscribe((function(e){console.log(e),r.subDistrictList=e}))}},{key:"getTalukaList",value:function(e){this.subDistrictName=e.target.options[e.target.selectedIndex].text}},{key:"rejectRA3RA4",value:function(e){var r=this;this.modalPopup=!1,console.log(e),this._http.REJECTbcrsTATUSRA3RA4(this.currentMainId,e).subscribe((function(e){r.financeResponse=[],r.getBcrListData(),r.getR3R4Data(),r.inputJson.next({popShow:!0,popMsg:"Bank Change Request has been rejected .",popClass:"alert alert-success",popRoute:"bcr/approval-process"})}))}},{key:"popupClose",value:function(){this.refund_rec=!1,this.modalPopup=!1}},{key:"accept",value:function(e,r,a){var t=this;console.log(r),console.log(e);var n=new FormData;if("1"==a){n.append("id",this.currentMainId),n.append("status","PENDING_CONTROLLER_RA1_RA2"),n.append("extRemark",r),n.append("intRemark",e),n.append("enquiryStatus","");var o;o="?id="+this.currentMainId+"&status=PENDING_CONTROLLER_RA1_RA2&extRemark="+r+"&intRemark="+e+"&enquiryStatus=",console.log("URL SENDING PARAMS FOR SEARCHING 1",o);var l;l={id:this.currentMainId,status:"PENDING_CONTROLLER_RA1_RA2",extRemark:r,intRemark:e,enquiryStatus:""},this.refund_rec=!1,this.modalPopup=!1,this._http.enquirySubmissionData(o,n,l).subscribe((function(e){t.financeResponse=[],t.getBcrListData(),t.getR3R4Data(),t.inputJson.next({popShow:!0,popMsg:"Bank Change Request has been approved successfully.",popClass:"alert alert-success",popRoute:"bcr/approval-process"})}))}else if("2"==a){n.append("id",this.currentMainId),n.append("status","PENDING_CONTROLLER_RA3_RA4"),n.append("extRemark",r),n.append("intRemark",e),n.append("enquiryStatus","");var s;s="?id="+this.currentMainId+"&status=PENDING_CONTROLLER_RA3_RA4&extRemark="+r+"&intRemark="+e+"&enquiryStatus=",console.log("URL SENDING PARAMS FOR SEARCHING 2",s);var i;i={id:this.currentMainId,status:"PENDING_CONTROLLER_RA3_RA4",extRemark:r,intRemark:e,enquiryStatus:""},this.modalPopup=!1,this.refund_rec=!1,this._http.enquirySubmissionData(s,n,i).subscribe((function(e){t.financeResponse=[],t.getBcrListData(),t.getR3R4Data(),t.inputJson.next({popShow:!0,popMsg:"Bank Change Request has been approved successfully.",popClass:"alert alert-success",popRoute:"bcr/approval-process"})}))}}},{key:"enquiry",value:function(e,r,a){var t=this;console.log(e),console.log(r);var n=new FormData;if("1"==a){n.append("id",this.currentMainId),n.append("status","PENDING_CONTROLLER_RA1_RA2"),n.append("extRemark",r),n.append("intRemark",e),n.append("enquiryStatus","RA1RA2_ENQUIRY");var o;o="?id="+this.currentMainId+"&status=PENDING_CONTROLLER_RA1_RA2&extRemark="+r+"&intRemark="+e+"&enquiryStatus=RA1RA2_ENQUIRY",console.log("URL SENDING PARAMS FOR SEARCHING 3",o);var l;l={id:this.currentMainId,status:"PENDING_CONTROLLER_RA1_RA2",extRemark:r,intRemark:e,enquiryStatus:"RA1RA2_ENQUIRY"},this.refund_rec=!1,this.modalPopup=!1,this._http.enquirySubmissionData(o,n,l).subscribe((function(e){t.financeResponse=[],t.getBcrListData(),t.getR3R4Data(),t.inputJson.next({popShow:!0,popMsg:"Enquiry has been raised successfully.",popClass:"alert alert-success",popRoute:"bcr/approval-process"})}))}else if("2"==a){n.append("id",this.currentMainId),n.append("status","PENDING_CONTROLLER_RA3_RA4"),n.append("extRemark",r),n.append("intRemark",e),n.append("enquiryStatus","RA3RA4_ENQUIRY");var s;s="?id="+this.currentMainId+"&status=PENDING_CONTROLLER_RA3_RA4&extRemark="+r+"&intRemark="+e+"&enquiryStatus=RA3RA4_ENQUIRY",console.log("URL SENDING PARAMS FOR SEARCHING 4",s);var i;i={id:this.currentMainId,status:"PENDING_CONTROLLER_RA3_RA4",extRemark:r,intRemark:e,enquiryStatus:"RA3RA4_ENQUIRY"},this.modalPopup=!1,this.refund_rec=!1,this._http.enquirySubmissionData(s,n,i).subscribe((function(e){t.financeResponse=[],t.getBcrListData(),t.getR3R4Data(),t.inputJson.next({popShow:!0,popMsg:"Enquiry has been raised successfully.",popClass:"alert alert-success",popRoute:"bcr/approval-process"})}))}}},{key:"actionOfRadio",value:function(e,r){if(console.log("what I selected for action",e.target.value),"Reject"!=e.target.value&&"Approve"!=e.target.value||(this.checkedEnquiryId=[]),"1"==r){var a=this.bcrForm.get("bcrRa1Ra2IdFk.form1ExternalRemarks"),t=this.bcrForm.get("bcrRa1Ra2IdFk.formRA1RA2SubmittedRemarks");"Reject"!=e.target.value&&"Approve"!=e.target.value&&"Enquiry"!=e.target.value||(this.checkUserAction=e.target.value,console.log("Reject"),t.setValidators([l.h.nullValidator]),a.setValidators([l.h.required])),t.updateValueAndValidity(),a.updateValueAndValidity()}else if("2"==r){var n=this.r3r4Form.get("formRA3RA3SubmittedRemarks"),o=this.r3r4Form.get("form3ExternalRemarks");"Reject"!=e.target.value&&"Approve"!=e.target.value&&"Enquiry"!=e.target.value||(this.checkUserAction=e.target.value,console.log("Reject"),n.setValidators([l.h.nullValidator]),o.setValidators([l.h.required])),n.updateValueAndValidity(),o.updateValueAndValidity()}}},{key:"reject",value:function(e,r,a){var t=this,n="";1==a?(console.log("RA1RA2"),n="PENDING_CONTROLLER_RA1_RA2"):2==a&&(console.log("RA3RA4"),n="PENDING_CONTROLLER_RA3_RA4"),n?this._http.RejectRA1RA2FinanceUser(this.currentMainId,n,e,r).subscribe((function(e){t.modalPopup=!1,t.refund_rec=!1,t.financeResponse=[],t.getBcrListData(),t.getR3R4Data(),t.inputJson.next({popShow:!0,popMsg:"Bank change request has been rejected successfully.",popClass:"alert alert-success",popRoute:"bcr/approval-process"})})):console.log("ssssss")}},{key:"openToolTip",value:function(e,r){this.tooltipJson.next({pageX:e.pageX,pageY:e.pageY,code:r})}},{key:"setInquiry",value:function(e,r,a,t,n){var o=this;if(this.form1ExternalRemarks="",this.form3ExternalRemarks="",console.log(e.target.checked),console.log(r),console.log(a),console.log(t),1==e.target.checked)this.checkedEnquiryId.push(r);else{var l=0;this.checkedEnquiryId.forEach((function(e){e.enqId==t&&o.checkedEnquiryId.splice(l,1),l++}))}1==n?this.checkedEnquiryId.length>0?this.checkedEnquiryId.forEach((function(e){o.form1ExternalRemarks=o.form1ExternalRemarks+e.description+"\r\n\n"})):this.form1ExternalRemarks="":2==n&&(this.checkedEnquiryId.length>0?this.checkedEnquiryId.forEach((function(e){o.form3ExternalRemarks=o.form3ExternalRemarks+e.description+"\r\n\n"})):this.form3ExternalRemarks=""),console.log(this.checkedEnquiryId)}},{key:"checkOth",value:function(e){"OTHER"==e.target.value?(this.showOth=!0,this.bcrRa1Ra2IdFk.controls.otherReason.setValidators(l.h.required)):(this.showOth=!1,this.bcrRa1Ra2IdFk.controls.otherReason.setValidators(l.h.nullValidator)),this.bcrRa1Ra2IdFk.controls.otherReason.updateValueAndValidity()}},{key:"transformAmount",value:function(e){return Number(e).toLocaleString("en-IN")}},{key:"tableSortFilter",value:function(e,r,a,t){var n=this;this.sortData="default"==t?{sortType:"DESC",key:"appSubmissionDate",typ:"date",sort:t}:{sortType:e,key:r,typ:a,sort:t},this.bcrArray=[],this.financeResponse.forEach((function(e){n.bcrArray.push({changeReqNum:e.changeReqNum,projectRegNo:e.projectRegNo,type:e.type,projectName:e.projectName,promoterName:e.promoterName,promoteremailId:e.promoteremailId,paymentMode:e.paymentMode,appSubmissionDate:e.appSubmissionDate,id:e.id,projectId:e.projectId})}));var o={headers:[{key:"changeReqNum",label:"BCR AckNo.",type:"string"},{key:"projectRegNo",label:"Registration No.",type:"string"},{key:"type",label:"Request Type",type:"string"},{key:"projectName",label:"Project Name",type:"string"},{key:"promoterName",label:"Promoter Name",type:"string"},{key:"promoteremailId",label:"Email Id",type:"string"},{key:"paymentMode",label:"BCR Type",type:"string"},{key:"appSubmissionDate",label:"Submission Date & Time",type:"date"}],actualArray:this.bcrArray,sortData:this.sortData};this.tableHeader=o.headers,this.tableJsonData.next({exportJson:o}),console.log(o)}},{key:"filterValue",value:function(e){console.log(e),this.bcrArray=e.filterArray,this.sortData=e.sort,this.getPageNo(1)}},{key:"getPageNo",value:function(e){var r=this;this.currentPageNo=e,this.bcrArray.length>9&&(this.paginationCount=10*e),0==this.bcrArray.length&&(this.paginationCount=0),setTimeout((function(){document.querySelector("#foo1").querySelector(".pagination-next").classList.contains("disabled")&&(r.paginationCount=r.filterDataArray.length)}),100)}}]),e}();I.ctorParameters=function(){return[{type:x},{type:R.a},{type:b.a},{type:l.b},{type:o.e},{type:d.e}]},I=t.b([Object(n.n)({selector:"app-approval-process",template:t.c(a("goCB")).default,styles:[t.c(a("ZsVs")).default]})],I);var w=function(){function e(r,a){_classCallCheck(this,e),this._apiURL=r,this._reraService=a}return _createClass(e,[{key:"postBcrData",value:function(e,r){return this._reraService.securepost(this._apiURL.bcr+"secure/ra1ra2/update-bcr-Ra1Ra2-status-by-id/"+e+"/"+r,null)}},{key:"getBcrListData",value:function(e){return this._reraService.secureget(this._apiURL.bcr+"secure/bcr-list/"+e)}},{key:"getData",value:function(e){return this._reraService.secureget(this._apiURL.projectRegAPI+"secure/professional-assignment-status/project-id/"+e)}},{key:"getBcrData",value:function(e){return this._reraService.secureget(this._apiURL.bcr+"secure/ra1ra2/getbcr-Ra1Ra2-details-byid/"+e)}},{key:"getPrmData",value:function(e){return this._reraService.get(this._apiURL.projectRegAPI+""+e)}},{key:"getDistrictByStateCode",value:function(e){return this._reraService.get(this._apiURL.reraMasterAPI+"district/getDistrictByStateUtCode"+e)}},{key:"getDataofSubDistrict",value:function(e){return this._reraService.get(this._apiURL.reraMasterAPI+"subDistrict/getSubDistrictByDistrictCode"+e)}},{key:"getFormThreeData",value:function(e){return this._reraService.secureget(this._apiURL.projectRegAPI+"secure/project-app/getprojectreg-banks/"+e)}},{key:"getFullBCRData",value:function(e){return this._reraService.secureget(this._apiURL.bcr+"secure/getbcr-details-byid/"+e)}},{key:"getBankList",value:function(){return this._reraService.secureget(this._apiURL.reraMasterAPI+"bank/getAllBank")}},{key:"getStateMaster",value:function(){return this._reraService.get(this._apiURL.reraMasterAPI+"state/getActiveState")}},{key:"updateStatusToController",value:function(e,r){return this._reraService.securepost(this._apiURL.bcr+"secure/update-bcr-status-by-id/"+e+"/APPROVED_CONTROLLER_RA1_RA2/"+r,null)}},{key:"REJECTbcrsTATUS",value:function(e,r){return this._reraService.securepost(this._apiURL.bcr+"secure/update-bcr-status-by-id/"+e+"/REJECTED/"+r,null)}},{key:"getRA3RA4ListService",value:function(e,r){return this._reraService.secureget(this._apiURL.bcr+"secure/ra3ra4/getbcr-Ra3Ra4-details-by-bcrid"+e)}},{key:"getR3R4listData",value:function(e){return this._reraService.secureget(this._apiURL.bcr+"secure/ra3ra4/getbcr-Ra3Ra4-details-by-status"+e)}},{key:"updateStatusToControllerRA3RA4",value:function(e,r){return this._reraService.securepost(this._apiURL.bcr+"secure/update-bcr-status-by-id/"+e+"/APPROVED_CONTROLLER_RA3_RA4/"+r,null)}},{key:"REJECTbcrsTATUSRA3RA4",value:function(e,r){return this._reraService.securepost(this._apiURL.bcr+"secure/update-bcr-status-by-id/"+e+"/REJECTED/"+r,null)}},{key:"enquirySubmissionData",value:function(e,r,a){return"APPROVED"==a.status?this._reraService.securepost(this._apiURL.bcr+"secure/update-bcr-eqr-status-id-alter",a):this._reraService.securepost(this._apiURL.bcr+"secure/update-bcr-eqr-status-id",a)}},{key:"RejectbyController",value:function(e,r,a,t){return this._reraService.securepost(this._apiURL.bcr+"secure/update-bcr-reject-status-id/"+e+"/"+r+"/"+t+"/"+a,null)}},{key:"getPaymentRefence",value:function(e){return this._reraService.secureget(this._apiURL.payment+"secure/getPaymentByTrxNo/"+e)}},{key:"upcomingQPRDateandName",value:function(e){return this._reraService.secureget(this._apiURL.qpr+"secure/get-upcommingqtr/"+e)}},{key:"getProjectWorkflowId",value:function(e){return this._reraService.secureget(this._apiURL.projectRegAPI+"secure/project-app/getproject-certdetails/"+e)}}]),e}();w.ctorParameters=function(){return[{type:R.a},{type:y.a}]},w=t.b([Object(n.B)({providedIn:"root"})],w);var E=function(){function e(r,a,n,o,l,s){var i=this;_classCallCheck(this,e),this._http=r,this._apiURL=a,this._validation=n,this._fb=o,this.datepipe=l,this._router=s,this.tooltipJson=new u.a({}),this.checkedEnquiryId=new Array,this.bcrArray=new Array,this.totalBCRRA1RA2data={},this.ra1ra2FullData={},this.sendInBehaviou=new u.a([]),this.quarterDetailsSet="",this.rawDataObject=new u.a([]),this.showLogPopUp=!1,this.officerExtEnquiry="",this.financeResponse=new Array,this.docId1=new u.a({}),this.docId2=new u.a({}),this.docId3=new u.a({}),this.passBookDocUId=null,this.r3r4Data={transferedAmount:"",transferedAmountDate:"",formRA3RA3SubmittedRemarks:"",fControllerRemarks:""},this.bcrData={bankCode:"",branchName:"",accountHolderName:"",accountType:"",accountNumber:"",ifscCode:"",stateCode:"",districtCode:"",closingBal:"",closingBalanceDate:"",reason:"",subDistrictName:"",formRA1RA2SubmittedRemarks:"",financControllerRemarks:"",pincode:"",otherReason:""},this.subDistrictName="",this.formRa2DocUId=null,this.formRa3DocUId=null,this.formRa4DocUId=null,this.bankACChange={projectId:"",projectName:"",promoterId:"",promoterMobileNo:"",promoterName:"",promoterType:"",promoteremailId:"",projRegNo:""},this.bankDetail={oldBankName:"",oldBranchName:"",oldAccountNo:"",oldIfscCode:"",oldDistrictName:"",oldStateName:"",oldPincode:""},this.loader=!1,this.oldBankDtl=null,this.errorMsg=!1,this.successMsg=!1,this.inputJson=new u.a({}),this.popMsg=!1,this.date=new Date,this.currentDate=new Date,this.checkUserAction="Approve",this.financControllerRemarks="",this.form3InternalRemarks="",this.form1ExternalRemarks="",this.controllerform3InternalRemarks="",this.controllerform3ExternalRemarks="",this.fControllerRemarks="",this.controllerformRA3RA4InternalRemarks="",this.controllerformRA3RA4ExternalRemarks="",this.totalBCRdata={},this.tableJsonData=new u.a({}),this.paginationCount=10,this.callBackFunction=function(){return t.a(i,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getR3R4Data();case 2:return e.next=4,this.getBcrListData();case 4:case"end":return e.stop()}}),e,this)})))},this.getPaymentDetails=function(e,r){var a=new Array;i._http.getPaymentRefence(e).subscribe((function(e){console.log("aaaaaa"),null!=e.data&&(a[r]=e.data,i.sendInBehaviou.next(a))}),(function(e){console.log(e)}))},this.upcomingQPRDateAndName=function(e){i._http.upcomingQPRDateandName(e).subscribe((function(e){"200"==e.status&&(Object.keys(e.data).length>0?i.quarterDetailsSet="Upcoming QPR - "+e.data.qtrName+" end date : "+e.data.extendedDate:i.quarterDetailsSet="")}),(function(e){console.error("upcoming quarter error",e)}))},this.showDataReturn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("returnData",e)},this.showLog=function(e){i.showLogPopUp=!0,console.log("process id",e),i.rawDataObject.next({processName:"BCR",processId:e})},this.hideshowLogPopUpFunction=function(){i.showLogPopUp=!1,i.rawDataObject.next(null)},this.redirectTOProjectSubmission=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.loadingSpinner=!0,i._http.getProjectWorkflowId(e.projectId).subscribe((function(e){console.log("showing data",e),i.loadingSpinner=!1,Object.keys(e.data).length>0?(sessionStorage.setItem("wfoId",e.data.wfoId),i._router.navigate(["workflow"])):i.inputJson.next({popShow:!0,popMsg:"Something went wrong.",popClass:"alert alert-danger",popRoute:""})}),(function(e){i.loadingSpinner=!1,console.error("showing error",e),i.inputJson.next({popShow:!0,popMsg:"Something went wrong.",popClass:"alert alert-danger",popRoute:""})}))}}return _createClass(e,[{key:"ngOnInit",value:function(){this.finUserRA1RA2Enq=this._apiURL.financeUserRemarkRA1RA2,this.finUserRA3RA4Enq=this._apiURL.financeUserRemarkRA3RA4,this.FinanceRemark="test finance remark",this.status="PENDING_FINANCE_RA3_RA4",this.fileDownlod=this._apiURL.fileDownloadAPI+"download/",this.maxDate=this.datepipe.transform(new Date(this.currentDate.getFullYear()+10,11,31),"yyyy-MM-dd"),this.fileId={},this.outputValue={},this.fileId={},this.outputValue={},this.bcrForm=this._fb.group({id:new l.c,projectId:new l.c(null),projectName:new l.c(null),promoterId:new l.c(null),promoterMobileNo:new l.c(null),promoterName:new l.c(null),promoterType:new l.c(null),promoteremailId:new l.c(null),projRegNo:new l.c(null),bcrRa1Ra2IdFk:this._fb.group({oldBankName:new l.c(null),bankName:new l.c(null),bankCode:new l.c(""),accountType:new l.c(""),stateCode:new l.c(""),stateName:new l.c(null),districtCode:new l.c(""),districtName:new l.c(null),subDistrictName:new l.c(""),closingBal:new l.c(null),pincode:new l.c(null),closingBalanceDate:new l.c(null),branchName:new l.c(null),accountHolderName:new l.c(null),accountNumber:new l.c(null),bcrIdDocFk:this._fb.group({formRa2DocId:new l.c(null),formRa2DocUId:new l.c(this.formRa2DocUId),passBookDocId:new l.c(null),passBookDocUId:new l.c(this.passBookDocUId)}),oldBranchName:new l.c(null),oldAccountNo:new l.c(null),oldIfscCode:new l.c(null),oldDistrictName:new l.c(null),oldStateName:new l.c(null),oldTalukaName:new l.c(null),oldAccountantName:new l.c(null),oldPincode:new l.c(null),typeOfAccount:new l.c(""),ifscCode:new l.c(null),paymentAmount:new l.c("10000"),reason:new l.c(null),otherReason:new l.c(null),commencentCertiId:new l.c(null),decilarionFormBId:new l.c(null),formRA1RA2SubmittedRemarks:new l.c(null),financControllerRemarks:new l.c(null),checkUserAction:new l.c(null),controllerform3InternalRemarks:new l.c(null,l.h.required),controllerform3ExternalRemarks:new l.c(null,l.h.required),remarkIntController:new l.c(null),remarkIntUser:new l.c(null)})}),this.bcrRa1Ra2IdFk=new l.d({bankCode:new l.c(null),bankName:new l.c(null),branchName:new l.c(null),accountHolderName:new l.c(null),accountType:new l.c(null),accountNumber:new l.c(null),ifscCode:new l.c(null),stateCode:new l.c(null),stateName:new l.c(null),districtCode:new l.c(null),districtName:new l.c(null),subDistrictName:new l.c(""),closingBal:new l.c(null),pincode:new l.c(null),closingBalanceDate:new l.c(null),reason:new l.c(null),otherReason:new l.c(null),formRA1RA2SubmittedRemarks:new l.c(null),financControllerRemarks:new l.c(null),bcrIdDocFk:this._fb.group({formRa2DocId:new l.c(null),formRa2DocUId:new l.c(this.formRa2DocUId),passBookDocId:new l.c(null),passBookDocUId:new l.c(this.passBookDocUId)})}),this.r3r4Form=this._fb.group({bcrRa3Ra4IdFk:new l.c,status:new l.c(null),transferedAmount:new l.c(null),transferedAmountDate:new l.c(null),checkUserAction:new l.c(null),controllerformRA3RA4InternalRemarks:new l.c(null,l.h.required),controllerformRA3RA4ExternalRemarks:new l.c(null,l.h.required),fControllerRemarks:new l.c(null),formRA3RA3SubmittedRemarks:new l.c(null),bcrIdDocFk:this._fb.group({formRa3DocId:new l.c(null),formRa3DocUId:new l.c(null),formRa4DocId:new l.c(null),formRa4DocUId:new l.c(null)})}),this.getBankList(),this.getStateList(),this.callBackFunction()}},{key:"getBcrListData",value:function(){var e=this;this._http.getBcrListData("PENDING_CONTROLLER_RA1_RA2").subscribe((function(r){if("200"==r.status){var a=[];(a=r.data)&&(a.forEach((function(r){r.type="RA1RA2",r.appSubmissionDate=new Date(r.appSubmissionDate),e.financeResponse.push(r)})),e.filterDataArray=e.financeResponse,e.dataArray=e.financeResponse,e.tableSortFilter(null,null,null,"default")),console.log(e.financeResponse)}}),(function(e){console.log(e)}))}},{key:"getR3R4Data",value:function(){var e=this;this._http.getBcrListData("PENDING_CONTROLLER_RA3_RA4").subscribe((function(r){if("200"==r.status){var a=[];(a=r.data)&&(a.forEach((function(r){r.type="RA3RA4",r.appSubmissionDate=new Date(r.appSubmissionDate),e.financeResponse.push(r)})),e.filterDataArray=e.financeResponse,e.dataArray=e.financeResponse,e.tableSortFilter(null,null,null,"default")),console.log(e.financeResponse)}}),(function(e){console.log(e)}))}},{key:"getRA3RA4ListService",value:function(e,r){var a=this;this.rawDataObject.next({processName:"BCR",processId:e}),this.upcomingQPRDateAndName(r),this.r3r4Form.controls.fControllerRemarks.reset(),this.modalPopup=!0,this._http.getRA3RA4ListService(e,r).subscribe((function(t){"200"==t.code?(console.log(t),a.getFullBCRDataRA3RA4(e,r),a.r3r4Data=t.data,a.formRa3DocUId=t.data.bcrIdDocFk.formRa3DocUId,a.formRa4DocUId=t.data.bcrIdDocFk.formRa4DocUId):(console.log("res"),a.r3r4Data=[])}),(function(e){a.r3r4Data=[],console.log(e)}))}},{key:"getData",value:function(e,r){var a=this;this._http.getFormThreeData(r).subscribe((function(e){console.log(e.data),a.bankDetail=e.data}),(function(e){console.log(e)}))}},{key:"getFullBCRDataRA3RA4",value:function(e,r){var a=this;this.r3r4Form.controls.fControllerRemarks.reset(),this._http.getFullBCRData(e).subscribe((function(t){if(a.currentMainId=e,"200"==t.status){console.log(t),a.totalBCRRA1RA2data=t.data,a.bcrData=t.data.bcrRa1Ra2IdFk,"RA3RA4_ENQUIRY"==t.data.enquiryStatus?a.checkUserAction="Enquiry":""==t.data.enquiryStatus?a.checkUserAction="Approve":null==t.data.enquiryStatus&&(a.checkUserAction="Reject"),a.controllerformRA3RA4ExternalRemarks="","BCR_ENQUIRY"==t.data.enquiryStatus&&""!=t.data.ra3Ra4RemarkExt&&null!=t.data.ra3Ra4RemarkExt?(a.officerExtEnquiry=a.totalBCRRA1RA2data.ra3Ra4EqrRemarkExt,a.checkUserAction="Reject",a.controllerformRA3RA4ExternalRemarks=a.totalBCRRA1RA2data.ra3Ra4RemarkExt):(a.officerExtEnquiry="",a.controllerformRA3RA4ExternalRemarks=a.totalBCRRA1RA2data.ra3Ra4EqrRemarkExt),"OTHER"==t.data.bcrRa1Ra2IdFk.reason&&(a.showOth=!0);var n=t.data.bcrRa1Ra2IdFk.stateCode;a.getDistrictByStateIdOnLoad(n),a.getData(e,r),a.formRa2DocUId=t.data.bcrRa1Ra2IdFk.bcrIdDocFk.formRa2DocUId,a.passBookDocUId=t.data.bcrRa1Ra2IdFk.bcrIdDocFk.passBookDocUId,console.log(a.formRa2DocUId),console.log(t),Object.keys(a.totalBCRRA1RA2data.paymentDetailsFk).length>0&&a.getPaymentDetails(a.totalBCRRA1RA2data.paymentDetailsFk.transactionNo,0)}}),(function(e){console.log("error")}))}},{key:"getFullBCRData",value:function(e,r){var a=this;this.rawDataObject.next({processName:"BCR",processId:e}),this.upcomingQPRDateAndName(r),this.bcrForm.get("bcrRa1Ra2IdFk.financControllerRemarks").reset(),this.refund_rec=!0,this._http.getFullBCRData(e).subscribe((function(t){if(a.currentMainId=e,"200"==t.status){a.ra1ra2FullData=t.data,"RA1RA2_ENQUIRY"==t.data.enquiryStatus?a.checkUserAction="Enquiry":""==t.data.enquiryStatus?a.checkUserAction="Approve":null==t.data.enquiryStatus&&(a.checkUserAction="Reject"),a.bcrData=t.data.bcrRa1Ra2IdFk,"OTHER"==t.data.bcrRa1Ra2IdFk.reason&&(a.showOth=!0),t.data.ra1Ra2RemarkExt?a.controllerform3ExternalRemarks=t.data.ra1Ra2RemarkExt:a.controllerform3ExternalRemarks=t.data.ra1Ra2EqrRemarkExt;var n=t.data.bcrRa1Ra2IdFk.stateCode;a.getDistrictByStateIdOnLoad(n),a.getData(e,r),a.formRa2DocUId=t.data.bcrRa1Ra2IdFk.bcrIdDocFk.formRa2DocUId,a.passBookDocUId=t.data.bcrRa1Ra2IdFk.bcrIdDocFk.passBookDocUId,console.log(a.formRa2DocUId),console.log(t),Object.keys(a.ra1ra2FullData.paymentDetailsFk).length>0&&a.getPaymentDetails(a.ra1ra2FullData.paymentDetailsFk.transactionNo,0)}}),(function(e){console.log("error")}))}},{key:"accountTypeChange",value:function(e){this.accountType=e.target.options[e.target.selectedIndex].text,console.log(this.accountType)}},{key:"getBankList",value:function(){var e=this;this._http.getBankList().subscribe((function(r){console.log("bank list is"),console.log(r),e.bankList=r}))}},{key:"getStateList",value:function(){var e=this;this._http.getStateMaster().subscribe((function(r){console.log(r),e.stateList=r}))}},{key:"getDistrictByStateId",value:function(e){var r=this;this.stateName=e.target.options[e.target.selectedIndex].text,this._http.getDistrictByStateCode(e.target.value).subscribe((function(e){console.log(e),r.districtList=e}))}},{key:"getDistrictByStateIdOnLoad",value:function(e){var r=this;this._http.getDistrictByStateCode(e).subscribe((function(e){console.log(e),console.log("00000000000000000000000000000000000000"),r.districtList=e}))}},{key:"getBankName",value:function(e){this.bankName=e.target.options[e.target.selectedIndex].text}},{key:"getDistrictList",value:function(e){var r=this;this.districtName=e.target.options[e.target.selectedIndex].text,this._http.getDataofSubDistrict(e.target.value).subscribe((function(e){console.log(e),r.subDistrictList=e}))}},{key:"getTalukaList",value:function(e){this.subDistrictName=e.target.options[e.target.selectedIndex].text}},{key:"popupClose",value:function(){this.refund_rec=!1,this.modalPopup=!1}},{key:"accept",value:function(e,r,a){var t=this;console.log(r),console.log(e);var n=new FormData;if("1"==a){n.append("id",this.currentMainId),n.append("status","APPROVED_CONTROLLER_RA1_RA2"),n.append("extRemark",r),n.append("intRemark",e),n.append("enquiryStatus","");var o;o="?id="+this.currentMainId+"&status=APPROVED_CONTROLLER_RA1_RA2&extRemark="+r+"&intRemark="+e+"&enquiryStatus=",console.log("URL SENDING PARAMS FOR SEARCHING 1",o);var l={};l={id:this.currentMainId,status:"APPROVED_CONTROLLER_RA1_RA2",extRemark:r,intRemark:e,enquiryStatus:""},"WithoutPayment"==this.ra1ra2FullData.paymentMode&&(l.status="APPROVED"),this.refund_rec=!1,this.modalPopup=!1,this._http.enquirySubmissionData(o,n,l).subscribe((function(e){t.financeResponse=[],t.getBcrListData(),t.getR3R4Data(),t.inputJson.next({popShow:!0,popMsg:"Bank Change Request has been approved successfully.",popClass:"alert alert-success",popRoute:"bcr/bcr-controller"})}))}else if("2"==a){n.append("id",this.currentMainId),n.append("status","APPROVED_CONTROLLER_RA3_RA4"),n.append("extRemark",r),n.append("intRemark",e),n.append("enquiryStatus","");var s;s="?id="+this.currentMainId+"&status=APPROVED_CONTROLLER_RA3_RA4&extRemark="+r+"&intRemark="+e+"&enquiryStatus=",console.log("URL SENDING PARAMS FOR SEARCHING 2",s);var i;i={id:this.currentMainId,status:"APPROVED_CONTROLLER_RA3_RA4",extRemark:r,intRemark:e,enquiryStatus:""},this.modalPopup=!1,this._http.enquirySubmissionData(s,n,i).subscribe((function(e){t.financeResponse=[],t.getBcrListData(),t.getR3R4Data(),t.inputJson.next({popShow:!0,popMsg:"Bank Change Request has been approved successfully.",popClass:"alert alert-success",popRoute:"bcr/bcr-controller"})}))}}},{key:"enquiry",value:function(e,r,a){var t=this,n=new FormData;if("1"==a){n.append("id",this.currentMainId),n.append("status","APPROVED_CONTROLLER_RA1_RA2"),n.append("extRemark",r),n.append("intRemark",e),n.append("enquiryStatus","BCR_ENQUIRY");var o;o="?id="+this.currentMainId+"&status=APPROVED_CONTROLLER_RA1_RA2&extRemark="+r+"&intRemark="+e+"&enquiryStatus=BCR_ENQUIRY",console.log("URL SENDING PARAMS FOR SEARCHING 3",o);var l;l={id:this.currentMainId,status:"APPROVED_CONTROLLER_RA1_RA2",extRemark:r,intRemark:e,enquiryStatus:"BCR_ENQUIRY"},this.refund_rec=!1,this.modalPopup=!1,this._http.enquirySubmissionData(o,n,l).subscribe((function(e){t.financeResponse=[],t.getBcrListData(),t.getR3R4Data(),t.inputJson.next({popShow:!0,popMsg:"Enquiry has been raised successfully.",popClass:"alert alert-success",popRoute:"bcr/bcr-controller"})}))}else if("2"==a){n.append("id",this.currentMainId),n.append("status","APPROVED_CONTROLLER_RA3_RA4"),n.append("extRemark",r),n.append("intRemark",e),n.append("enquiryStatus","BCR_ENQUIRY");var s;s="?id="+this.currentMainId+"&status=APPROVED_CONTROLLER_RA3_RA4&extRemark="+r+"&intRemark="+e+"&enquiryStatus=BCR_ENQUIRY",console.log("URL SENDING PARAMS FOR SEARCHING 3",s);var i;i={id:this.currentMainId,status:"APPROVED_CONTROLLER_RA3_RA4",extRemark:r,intRemark:e,enquiryStatus:"BCR_ENQUIRY"},this.modalPopup=!1,this._http.enquirySubmissionData(s,n,i).subscribe((function(e){t.financeResponse=[],t.getBcrListData(),t.getR3R4Data(),t.inputJson.next({popShow:!0,popMsg:"Enquiry has been raised successfully.",popClass:"alert alert-success",popRoute:"bcr/bcr-controller"})}))}}},{key:"ngDoCheck",value:function(){this.financeResponse=this.financeResponse.sort((function(e,r){return r.appSubmissionDate-e.appSubmissionDate}))}},{key:"actionOfRadio",value:function(e,r){if("1"==r){console.log("wwwwwwwwwwwwwwwww");var a=this.bcrForm.get("bcrRa1Ra2IdFk.controllerform3ExternalRemarks"),t=this.bcrForm.get("bcrRa1Ra2IdFk.financControllerRemarks");"Reject"!=e.target.value&&"Approve"!=e.target.value&&"Enquiry"!=e.target.value||(this.checkUserAction=e.target.value,console.log("Reject"),t.setValidators([l.h.nullValidator]),a.setValidators([l.h.required])),t.updateValueAndValidity(),a.updateValueAndValidity()}else if("2"==r){console.log("eeeeeeeeeeeeeeeeeeeee");var n=this.r3r4Form.get("fControllerRemarks"),o=this.r3r4Form.get("controllerformRA3RA4ExternalRemarks");"Reject"!=e.target.value&&"Approve"!=e.target.value&&"Enquiry"!=e.target.value||(this.checkUserAction=e.target.value,console.log("Reject"),n.setValidators([l.h.nullValidator]),o.setValidators([l.h.required])),n.updateValueAndValidity(),o.updateValueAndValidity()}}},{key:"reject",value:function(e,r,a){var t=this,n="";1==a?(console.log("RA1RA2"),n="REJECTED"):2==a&&(console.log("RA3RA4"),n="REJECTED"),n?this._http.RejectbyController(this.currentMainId,n,e,r).subscribe((function(e){t.modalPopup=!1,t.refund_rec=!1,t.financeResponse=[],t.getBcrListData(),t.getR3R4Data(),t.inputJson.next({popShow:!0,popMsg:"Bank change request has been rejected successfully.",popClass:"alert alert-success",popRoute:"bcr/bcr-controller"})})):console.log("ssssss")}},{key:"openToolTip",value:function(e,r){this.tooltipJson.next({pageX:e.pageX,pageY:e.pageY,code:r})}},{key:"setInquiry",value:function(e,r,a,t,n,o){return this.form1ExternalRemarks="",this.checkedEnquiryId=[],console.log(e.target.checked),console.log(a),console.log(t),"ra1ra2"==n&&this.controllerform3ExternalRemarks.indexOf(o)>-1&&1==e.target.checked||"ra3ra4"==n&&this.controllerformRA3RA4ExternalRemarks.indexOf(o)>-1&&1==e.target.checked?(this.inputJson.next({popShow:!0,popMsg:"Enquiry already marked in the external remark.",popClass:"alert alert-danger",popRoute:""}),!1):(1==e.target.checked?"ra1ra2"==n?this.controllerform3ExternalRemarks=this.controllerform3ExternalRemarks+o+"\r\n\n":"ra3ra4"==n&&(this.controllerformRA3RA4ExternalRemarks=this.controllerformRA3RA4ExternalRemarks+o+"\r\n\n"):"ra1ra2"==n?this.controllerform3ExternalRemarks=this.controllerform3ExternalRemarks.replace(o,""):"ra3ra4"==n&&(this.controllerformRA3RA4ExternalRemarks=this.controllerformRA3RA4ExternalRemarks.replace(o,"")),console.log("ra1 ra2 enquiry remark",this.controllerform3ExternalRemarks),void console.log("ra3 ra4 enquiry remark",this.controllerformRA3RA4ExternalRemarks))}},{key:"checkOth",value:function(e){"OTHER"==e.target.value?(this.showOth=!0,this.bcrRa1Ra2IdFk.controls.otherReason.setValidators(l.h.required)):(this.showOth=!1,this.bcrRa1Ra2IdFk.controls.otherReason.setValidators(l.h.nullValidator)),this.bcrRa1Ra2IdFk.controls.otherReason.updateValueAndValidity()}},{key:"transformAmount",value:function(e){return Number(e).toLocaleString("en-IN")}},{key:"tableSortFilter",value:function(e,r,a,t){var n=this;this.sortData="default"==t?{sortType:"DESC",key:"appSubmissionDate",typ:"date",sort:t}:{sortType:e,key:r,typ:a,sort:t},this.bcrArray=[],this.financeResponse.forEach((function(e){n.bcrArray.push({changeReqNum:e.changeReqNum,projectRegNo:e.projectRegNo,type:e.type,projectName:e.projectName,promoterName:e.promoterName,promoteremailId:e.promoteremailId,paymentMode:e.paymentMode,appSubmissionDate:e.appSubmissionDate,id:e.id,projectId:e.projectId})}));var o={headers:[{key:"changeReqNum",label:"BCR AckNo.",type:"string"},{key:"projectRegNo",label:"Registration No.",type:"string"},{key:"type",label:"Request Type",type:"string"},{key:"projectName",label:"Project Name",type:"string"},{key:"promoterName",label:"Promoter Name",type:"string"},{key:"promoteremailId",label:"Email Id",type:"string"},{key:"paymentMode",label:"BCR Type",type:"string"},{key:"appSubmissionDate",label:"Submission Date & Time",type:"date"}],actualArray:this.bcrArray,sortData:this.sortData};this.tableHeader=o.headers,this.tableJsonData.next({exportJson:o}),console.log(o)}},{key:"filterValue",value:function(e){console.log(e),this.bcrArray=e.filterArray,this.sortData=e.sort,this.getPageNo(1)}},{key:"getPageNo",value:function(e){var r=this;this.currentPageNo=e,this.bcrArray.length>9&&(this.paginationCount=10*e),0==this.bcrArray.length&&(this.paginationCount=0),setTimeout((function(){document.querySelector("#foo1").querySelector(".pagination-next").classList.contains("disabled")&&(r.paginationCount=r.bcrArray.length)}),100)}}]),e}();E.ctorParameters=function(){return[{type:w},{type:R.a},{type:b.a},{type:l.b},{type:o.e},{type:d.e}]},E=t.b([Object(n.n)({selector:"app-bcr-controller",template:t.c(a("YkSe")).default,styles:[t.c(a("us+6")).default]})],E);var S=function(){function e(r,a){_classCallCheck(this,e),this._apiURL=r,this._reraService=a}return _createClass(e,[{key:"getBankList",value:function(){return this._reraService.secureget(this._apiURL.reraMasterAPI+"bank/getAllBank")}},{key:"getStateMaster",value:function(){return this._reraService.get(this._apiURL.reraMasterAPI+"state/getActiveState")}},{key:"getDistrictByStateCode",value:function(e){return this._reraService.get(this._apiURL.reraMasterAPI+"district/getDistrictByStateUtCode"+e)}},{key:"getDataofSubDistrict",value:function(e){return this._reraService.get(this._apiURL.reraMasterAPI+"subDistrict/getSubDistrictByDistrictCode"+e)}},{key:"getBcrData",value:function(e){return this._reraService.secureget(this._apiURL.bcr+"secure/getbcr-details-by-project-id"+e)}},{key:"getR3R4Data",value:function(e){return this._reraService.secureget(this._apiURL.bcr+"secure/ra3ra4/getbcr-Ra3Ra4-details-by-bcrid"+e)}},{key:"postR3R4Data",value:function(e,r){return"BCR_ENQUIRY"==r?this._reraService.securepost(this._apiURL.bcr+"secure/ra3ra4/save-bcr-ra3-ra4-enq-details",e):this._reraService.securepost(this._apiURL.bcr+"secure/ra3ra4/save-bcr-ra3-ra4-details",e)}},{key:"getFullRA12RA34",value:function(e){return this._reraService.secureget(this._apiURL.bcr+"secure/getbcr-details-byid/"+e)}},{key:"upcomingQPRDateandName",value:function(e){return this._reraService.secureget(this._apiURL.qpr+"secure/get-upcommingqtr/"+e)}}]),e}();S.ctorParameters=function(){return[{type:R.a},{type:y.a}]},S=t.b([Object(n.B)({providedIn:"root"})],S);var B=function(){function e(r,a,t,n,o,l){var s=this;_classCallCheck(this,e),this.datePipe=r,this._apiURL=a,this._route=t,this._httpServ=n,this._validation=o,this._fb=l,this.tooltipJson=new u.a({}),this.closeIcon=!0,this.subDistrictName="",this.formRa2DocUId=null,this.financControllerRemarks="",this.ra3Ra4RemarkExt="",this.ra3Ra4EqrRemarkExt="",this.ra1Ra2EqrRemarkExt="",this.passBookDocUId=null,this.loader=!1,this.errorMsg=!1,this.successMsg=!1,this.inputJson=new u.a({}),this.popMsg=!1,this.totalBCRData={},this.totalR3R4Data={},this.bcrData={bankCode:"",branchName:"",accountHolderName:"",accountType:"",accountNumber:"",ifscCode:"",stateCode:"",districtCode:"",closingBal:"",closingBalanceDate:"",subDistrictName:"",reason:"",formRA1RA2SubmittedRemarks:"",financControllerRemarks:"",pincode:"",otherReason:""},this.r3r4Data={transferedAmount:"",transferedAmountDate:""},this.formRa3DocUId=null,this.formRa4DocUId=null,this.docId2=new u.a({}),this.docId3=new u.a({}),this.quarterDetailsSet="",this.date=new Date,this.currentDate=new Date,this.upcomingQPRDateAndName=function(e){s._httpServ.upcomingQPRDateandName(e).subscribe((function(e){"200"==e.status&&(Object.keys(e.data).length>0?s.quarterDetailsSet="Upcoming QPR - "+e.data.qtrName+" end date : "+e.data.extendedDate:s.quarterDetailsSet="")}),(function(e){console.error("upcoming quarter error",e)}))}}return _createClass(e,[{key:"ngOnInit",value:function(){this.status="PENDING_FINANCE_RA3_RA4",this.fileDownlod=this._apiURL.fileDownloadAPI+"download/",this.projectId=sessionStorage.getItem("projectId"),this.BCR_PARENT_ID=sessionStorage.getItem("BCR_MAIN_PARENT"),console.log("project id is::::::"+this.projectId),this.maxDate=this.datePipe.transform(new Date(this.currentDate.getFullYear()+10,11,31),"yyyy-MM-dd"),this.fileId={},this.outputValue={},this.bcrRa1Ra2IdFk=new l.d({bankCode:new l.c(null),bankName:new l.c(null),branchName:new l.c(null),accountHolderName:new l.c(null),accountType:new l.c(null),accountNumber:new l.c(null),ifscCode:new l.c(null),stateCode:new l.c(null),stateName:new l.c(null),districtCode:new l.c(null),districtName:new l.c(null),subDistrictName:new l.c(""),closingBal:new l.c(null),pincode:new l.c(null),closingBalanceDate:new l.c(null),reason:new l.c(null),otherReason:new l.c(null),formRA1RA2SubmittedRemarks:new l.c(null),ra1Ra2RemarkExt:new l.c(null),financControllerRemarks:new l.c(null),ra1Ra2EqrRemarkExt:new l.c(null),bcrIdDocFk:this._fb.group({formRa2DocId:new l.c(null),formRa2DocUId:new l.c(this.formRa2DocUId),passBookDocId:new l.c(null),passBookDocUId:new l.c(this.passBookDocUId)})}),this.r3r4Form=this._fb.group({bcrRa3Ra4IdFk:new l.c,id:new l.c(null),transferedAmount:new l.c(null,[l.h.required,l.h.pattern(this._validation.onlyNumberRegexnEW)]),transferedAmountDate:new l.c(null,[l.h.required,this._validation.futureDateValidator]),status:new l.c(null),formRA3RA3SubmittedRemarks:new l.c(null),ra3Ra4RemarkExt:new l.c(null),fControllerRemarks:new l.c(null),ra3Ra4EqrRemarkExt:new l.c(null),bcrIdDocFk:this._fb.group({id:new l.c(null),formRa3DocId:new l.c(null,l.h.required),formRa3DocUId:new l.c(this.formRa3DocUId),formRa4DocId:new l.c(null,l.h.required),formRa4DocUId:new l.c(this.formRa4DocUId)}),remarkIntUser:new l.c(null),remarkIntController:new l.c(null),controllerEqr:new l.c(null)}),this.getBankList(),this.getStateList(),this.getBcrData(),this.upcomingQPRDateAndName(this.projectId)}},{key:"GetBankDetails",value:function(e){var r=this;this._httpServ.getBankList().subscribe((function(e){r.bankData=e}))}},{key:"setValue",value:function(e){this.outputValue[e.fid]=e.docid}},{key:"formSubmit",value:function(){var e=this;console.log(this.r3r4Form.value),this.r3r4Form.valid&&(this.popMsg=!0,this._httpServ.postR3R4Data(this.r3r4Form.value,this.r3r4Data.status).subscribe((function(r){e.inputJson.next({popShow:!0,popMsg:"RA3 &RA4 Request has been submitted successfully",popClass:"alert alert-success",popRoute:"project-dashboard/project-view"}),console.log(r),e.loader=!1,e.successMsg=!0,e.errorMsg=!1}),(function(r){console.log(r),e.loader=!1,e.successMsg=!1,e.errorMsg=!0,e.inputJson.next({popShow:!0,popMsg:r.error.message,popClass:"alert alert-danger",popRoute:""})})))}},{key:"disableAllTheField",value:function(e,r){Object.keys(e).forEach((function(e){r.controls[e].disable()}))}},{key:"accountTypeChange",value:function(e){this.accountType=e.target.options[e.target.selectedIndex].text,console.log(this.accountType)}},{key:"getBankList",value:function(){var e=this;this._httpServ.getBankList().subscribe((function(r){console.log("bank list is"),console.log(r),e.bankList=r}))}},{key:"getBcrData",value:function(){var e=this;this._httpServ.getFullRA12RA34(this.BCR_PARENT_ID).subscribe((function(r){e.bcrData=r.data.bcrRa1Ra2IdFk,e.totalBCRData=r.data,"OTHER"==r.data.bcrRa1Ra2IdFk.reason&&(e.showOth=!0);var a=e.bcrData.stateCode;e.getDistrictByStateIdOnLoad(a),e.formRa2DocUId=e.bcrData.bcrIdDocFk.formRa2DocUId,e.passBookDocUId=e.bcrData.bcrIdDocFk.passBookDocUId,console.log(e.formRa2DocUId),console.log(e.passBookDocUId);var t=r.data.id;e.getR3R4Data(t)}),(function(e){console.log(e)}))}},{key:"getR3R4Data",value:function(e){var r=this;this._httpServ.getR3R4Data(e).subscribe((function(e){console.log(e),"200"==e.code?(r.r3r4Data=e.data,r.totalR3R4Data=e.data,console.log(r.r3r4Data),r.docIdr3r4=r.r3r4Data.bcrIdDocFk.id,r.outputValue.formRa3DocId=r.r3r4Data.bcrIdDocFk.formRa3DocId,console.log(r.outputValue.formRa3DocId),r.outputValue.formRa4DocId=r.r3r4Data.bcrIdDocFk.formRa4DocId,console.log(r.outputValue.formRa4DocId),r.formRa3DocUId=r.r3r4Data.bcrIdDocFk.formRa3DocUId,console.log(r.formRa3DocUId),r.formRa4DocUId=r.r3r4Data.bcrIdDocFk.formRa4DocUId,console.log(r.formRa4DocUId),r.docId2.next({docId:r.r3r4Data.bcrIdDocFk.formRa3DocId,docUid:r.r3r4Data.bcrIdDocFk.formRa3DocUId}),r.docId3.next({docId:r.r3r4Data.bcrIdDocFk.formRa4DocId,docUid:r.r3r4Data.bcrIdDocFk.formRa4DocUId}),"APPROVED_CONTROLLER_RA3_RA4"==r.r3r4Data.status||"PENDING_FINANCE_RA3_RA4"==r.r3r4Data.status||"PENDING_CONTROLLER_RA3_RA4"==r.r3r4Data.status?(console.log("aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"),r.transferedAmountStatus=!0,r.disableAllTheField(r.r3r4Form.controls,r.r3r4Form),r.closeIcon=!1):"BCR_ENQUIRY"==r.r3r4Data.status&&(console.log("RA3RA4 ENQUIRY"),r.closeIcon=!0)):r.r3r4Data.transferedAmount=r.bcrData.closingBal}),(function(e){console.log(e)}))}},{key:"getStateList",value:function(){var e=this;this._httpServ.getStateMaster().subscribe((function(r){console.log(r),e.stateList=r}))}},{key:"getDistrictByStateId",value:function(e){var r=this;this.stateName=e.target.options[e.target.selectedIndex].text,this._httpServ.getDistrictByStateCode(e.target.value).subscribe((function(e){console.log(e),r.districtList=e}))}},{key:"getDistrictByStateIdOnLoad",value:function(e){var r=this;this._httpServ.getDistrictByStateCode(e).subscribe((function(e){console.log(e),r.districtList=e}))}},{key:"getBankName",value:function(e){this.bankName=e.target.options[e.target.selectedIndex].text}},{key:"getDistrictList",value:function(e){var r=this;this.districtName=e.target.options[e.target.selectedIndex].text,this._httpServ.getDataofSubDistrict(e.target.value).subscribe((function(e){console.log(e),r.subDistrictList=e}))}},{key:"checkOth",value:function(e){"OTHER"==e.target.value?(this.showOth=!0,this.bcrRa1Ra2IdFk.controls.otherReason.setValidators(l.h.required)):(this.showOth=!1,this.bcrRa1Ra2IdFk.controls.otherReason.setValidators(l.h.nullValidator)),this.bcrRa1Ra2IdFk.controls.otherReason.updateValueAndValidity()}},{key:"getTalukaList",value:function(e){this.subDistrictName=e.target.options[e.target.selectedIndex].text}},{key:"openToolTip",value:function(e,r){this.tooltipJson.next({pageX:e.pageX,pageY:e.pageY,code:r})}},{key:"onChangeClosingDate",value:function(){console.log("this");var e=this.r3r4Form.get("transferedAmountDate");e.setValidators([l.h.required,this._validation.futureDateValidator]),e.updateValueAndValidity()}}]),e}();B.ctorParameters=function(){return[{type:o.e},{type:R.a},{type:d.e},{type:S},{type:b.a},{type:l.b}]},B=t.b([Object(n.n)({selector:"app-r3-r4-submission",template:t.c(a("yc4E")).default,styles:[t.c(a("Yt8e")).default]})],B);var _=function(){function e(r,a){_classCallCheck(this,e),this._apiURL=r,this._reraService=a}return _createClass(e,[{key:"getDistrictByStateCode",value:function(e){return this._reraService.get(this._apiURL.reraMasterAPI+"district/getDistrictByStateUtCode"+e)}},{key:"getDataofSubDistrict",value:function(e){return this._reraService.get(this._apiURL.reraMasterAPI+"subDistrict/getSubDistrictByDistrictCode"+e)}},{key:"getBankList",value:function(){return this._reraService.secureget(this._apiURL.reraMasterAPI+"bank/getAllBank")}},{key:"getStateMaster",value:function(){return this._reraService.get(this._apiURL.reraMasterAPI+"state/getActiveState")}},{key:"getBCRData",value:function(e){return this._reraService.secureget(this._apiURL.bcr+"secure/getbcr-details-byid/"+e)}},{key:"getPaymentRefence",value:function(e){return this._reraService.secureget(this._apiURL.payment+"secure/getPaymentByTrxNo/"+e)}}]),e}();_.ctorParameters=function(){return[{type:R.a},{type:y.a}]},_=t.b([Object(n.B)({providedIn:"root"})],_);var P=function(){function e(r,a,t,n,o,l,s,i){var c=this;_classCallCheck(this,e),this._http=r,this._apiURL=a,this._validation=t,this._fb=n,this.datepipe=o,this._router=l,this._datePipe=s,this.inrTransformPipe=i,this.formRA3RA4=!1,this.summarizedPaymentList=new Array,this.sendInBehaviou=new u.a([]),this.docId1=new u.a({}),this.docId2=new u.a({}),this.docId3=new u.a({}),this.passBookDocUId=null,this.ra1Ra2EqrRemarkExt="",this.ra3Ra4RemarkExt="",this.ra1Ra2RemarkExt="",this.ra3Ra4EqrRemarkExt="",this.totalBCRData={},this.totalR3R4Data={},this.r3r4Data={transferedAmount:"",transferedAmountDate:"",formRA3RA3SubmittedRemarks:"",fControllerRemarks:""},this.bcrData={bankCode:"",branchName:"",accountHolderName:"",accountType:"",accountNumber:"",ifscCode:"",stateCode:"",districtCode:"",closingBal:"",closingBalanceDate:"",reason:"",subDistrictName:"",formRA1RA2SubmittedRemarks:"",financControllerRemarks:"",pincode:"",otherReason:""},this.subDistrictName="",this.formRa2DocUId=null,this.formRa3DocUId=null,this.formRa4DocUId=null,this.loader=!1,this.oldBankDtl=null,this.inputJson=new u.a({}),this.date=new Date,this.currentDate=new Date,this.transferedAmountToWords="",this.closingBalToWords="",this.reasonDropdownList=[{reason_code:"Reason-1",reason_name:"Project Finance"},{reason_code:"Reason-2",reason_name:"Error in providing Bank account at the time of project registration"},{reason_code:"Reason-3",reason_name:"Better service"},{reason_code:"Reason-4",reason_name:"Bank Merger"},{reason_code:"OTHER",reason_name:"OTHER"}],this.reasondropdownSettings={singleSelection:!1,idField:"reason_code",textField:"reason_name",selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1},this.goBackGoBack=function(){window.history.back()},this.getPaymentDetails=function(e,r){c._http.getPaymentRefence(e).subscribe((function(e){console.log("aaaaaa"),null!=e.data&&(c.summarizedPaymentList[r]=e.data,c.sendInBehaviou.next(c.summarizedPaymentList))}),(function(e){console.log(e)}))}}return _createClass(e,[{key:"ngOnInit",value:function(){this.fileDownlod=this._apiURL.fileDownloadAPI+"download/",this.maxDate=this.datepipe.transform(new Date(this.currentDate.getFullYear()+10,11,31),"yyyy-MM-dd"),this.fileId={},this.outputValue={},this.fileId={},this.outputValue={},this.bcrRa1Ra2IdFk=new l.d({bankCode:new l.c(null),bankName:new l.c(null),branchName:new l.c(null),accountHolderName:new l.c(null),accountType:new l.c(null),accountNumber:new l.c(null),ifscCode:new l.c(null),stateCode:new l.c(null),stateName:new l.c(null),districtCode:new l.c(null),districtName:new l.c(null),subDistrictName:new l.c(""),closingBal:new l.c(null),pincode:new l.c(null),closingBalanceDate:new l.c(null),reason:new l.c(null),otherReason:new l.c(null),formRA1RA2SubmittedRemarks:new l.c(null),ra1Ra2RemarkExt:new l.c(null),financControllerRemarks:new l.c(null),ra1Ra2EqrRemarkExt:new l.c(null),bcrIdDocFk:this._fb.group({formRa2DocId:new l.c(null),formRa2DocUId:new l.c(this.formRa2DocUId),passBookDocId:new l.c(null),passBookDocUId:new l.c(this.passBookDocUId)})}),this.r3r4Form=this._fb.group({bcrRa3Ra4IdFk:new l.c,status:new l.c(null),transferedAmount:new l.c(null),transferedAmountDate:new l.c(null),formRA3RA3SubmittedRemarks:new l.c(null),ra3Ra4RemarkExt:new l.c(null),fControllerRemarks:new l.c(null),ra3Ra4EqrRemarkExt:new l.c(null),bcrIdDocFk:this._fb.group({formRa3DocId:new l.c(null),formRa3DocUId:new l.c(null),formRa4DocId:new l.c(null),formRa4DocUId:new l.c(null)})}),this.bcrMainId=sessionStorage.getItem("BCR_MAIN_PARENT"),this.getBankList(),this.getStateList(),this.getBCRData(this.bcrMainId)}},{key:"accountTypeChange",value:function(e){this.accountType=e.target.options[e.target.selectedIndex].text,console.log(this.accountType)}},{key:"getBankList",value:function(){var e=this;this._http.getBankList().subscribe((function(r){console.log("bank list is"),console.log(r),e.bankList=r}))}},{key:"getStateList",value:function(){var e=this;this._http.getStateMaster().subscribe((function(r){console.log(r),e.stateList=r}))}},{key:"getDistrictByStateId",value:function(e){var r=this;this.stateName=e.target.options[e.target.selectedIndex].text,this._http.getDistrictByStateCode(e.target.value).subscribe((function(e){console.log(e),r.districtList=e}))}},{key:"getDistrictByStateIdOnLoad",value:function(e){var r=this;this._http.getDistrictByStateCode(e).subscribe((function(e){console.log(e),console.log("00000000000000000000000000000000000000"),r.districtList=e}))}},{key:"getBankName",value:function(e){this.bankName=e.target.options[e.target.selectedIndex].text}},{key:"getDistrictList",value:function(e){var r=this;this.districtName=e.target.options[e.target.selectedIndex].text,this._http.getDataofSubDistrict(e.target.value).subscribe((function(e){console.log(e),r.subDistrictList=e}))}},{key:"getTalukaList",value:function(e){this.subDistrictName=e.target.options[e.target.selectedIndex].text}},{key:"getBCRData",value:function(e){var r=this;this._http.getBCRData(e).subscribe((function(e){console.log(e),r.bcrData=e.data.bcrRa1Ra2IdFk,r.totalBCRData=e.data,r.totalR3R4Data=e.data,r.r3r4Data=e.data.bcrRa3Ra4IdFk,"OTHER"==e.data.bcrRa1Ra2IdFk.reason&&(r.showOth=!0),r.groupName=e.data.groupName,r.projectName=e.data.projectName,r.externalRemarkRA1RA2=e.data.ra1Ra2RemarkExt,r.externalRemarkRA3RA4=e.data.ra3Ra4RemarkExt;var a=e.data.bcrRa1Ra2IdFk.stateCode;r.getDistrictByStateIdOnLoad(a),r.formRa2DocUId=e.data.bcrRa1Ra2IdFk.bcrIdDocFk.formRa2DocUId,r.passBookDocUId=e.data.bcrRa1Ra2IdFk.bcrIdDocFk.passBookDocUId,Object.keys(r.totalBCRData.paymentDetailsFk).length>0&&r.getPaymentDetails(r.totalBCRData.paymentDetailsFk.transactionNo,0),console.log(r.formRa2DocUId),null!=e.data.bcrRa3Ra4IdFk?r.formRA3RA4=!0:r.formRA3RA4=!1,r.transferedAmountToWords=r.transFormAmtToWords(r.r3r4Data.transferedAmount),r.closingBalToWords=r.transFormAmtToWords(r.bcrData.closingBal)}))}},{key:"checkOth",value:function(e){"OTHER"==e.target.value?(this.showOth=!0,this.bcrRa1Ra2IdFk.controls.otherReason.setValidators(l.h.required)):(this.showOth=!1,this.bcrRa1Ra2IdFk.controls.otherReason.setValidators(l.h.nullValidator)),this.bcrRa1Ra2IdFk.controls.otherReason.updateValueAndValidity()}},{key:"clickToPrint",value:function(){console.log("printSection"),document.getElementsByTagName("title")[0].innerHTML=sessionStorage.getItem("projectName")+"_BCR_"+this._datePipe.transform(new Date,"dd-MM-yyyy"),setTimeout((function(){document.getElementsByTagName("title")[0].innerHTML="Gujarat Real Estate Regulatory Authority"}),1e3),window.print()}},{key:"transformAmount",value:function(e){return Number(e).toLocaleString("en-IN")}},{key:"transFormAmtToWords",value:function(e){return this.inrTransformPipe.transform(e)}},{key:"getReasonArray",value:function(){var e=this.bcrData.reason.split(",");e.includes("OTHER")&&(this.showOth=!0),this.bcrData.reason=this.reasonDropdownList.filter((function(r){return e.includes(r.reason_code)}))}}]),e}();P.ctorParameters=function(){return[{type:_},{type:R.a},{type:b.a},{type:l.b},{type:o.e},{type:d.e},{type:o.e},{type:h}]},P=t.b([Object(n.n)({selector:"app-bcr-view",template:t.c(a("69qj")).default,styles:[t.c(a("AZ0c")).default]})],P);var M=[{path:"approval-process",component:I,canActivate:[m.a],data:{role:["FIN"]}},{path:"bcr-controller",component:E,canActivate:[m.a],data:{role:["ACCOUNT_OFFICER"]}},{path:"r3-r4-submission",component:B,canActivate:[m.a],data:{role:["PROMOTER"]}},{path:"bcr-view",component:P,canActivate:[m.a]},{path:"bcr-request",component:v,canActivate:[m.a],data:{role:["PROMOTER"]}},{path:"bcr-payment",component:A,canActivate:[m.a],data:{role:["PROMOTER"]}},{path:"bcr-payment/bcr-payment-result",component:C,canActivate:[m.a],data:{role:["PROMOTER"]}}],U=function e(){_classCallCheck(this,e)};U=t.b([Object(n.J)({imports:[d.f.forChild(M)],exports:[d.f]})],U);var F=a("KAPe"),T=a("UPf0"),L=a("5c4+"),j=a("pZus"),q=a("itZz"),O=a("DbvJ"),V=a("kdZ/"),H=a("xkgV"),$=a("dTlI"),G=a("QJDa"),Y=a("5Hd9"),J=a("KD8B"),W=a("SBiz"),Q=a("/qIY"),z=a("UPO+");a.d(r,"BcrModule",(function(){return K}));var K=function e(){_classCallCheck(this,e)};K=t.b([Object(n.J)({declarations:[v,I,A,B,C,E,P,h],imports:[J.a,o.b,U,s.a,i.a,F.a,l.e,c.a,l.g,T.a,j.a,L.a,q.a,V.a,H.a,$.a,O.a,G.a,Y.a,W.a,Q.a,z.a.forRoot()],exports:[],providers:[o.e,h]})],K)},MliE:function(e,r,a){"use strict";a.r(r),r.default=""},TFx1:function(e,r,a){"use strict";a.r(r),r.default='<div class="{{allData.class}}">\r\n  {{allData.message}}\r\n</div>\r\n\r\n\r\n<div class="text-right" >\r\n  <a href="javascript:void(0)" class="btn btn-small btn-success mr-4" (click)="printNavigation()"><u>Print Application</u></a>\r\n  <a href="{{downloadReciept}}"  class="btn btn-small btn-success mr-4" download><u>Print Reciept</u></a>\r\n  </div>\r\n  '},YkSe:function(e,r,a){"use strict";a.r(r),r.default='<div id="labels" class="card shadow mt-4">\r\n  <div class="mt-3">\r\n    <div class="row mb-4">\r\n      <div class="col-md-12">\r\n        <div class="card ">\r\n          <div class="card-header d-flex justify-content-between align-items-center">\r\n            <h2><b>Pending on Me </b></h2>\r\n            <div class="tableTotalCount">Total Result - {{paginationCount}}/{{bcrArray?.length}}</div>\r\n            </div>\r\n          \x3c!-- <div class="card-header text-center"><b>Pending on Me </b></div> --\x3e\r\n          <div class="card-body card_body_fix_height">\r\n            <div class="table-responsive pb-2">\r\n        \r\n              <app-filter-table [filterTableData]="{\'tableJson\':tableJsonData}" (myEvent)="filterValue($event)"></app-filter-table>\r\n              <table class="table table-bordered text-center">\r\n                     \r\n    <thead>\r\n      <tr class="bg-light  text-size-small text-center">\r\n          <th>Sr.No.</th>\r\n          <th *ngFor="let th of tableHeader">{{th.label}} <div class="sortTable">\r\n            <a href="javascript:void(0)" [ngClass]="{\'active\':sortData.sortType==\'ASC\' && sortData.key==th.key}" (click)="tableSortFilter(\'ASC\', th.key, th.type,\'sort\')" class="upArrow"><i class="fas fa-arrow-up"></i></a>\r\n            <a href="javascript:void(0)" [ngClass]="{\'active\':sortData.sortType==\'DESC\' && sortData.key==th.key}" (click)="tableSortFilter(\'DESC\', th.key, th.type,\'sort\')" class="downArrow"><i class="fas fa-arrow-down"></i></a>\r\n          </div>\r\n        </th>\r\n        <th>Action</th>\r\n      </tr>\r\n  </thead>\r\n                \x3c!-- <thead>\r\n                  <tr class="bg-gray text-dark">\r\n                    <th>Sr No.</th>\r\n                    <th>BCR AckNo.</th>\r\n                    <th>Registration No.</th>\r\n                    <th>Request Type</th>\r\n                    \r\n                    <th>Project Name</th>\r\n                    <th>Promoter Name</th> \r\n                    <th>Email Id</th>\r\n                    <th>Submission Date</th> \r\n\r\n                  </tr>\r\n                </thead> --\x3e\r\n                <tbody *ngIf="bcrArray?.length > 0; else noRecordFoundCr">\r\n                  <tr *ngFor="let projectData of bcrArray| paginate: { id: \'foo1\', itemsPerPage: 10, currentPage: currentPageNo }; let i = index">\r\n                    <td class="tabel-text-right">{{((currentPageNo-1)*10)+(i+1) }} </td>\r\n\r\n\r\n                    <td>\r\n\r\n                      <u>\r\n                        <a *ngIf="projectData.type == \'RA1RA2\'" href="javascript:void(0);"\r\n                          (click)="getFullBCRData(projectData?.id,projectData?.projectId)" class="link-text">{{ projectData?.changeReqNum}}</a>\r\n\r\n                        <a *ngIf="projectData.type == \'RA3RA4\'" href="javascript:void(0);"\r\n                          (click)="getRA3RA4ListService(projectData?.id,projectData?.projectId)" class="link-text">{{ projectData?.changeReqNum}}</a>\r\n                      </u>\r\n\r\n\r\n                    </td>\r\n                    <td>\r\n                      <a href="javascript:void(0);" class="link-text" (click)="redirectTOProjectSubmission(projectData);">{{ projectData?.projectRegNo}}</a>\r\n                    </td>\r\n                    \r\n                    <td>{{ projectData?.type}}</td>\r\n                    \r\n                    <td>{{ projectData?.projectName }}</td>\r\n                    <td>{{ projectData?.promoterName }}</td>\r\n                    \x3c!-- <td>{{ projectData?.promoterMobileNo }}</td> --\x3e\r\n                    <td>{{ projectData?.promoteremailId }}</td>\r\n                    <td>{{ projectData?.paymentMode }}</td>\r\n                    \x3c!-- <td>{{ projectData?.qtrUpComingDate }}</td> --\x3e\r\n                    \x3c!-- <td>{{ projectData?.status}}</td> --\x3e\r\n                    <td>{{ projectData?.appSubmissionDate | date : \'dd-MM-yyyy h:mm:ss\' }}</td>\r\n                    <td><button value="" (click)="showLog(projectData?.id)" class="btn btn-primary">Activity Log</button></td>\r\n\r\n                  </tr>\r\n                </tbody>\r\n                <ng-template #noRecordFoundCr>\r\n                  <tbody>\r\n                    <tr>\r\n                      <td colspan="9">\r\n                        <span class="error">No record Found!</span>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </ng-template>\r\n\r\n              </table>\r\n              <div class="col-md-12 text-right" *ngIf="bcrArray?.length > 0">\r\n                <pagination-controls id="foo1" (pageChange)="getPageNo($event)"></pagination-controls>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<div class="modal show" id="myModal" *ngIf="refund_rec">\r\n  <div class="modal-dialog modal-lg">\r\n    <div class="modal-content">\r\n\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n        <h4 class="modal-title">Bank Change Request</h4>\r\n        <button type="button" class="close" (click)="popupClose()">&times;</button>\r\n      </div>\r\n\r\n\r\n      \x3c!-- Modal body --\x3e\r\n      <div class="modal-body">\r\n\r\n        <div class="row mt-4">\r\n          <div class="container-fluid">\r\n\r\n\r\n            <div class="row">\r\n              <div class="col-md-6 text-right">\r\n                BCR Ack No: <span class="badge badge-dark">{{ ra1ra2FullData?.changeReqNum }} </span>\r\n              </div>\r\n  \r\n              <div class="col-md-6 text-right">\r\n                <span class="badge badge-dark">{{ quarterDetailsSet }} </span>\r\n              </div>\r\n              </div>\r\n\r\n\r\n            <form [formGroup]="bcrForm" id="validateFoem">\r\n              <input type="hidden" class="form-control" formControlName="id" [(ngModel)]="bcrData.id">\r\n\r\n              <div class="card shadow mb-4">\r\n                <div class="alert alert-danger" *ngIf="errorMsg">\r\n                  <strong>Error!</strong> Something went wrong!!.\r\n                </div>\r\n                <div class="alert alert-success" *ngIf="successMsg">\r\n                  <strong>Success!</strong>Bank Change Request applied Successfully.\r\n                </div>\r\n\r\n                <div class="card-header"><b>Project Current Bank Details</b></div>\r\n                \x3c!-- .card-body-kys --\x3e\r\n                <div formGroupName="bcrRa1Ra2IdFk">\r\n                  <div class="card-body asd">\r\n                    <div class="row">\r\n                      <div class="col-md-12">\r\n                        <div class="row">\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">Bank Name</label>\r\n                            <input type="text" class="form-control" formControlName="oldBankName" disabled\r\n                              [(ngModel)]="bankDetail.bankName">\r\n                          </div>\r\n\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">Branch Name</label>\r\n                            <input type="text" class="form-control" formControlName="oldBranchName" disabled\r\n                              [(ngModel)]="bankDetail.branchName">\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">A/c Holder Name as per Bank Statement/ Passbook</label>\r\n                            <input type="text" class="form-control" formControlName="oldAccountantName" disabled\r\n                              [(ngModel)]="bankDetail.accountName">\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">Account Number</label>\r\n                            <input type="text" class="form-control" formControlName="oldAccountNo" disabled\r\n                              [(ngModel)]="bankDetail.accountNumber">\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">IFSC Code</label>\r\n                            <input type="text" class="form-control" formControlName="oldIfscCode" disabled\r\n                              [(ngModel)]="bankDetail.ifscCode">\r\n                          </div>\r\n\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">State/UT</label>\r\n                            <input type="text" class="form-control" formControlName="oldStateName" disabled\r\n                              [(ngModel)]="bankDetail.stateName">\r\n                          </div>\r\n\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">District</label>\r\n                            <input type="text" class="form-control" formControlName="oldDistrictName" disabled\r\n                              [(ngModel)]="bankDetail.districtName">\r\n                          </div>\r\n\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">Taluka</label>\r\n                            <input type="text" class="form-control" formControlName="oldTalukaName" disabled\r\n                              [(ngModel)]="bankDetail.talukaName">\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">Pincode</label>\r\n                            <input type="text" class="form-control" formControlName="oldPincode" disabled\r\n                              [(ngModel)]="bankDetail.pincode">\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class="card-header"><b>New Bank Account Details</b></div>\r\n                  <div class="card-body asd">\r\n                    <div class="row">\r\n                      <div class="col-md-12">\r\n\r\n                        <div class="row">\r\n\r\n\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label d-flex align-items-center">Expected name of Project RERA Bank Account as per RERA banking Directions</label>\r\n                            <input type="text" class="form-control mr-2" [value]=\'bcrData.groupName\' placeholder="Promoter Name" readonly> \r\n                            \r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                          \r\n                            <div class="d-flex justify-content-between reraAcTopSec"> <span class="acTitle">RERA A/C for </span> \r\n                              <span class="reraAcWidth"><input type="text" class="bcr-formControl pop-bcr-formControl ml-2" placeholder="Project Name" [value]=\'bcrData.projectName\' readonly></span></div>\r\n                          </div>\r\n\r\n\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">IFSC Code</label>\r\n                            <input type="text" class="form-control" disabled formControlName="ifscCode"\r\n                              [(ngModel)]="bcrData.ifscCode" oninput="this.value = this.value.toUpperCase()">\r\n                            <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                  aria-hidden="true"></i> Please enter IFSC Code</small></div>\r\n                          </div>\r\n\r\n                          <div class="form-group col-md-6">\r\n                            \x3c!-- <label class="control-label d-flex align-items-center">\r\n                              <input type="text" class="bcr-formControl mr-2" [value]=\'bcrData.groupName\' placeholder="Promoter Name" readonly>\r\n                              <div class="bcr-div-w">RERA A/C for</div><sup>*</sup><span class="tooltip-open" (click)="openToolTip($event, \'BCR_RA1RA2_1\')">?</span>\r\n                              <input type="text" class="bcr-formControl ml-2" placeholder="Project Name" [value]=\'bcrData.projectName\' readonly>\r\n                            </label> --\x3e\r\n\r\n                            <label class="control-label">Bank Name</label>\r\n                            \x3c!-- <select class="form-control" (change)="getBankName($event)" disabled\r\n                              formControlName="bankCode" [(ngModel)]="bcrData.bankCode">\r\n                              <option value="">--Select--</option>\r\n                              <option *ngFor="let b of bankList" [value]="b.bankCode"> {{b.bankName}} </option>\r\n                            </select>\r\n                            <input type="hidden" [(ngModel)]="bankName" formControlName="bankName"> --\x3e\r\n\r\n                            <input type="text" disabled class="form-control" [(ngModel)]="bcrData.bankName" formControlName="bankName">\r\n\r\n\r\n                            <div class="error-box"><small class="error">Please select Bank Name</small>\r\n                            </div>\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">Branch Name</label>\r\n                            <input type="text" class="form-control" disabled formControlName="branchName"\r\n                              [(ngModel)]="bcrData.branchName">\r\n                            <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                  aria-hidden="true"></i> Please enter Branch Name</small></div>\r\n                          </div>\r\n                          \x3c!-- (Suffix the term "RERA Account for GANESH ELITE Real Estate Project") --\x3e\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">A/c Holder Name as per Bank Statement/ Passbook</label>\r\n                            <input type="text" class="form-control" disabled formControlName="accountHolderName"\r\n                              [(ngModel)]="bcrData.accountHolderName">\r\n                            <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                  aria-hidden="true"></i> Please enter A/C Holder Name</small></div>\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">Type of Account</label>\r\n                            <select class="form-control" disabled formControlName="accountType"\r\n                              [(ngModel)]="bcrData.accountType" (change)="accountTypeChange($event)">\r\n                              <option value="">--Select--</option>\r\n                              <option value="CURRENT"> Current Account</option>\r\n                              <option value="SAVING"> Saving Account</option>\r\n                            </select>\r\n                            <div class="error-box"><small class="error">\r\n                                <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please select Type of\r\n                                Account</small></div>\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">New Account No.</label>\r\n                            <input type="number" class="form-control" disabled formControlName="accountNumber"\r\n                              [(ngModel)]="bcrData.accountNumber">\r\n                            <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                  aria-hidden="true"></i> Please enter New Account No</small></div>\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">State</label>\r\n                            <select class="form-control" (change)="getDistrictByStateId($event)" disabled\r\n                              formControlName="stateCode" [(ngModel)]="bcrData.stateCode">\r\n                              <option value="">--Select State--</option>\r\n                              <option *ngFor="let s of stateList" [value]="s.stateUtCode"> {{s.stateUtName}} </option>\r\n                            </select>\r\n                            <input type="hidden" [(ngModel)]="stateName" formControlName="stateName">\r\n                            <div class="error-box"><small class="error">Please select State</small>\r\n                            </div>\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">District</label>\r\n                            <select class="form-control" (change)="getDistrictList($event)" disabled\r\n                              formControlName="districtCode" [(ngModel)]="bcrData.districtCode">\r\n                              <option value="">--Select District--</option>\r\n                              <option *ngFor="let d of districtList" [(value)]="d.districtCode"> {{d.districtName}}\r\n                              </option>\r\n                            </select>\r\n                            <input type="hidden" class="form-control" [(ngModel)]="districtName"\r\n                              formControlName="districtName">\r\n                            <div class="error-box"><small class="error">Please select District</small></div>\r\n                          </div>\r\n\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">Taluka</label>\r\n                            <input type="text" class="form-control" disabled formControlName="subDistrictName"\r\n                              [(ngModel)]="bcrData.subDistrictName">\r\n                            \x3c!-- <select class="form-control" (change)="getTalukaList($event)" formControlName="subDistrictName"\r\n        [(ngModel)]="bcrData.subDistrictName">\r\n        <option value="">--Select--</option>\r\n        <option *ngFor="let d of subDistrictList" [(value)]="d.subDistrictName"> {{d.subDistrictName}} </option>\r\n      </select> --\x3e\r\n\r\n                            <div class="error-box"><small class="error">Please select Taluka</small></div>\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">Pincode</label>\r\n                            <input type="text" class="form-control" formControlName="pincode" disabled\r\n                              [(ngModel)]="bcrData.pincode">\r\n                            <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                  aria-hidden="true"></i> Please enter Pincode</small></div>\r\n                          </div>\r\n\r\n                          <div class="form-group col-md-6" *ngIf="totalBCRdata?.paymentMode==\'WithPayment\'">\r\n                            <label class="control-label">Closing Balance of Existing RERA A/C</label>\r\n                            <input type="text" class="form-control text-right" disabled formControlName="closingBal"\r\n                              [value]="transformAmount(bcrData.closingBal)">\r\n                            <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                  aria-hidden="true"></i> Please enter Closing Balance of Existing RERA A/C</small>\r\n                            </div>\r\n                          </div>\r\n                          <div class="form-group col-md-6" *ngIf="totalBCRdata?.paymentMode==\'WithPayment\'">\r\n                            <label class="control-label">Closing Balance Date</label>\r\n                            <input type="date" class="form-control" disabled [(ngModel)]="bcrData.closingBalanceDate"\r\n                              formControlName="closingBalanceDate" data-date-format="DD-MMMM-YYYY"\r\n                              max="{{maxDate | date:\'yyyy-MM-dd\'}}" min="{{date | date:\'yyyy-MM-dd\'}}">\r\n                            <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                  aria-hidden="true"></i> Please select Closing Balance Date</small></div>\r\n                          </div>\r\n\r\n                          <div formGroupName="bcrIdDocFk">\r\n                            <div class="form-group col-md-6">\r\n\r\n                              <input type="hidden" class="form-control" [(ngModel)]="formRa2DocUId"\r\n                                formControlName="formRa2DocUId">\r\n                              <label class="control-label">\r\n\r\n\r\n                                <ng-container *ngIf="totalBCRRA1RA2data?.paymentMode==\'WithoutPayment\'; else _withPaymode">\r\n                                  Certificate for bank detail change due to merger\r\n                                </ng-container>\r\n                                <ng-template #_withPaymode>\r\n                                  RA02 Certificate from Existing RERA Bank Account\r\n                                </ng-template>\r\n                                \r\n                                \x3c!-- RA02 Certificate from Existing RERA Bank Account --\x3e\r\n                              </label>\r\n                              <input type="hidden" [ngModel]="outputValue.formRa2DocId" formControlName="formRa2DocId">\r\n\r\n                              \x3c!-- <a href="{{fileDownlod}}{{formRa2DocUId}}" download class="btn btn-primary">Download</a> --\x3e\r\n\r\n\r\n                              <app-multi-file-view [Uid]="formRa2DocUId" ></app-multi-file-view>\r\n\r\n                              <div class="error-box"><small class="error">Please upload RA2 certificate</small></div>\r\n                            </div>\r\n                            <div class="form-group col-md-6">\r\n\r\n\r\n                              <input type="hidden" class="form-control" [(ngModel)]="passBookDocUId"\r\n                                formControlName="passBookDocUId">\r\n                              <label class="control-label"> New RERA Bank Account Statement or First Page of Passbook</label>\r\n                              <input type="hidden" [ngModel]="outputValue.passBookDocId"\r\n                                formControlName="passBookDocId">\r\n                              \x3c!-- <a href="{{fileDownlod}}{{passBookDocUId}}" download class="btn btn-primary">Download</a> --\x3e\r\n\r\n\r\n                              <app-multi-file-view [Uid]="passBookDocUId" ></app-multi-file-view>\r\n                            </div>\r\n                          </div>\r\n\r\n\r\n\r\n\r\n                          <div class="form-group col-md-12">\r\n                            <label class="control-label">Reason for Change</label>\r\n                            <select class="form-control" formControlName="reason" disabled [(ngModel)]="bcrData.reason"\r\n                              (click)="checkOth($event)">\r\n                              <option value="">--Reason for Change--</option>\r\n                              <option value="Reason-1"> Project Finance </option>\r\n                              <option value="Reason-2"> Error in providing Bank account at the time of project\r\n                                registration </option>\r\n                              <option value="Reason-3"> Better service </option>\r\n                              <option value="Reason-4"> Bank Merger </option>\r\n                              <option value="OTHER"> Other </option>\r\n                            </select>\r\n\r\n                            <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                  aria-hidden="true"></i> Please enter Reason for Change </small></div>\r\n                          </div>\r\n\r\n                          <div class="form-group col-md-6" *ngIf="showOth">\r\n                            <label class="control-label"> Reason for Change (Other)</label>\r\n\r\n                            <textarea class="form-control" formControlName="otherReason" disabled\r\n                              [(ngModel)]="bcrData.otherReason"></textarea>\r\n\r\n\r\n                            <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                  aria-hidden="true"></i> Please enter Reason for Change </small></div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class="bcrPaymentBox">\r\n                      <app-payment-view [paymentDataArray]="sendInBehaviou"></app-payment-view>\r\n                    </div>\r\n                  </div>\r\n                    \r\n                  </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n                  <div class="card-body asd bcrRemarkBox">\r\n                    <div class="col-md-12 mb-4" *ngIf="bcrData.formRA1RA2SubmittedRemarks">\r\n                      <label class="control-label font-weight-bold col-md-4"> Finance Remark</label>\r\n                      <div class="col-md-8">\r\n                        <textarea rows="2" cols="1" #treaso class="form-control resizableHeight" disabled\r\n                          formControlName="formRA1RA2SubmittedRemarks"\r\n                          [(ngModel)]="bcrData.formRA1RA2SubmittedRemarks"></textarea>\r\n                      </div>\r\n                    </div>\r\n\r\n\r\n                    <div class="col-md-12 mb-4" *ngIf="bcrData.remarkIntController">\r\n                      <label class="control-label font-weight-bold col-md-4">Account Officer Internal Remark</label>\r\n                      <div class="col-md-8">\r\n                        <textarea rows="2" cols="1" readonly class="form-control resizableHeight" formControlName="remarkIntController"\r\n                          [(ngModel)]="bcrData.remarkIntController"></textarea>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class="col-md-12 mb-4" *ngIf="bcrData.financControllerRemarks">\r\n                      <label class="control-label font-weight-bold col-md-4">Account Officer Remark</label>\r\n                      <div class="col-md-8">\r\n                        <textarea rows="2" cols="1" readonly class="form-control resizableHeight"\r\n                          formControlName="financControllerRemarks"\r\n                          [(ngModel)]="bcrData.financControllerRemarks"></textarea>\r\n                      </div>\r\n                    </div>\r\n\r\n\r\n\r\n\r\n                    <div class="col-md-12 mb-4" *ngIf="bcrData.remarkIntUser">\r\n                      <label class="control-label font-weight-bold col-md-4">Internal Remark</label>\r\n                      <div class="col-md-8">\r\n                        <textarea rows="2" cols="1" readonly class="form-control resizableHeight" formControlName="remarkIntUser"\r\n                          [(ngModel)]="bcrData.remarkIntUser"></textarea>\r\n                      </div>\r\n                    </div>\r\n\r\n\r\n\r\n                    <div class="col-md-12 mt-4 text-center">\r\n                      <div class="finance-cntrl-remark">\r\n                        <input type="radio" formControlName="checkUserAction" name="checkUserAction"\r\n                          [(ngModel)]="checkUserAction" value="Approve" (change)="actionOfRadio($event,1)">Approve\r\n\r\n                        &nbsp;<input type="radio" formControlName="checkUserAction" name="checkUserAction"\r\n                          [(ngModel)]="checkUserAction" value="Enquiry" (change)="actionOfRadio($event,1)">Raise Inquiry\r\n\r\n                        &nbsp;<input type="radio" formControlName="checkUserAction" name="checkUserAction"\r\n                          [(ngModel)]="checkUserAction" value="Reject" (change)="actionOfRadio($event,1)">Reject\r\n                      </div>\r\n                    </div>\r\n\r\n\r\n\r\n\r\n\r\n                    <div>\r\n                    <div class="slider_icon_wrapper slider_icon_1  enquiries-Sidebar"\r\n                      *ngIf="checkUserAction==\'Enquiry\'">\r\n                      <button type="button" class="btn btn-primary slider_icon"><i class="icon icon-help-circled-3"></i>\r\n                        Enquiries</button>\r\n                      <div class="overlay shadow overlay_position_1">\r\n\r\n                        <div class="col-md-12 mb-4">\r\n                          <div class="table-responsive">\r\n                            <table class="table table-bordered table-striped mb-2 mt-2">\r\n                              <thead>\r\n                                <tr class="bg-light">\r\n                                  <th>Raise Enquiry</th>\r\n                                  <th>Label</th>\r\n                                </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                                <tr *ngFor="let data of finUserRA1RA2Enq, let i = index">\r\n                                  <td class="bg-success"><input type="checkbox" [checked]="data.eNqFlage"\r\n                                      (click)="setInquiry($event, data, i,data?.enqId,\'ra1ra2\',data.description)"></td>\r\n                                  <td>{{data.description}}</td>\r\n                                </tr>\r\n                              </tbody>\r\n                            </table>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    \x3c!-- <app-profile-activity-log *ngIf="refund_rec" [rawData]="rawDataObject" (newEmit)=showDataReturn($event)></app-profile-activity-log> --\x3e\r\n                    </div>\r\n\r\n\r\n                    <div *ngIf="checkUserAction==\'Reject\' || checkUserAction==\'Approve\' || checkUserAction==\'Enquiry\'">\r\n\r\n                      <div class="col-md-12 mb-4">\r\n                        <label class="control-label font-weight-bold col-md-4">Internal Remark<sup>*</sup><span class="tooltip-open"\r\n                            (click)="openToolTip($event, \'BCR_CONTROLLER_2\')">?</span></label>\r\n                        <div class="col-md-8">\r\n                          <textarea rows="2" cols="1" [(ngModel)]="controllerform3InternalRemarks" #treason\r\n                            class="form-control resizableHeight" formControlName="controllerform3InternalRemarks"></textarea>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class="col-md-12 mb-4">\r\n                        <label class="control-label font-weight-bold col-md-4">External Remark<sup>*</sup><span\r\n                            class="tooltip-open" (click)="openToolTip($event, \'BCR_CONTROLLER_3\')">?</span></label>\r\n                        <div class="col-md-8">\r\n                          <textarea rows="2" cols="1" [(ngModel)]="controllerform3ExternalRemarks" #treason\r\n                            class="form-control resizableHeight externalRemarkHeight" formControlName="controllerform3ExternalRemarks"></textarea>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n\r\n                    <div class=" col-md-12 mt-4 text-center">\r\n                      <div class="finance-cntrl-remark">\r\n                        <button *ngIf="checkUserAction==\'Approve\'" class="btn btn-small btn-primary"\r\n                          data-dismiss="modal" [disabled]="this.bcrForm.invalid"\r\n                          (click)="accept(controllerform3InternalRemarks,controllerform3ExternalRemarks,1)"> Approve\r\n                        </button>\r\n\r\n                        <button *ngIf="checkUserAction==\'Enquiry\'" class="btn btn-small btn-primary"\r\n                          data-dismiss="modal" [disabled]="this.bcrForm.invalid"\r\n                          (click)="enquiry(controllerform3InternalRemarks,controllerform3ExternalRemarks,1)"> Raised enquiry\r\n                        </button>\r\n\r\n                        <button *ngIf="checkUserAction==\'Reject\'" class="btn btn-small btn-primary" data-dismiss="modal"\r\n                          [disabled]="this.bcrForm.invalid"\r\n                          (click)="reject(controllerform3InternalRemarks,controllerform3ExternalRemarks,1)">\r\n                          Reject</button>\r\n                          <button class="btn btn-small btn-primary" data-dismiss="modal" (click)="popupClose()">Close</button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  \x3c!-- /.card-body Documents --\x3e\r\n\r\n                </div>\r\n\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<div class="popup-overlay" *ngIf="refund_rec"></div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\x3c!-- <app-validation-message [message]="inputJson"></app-validation-message> --\x3e\r\n\r\n<div class="modal show" id="getR3R4Data" *ngIf="modalPopup">\r\n  <div class="modal-dialog modal-lg">\r\n    <div class="modal-content">\r\n\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n        <h4 class="modal-title">Bank Change Request R3R4</h4>\r\n        <button type="button" class="close" (click)="popupClose()">&times;</button>\r\n      </div>\r\n\r\n\r\n\r\n\r\n\r\n      \x3c!-- Modal body --\x3e\r\n      <div class="modal-body">\r\n\r\n        <div class="row mt-4">\r\n          <div class="container-fluid">\r\n\r\n            <div class="row">\r\n              <div class="col-md-6 text-right">\r\n                BCR Ack No: <span class="badge badge-dark">{{ totalBCRRA1RA2data?.changeReqNum }} </span>\r\n              </div>\r\n  \r\n              <div class="col-md-6 text-right">\r\n                <span class="badge badge-dark">{{ quarterDetailsSet }} </span>\r\n              </div>\r\n              </div>\r\n\r\n\r\n\r\n\r\n            <form [formGroup]="bcrRa1Ra2IdFk" id="validateFoem">\r\n\r\n              <div class="card shadow mb-4">\r\n                <div class="card-header"><b>Project Bank Details (RA1 & RA2)</b></div>\r\n                <div class="card-body asd">\r\n                  <div class="row">\r\n                    <div class="col-md-12">\r\n\r\n\r\n                      <div class="row">\r\n\r\n\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label d-flex align-items-center">Expected name of Project RERA Bank Account as per RERA banking Directions</label>\r\n                          <input type="text" class="form-control mr-2" [value]=\'bcrData.groupName\' placeholder="Promoter Name" readonly> \r\n                          \r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                      \r\n                          <div class="d-flex justify-content-between reraAcTopSec"> \r\n                            <span class="acTitle">RERA A/C for </span>\r\n                            <span class="reraAcWidth"> <input type="text" class="bcr-formControl pop-bcr-formControl ml-2" placeholder="Project Name" [value]=\'bcrData.projectName\' readonly></span></div>\r\n                        </div>\r\n\r\n\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">Bank Name</label>\r\n\r\n\r\n                          \x3c!-- <label class="control-label d-flex align-items-center">\r\n                            <input type="text" class="bcr-formControl mr-2" [value]=\'bcrData.groupName\' placeholder="Promoter Name" readonly>\r\n                            <div class="bcr-div-w">RERA A/C for</div><sup>*</sup><span class="tooltip-open" (click)="openToolTip($event, \'BCR_RA1RA2_1\')">?</span>\r\n                            <input type="text" class="bcr-formControl ml-2" placeholder="Project Name" [value]=\'bcrData.projectName\' readonly>\r\n                          </label> --\x3e\r\n\r\n\r\n\r\n                          \x3c!-- <select class="form-control" (change)="getBankName($event)" disabled\r\n                            formControlName="bankCode" [(ngModel)]="bcrData.bankCode">\r\n                            <option value="">--Select--</option>\r\n                            <option *ngFor="let b of bankList" [value]="b.bankCode"> {{b.bankName}} </option>\r\n                          </select>\r\n                          <input type="hidden" [(ngModel)]="bankName" formControlName="bankName"> --\x3e\r\n\r\n                          <input type="text" disabled class="form-control" [(ngModel)]="bcrData.bankName" formControlName="bankName">\r\n\r\n                          <div class="error-box"><small class="error">Please select Bank Name</small>\r\n                          </div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">Branch Name</label>\r\n                          <input type="text" class="form-control" disabled formControlName="branchName"\r\n                            [(ngModel)]="bcrData.branchName">\r\n                          <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                aria-hidden="true"></i> Please enter Branch Name</small></div>\r\n                        </div>\r\n                        \x3c!-- (Suffix the term "RERA Account for GANESH ELITE Real Estate Project") --\x3e\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">A/c Holder Name as per Bank Statement/ Passbook</label>\r\n                          <input type="text" class="form-control" disabled formControlName="accountHolderName"\r\n                            [(ngModel)]="bcrData.accountHolderName">\r\n                          <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                aria-hidden="true"></i> Please enter A/C Holder Name</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">Type of Account</label>\r\n                          <select class="form-control" disabled formControlName="accountType"\r\n                            [(ngModel)]="bcrData.accountType" (change)="accountTypeChange($event)">\r\n                            <option value="">--Select--</option>\r\n                            <option value="CURRENT"> Current Account</option>\r\n                            <option value="SAVING"> Saving Account</option>\r\n                          </select>\r\n                          <div class="error-box"><small class="error">\r\n                              <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please select Type of\r\n                              Account</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">New Account No.</label>\r\n                          <input type="number" class="form-control" disabled formControlName="accountNumber"\r\n                            [(ngModel)]="bcrData.accountNumber">\r\n                          <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                aria-hidden="true"></i> Please enter New Account no</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">IFSC Code</label>\r\n                          <input type="text" class="form-control" disabled formControlName="ifscCode"\r\n                            [(ngModel)]="bcrData.ifscCode" oninput="this.value = this.value.toUpperCase()">\r\n                          <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                aria-hidden="true"></i> Please enter IFSC Code</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">State</label>\r\n                          <select class="form-control" (change)="getDistrictByStateId($event)" disabled\r\n                            formControlName="stateCode" [(ngModel)]="bcrData.stateCode">\r\n                            <option value="">--Select State--</option>\r\n                            <option *ngFor="let s of stateList" [value]="s.stateUtCode"> {{s.stateUtName}} </option>\r\n                          </select>\r\n                          <input type="hidden" [(ngModel)]="stateName" formControlName="stateName">\r\n                          <div class="error-box"><small class="error">Please select State</small>\r\n                          </div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">District</label>\r\n                          <select class="form-control" (change)="getDistrictList($event)" disabled\r\n                            formControlName="districtCode" [(ngModel)]="bcrData.districtCode">\r\n                            <option value="">--Select District--</option>\r\n                            <option *ngFor="let d of districtList" [(value)]="d.districtCode"> {{d.districtName}}\r\n                            </option>\r\n                          </select>\r\n                          <input type="hidden" class="form-control" [(ngModel)]="districtName"\r\n                            formControlName="districtName">\r\n                          <div class="error-box"><small class="error">Please select District</small></div>\r\n                        </div>\r\n\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">Taluka</label>\r\n                          <input type="text" class="form-control" disabled formControlName="subDistrictName"\r\n                            [(ngModel)]="bcrData.subDistrictName">\r\n                          \x3c!-- <select class="form-control" (change)="getTalukaList($event)" formControlName="subDistrictName" disabled\r\n                [(ngModel)]="bcrData.subDistrictName">\r\n                <option value="">--Select--</option>\r\n                <option *ngFor="let d of subDistrictList" [(value)]="d.subDistrictName"> {{d.subDistrictName}} </option>\r\n              </select>\r\n         --\x3e\r\n                          <div class="error-box"><small class="error">Please select Taluka</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">Pincode</label>\r\n                          <input type="text" class="form-control" formControlName="pincode" disabled\r\n                            [(ngModel)]="bcrData.pincode">\r\n                          <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                aria-hidden="true"></i> Please enter Pincode</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">Closing Balance of Existing RERA A/C</label>\r\n                          <input type="text" class="form-control text-right" disabled formControlName="closingBal"\r\n                            [value]="transformAmount(bcrData.closingBal)">\r\n                          <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                aria-hidden="true"></i> Please enter Closing Balance of Existing RERA A/C</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">Closing Balance Date</label>\r\n                          <input type="date" class="form-control" disabled [(ngModel)]="bcrData.closingBalanceDate"\r\n                            formControlName="closingBalanceDate" data-date-format="DD-MMMM-YYYY"\r\n                            max="{{maxDate | date:\'yyyy-MM-dd\'}}" min="{{date | date:\'yyyy-MM-dd\'}}">\r\n                          <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                aria-hidden="true"></i> Please select Closing Balance Date</small></div>\r\n                        </div>\r\n                      </div>\r\n\r\n                        <div formGroupName="bcrIdDocFk">\r\n                        <div class="form-group col-md-6">\r\n                          <input type="hidden" class="form-control" [(ngModel)]="formRa2DocUId"\r\n                            formControlName="formRa2DocUId">\r\n                          <label class="control-label"> RA02 Certificate from Existing RERA Bank Account</label>\r\n                          <input type="hidden" [ngModel]="outputValue.formRa2DocId" formControlName="formRa2DocId">\r\n                          \x3c!-- <a href="{{fileDownlod}}{{formRa2DocUId}}" download class="btn btn-primary">Download</a> --\x3e\r\n                          <app-multi-file-view [Uid]="formRa2DocUId" ></app-multi-file-view>\r\n                        </div>\r\n\r\n                        <div class="form-group col-md-6">\r\n                          <input type="hidden" class="form-control" [(ngModel)]="passBookDocUId"\r\n                            formControlName="passBookDocUId">\r\n                          <label class="control-label"> New RERA Bank Account Statement or First Page of Passbook</label>\r\n                          <input type="hidden" [ngModel]="outputValue.passBookDocId" formControlName="passBookDocId">\r\n                          \x3c!-- <a href="{{fileDownlod}}{{passBookDocUId}}" download class="btn btn-primary">Download</a> --\x3e\r\n                          <app-multi-file-view [Uid]="passBookDocUId" ></app-multi-file-view>\r\n\r\n                        </div>\r\n                      </div>\r\n\r\n\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class="row">\r\n\r\n\r\n                    <div class="form-group col-md-12">\r\n                      <label class="control-label">Reason for Change</label>\r\n                      <select class="form-control" formControlName="reason" disabled [(ngModel)]="bcrData.reason"\r\n                        (click)="checkOth($event)">\r\n                        <option value="">--Reason for Change--</option>\r\n                        <option value="Reason-1"> Project Finance </option>\r\n                        <option value="Reason-2"> Error in providing Bank account at the time of project registration\r\n                        </option>\r\n                        <option value="Reason-3"> Better service </option>\r\n                        <option value="Reason-4"> Bank Merger </option>\r\n                        <option value="OTHER"> Other </option>\r\n                      </select>\r\n\r\n                      <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                            aria-hidden="true"></i> Please enter Reason for Change </small></div>\r\n                    </div>\r\n\r\n                    <div class="form-group col-md-6" *ngIf="showOth">\r\n                      <label class="control-label"> Reason for Change (Other)</label>\r\n                      <input type="text" class="form-control resizableHeight" formControlName="otherReason" disabled\r\n                        [(ngModel)]="bcrData.otherReason">\r\n                      <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                            aria-hidden="true"></i> Please enter Reason for Change </small></div>\r\n                    </div>\r\n\r\n                    <div class="form-group col-md-6 bcrRemarkBox" *ngIf="bcrData.formRA1RA2SubmittedRemarks">\r\n                      <label class="control-label"> Finance Remark RA1RA2</label>\r\n                      <textarea rows="2" cols="1" #treaso class="form-control resizableHeight" disabled\r\n                        formControlName="formRA1RA2SubmittedRemarks"\r\n                        [(ngModel)]="bcrData.formRA1RA2SubmittedRemarks"></textarea>\r\n                    </div>\r\n                    <div class="form-group col-md-6 bcrRemarkBox">\r\n                      <label class="control-label">Account Officer Remark RA1RA2</label>\r\n                      <textarea rows="2" cols="1" #treason class="form-control resizableHeight"\r\n                        formControlName="financControllerRemarks" disabled\r\n                        [(ngModel)]="totalBCRRA1RA2data.ra1Ra2EqrRemarkExt"></textarea>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div   class="bcrPaymentBox">\r\n                    <app-payment-view [paymentDataArray]="sendInBehaviou"></app-payment-view>\r\n                  </div>\r\n\r\n                </div>\r\n              </div>\r\n            </form>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            <form [formGroup]="r3r4Form" id="validateFoem">\r\n              <input type="hidden" class="form-control" formControlName="bcrRa3Ra4IdFk" [(ngModel)]="bcrData.id">\r\n\r\n              <div class="card shadow mb-4">\r\n                <div class="alert alert-danger" *ngIf="errorMsg">\r\n                  <strong>Error!</strong> Something went wrong!!.\r\n                </div>\r\n                <div class="alert alert-success" *ngIf="successMsg">\r\n                  <strong>Success!</strong>Bank Change Request applied Successfully.\r\n                </div>\r\n\r\n                \x3c!-- .card-body-kys --\x3e\r\n\r\n                <div class="card-header"><b>Project Bank Details (RA3 & RA4)</b></div>\r\n                <div class="card-body asd">\r\n\r\n                    <div class="col-md-12">\r\n                      <div class="row">\r\n                        <input type="hidden" class="form-control" formControlName="status" [(ngModel)]="status"\r\n                          value="{{status}}">\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">Transferred Amount as per RA3</label>\r\n                          <input type="text" class="form-control text-right" disabled formControlName="transferedAmount"\r\n                            [value]="transformAmount(r3r4Data.transferedAmount)">\r\n                          <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                aria-hidden="true"></i> Please enter closing balance of existing RERA A/C as per the bank statement uploaded</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">Date of Transferred Amount as per RA3</label>\r\n                          <input type="date" class="form-control" disabled [(ngModel)]="r3r4Data.transferedAmountDate"\r\n                            formControlName="transferedAmountDate" data-date-format="DD-MMMM-YYYY"\r\n                            max="{{maxDate | date:\'yyyy-MM-dd\'}}" min="{{date | date:\'yyyy-MM-dd\'}}">\r\n                          <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                aria-hidden="true"></i> Please select Closing Balance Date</small></div>\r\n                        </div>\r\n                        </div>\r\n                      <div class="row">\r\n                        <div formGroupName="bcrIdDocFk" class="pl-4">\r\n\r\n                            <div class="form-group col-md-6">\r\n                              <input type="hidden" class="form-control" [(ngModel)]="formRa3DocUId"\r\n                                formControlName="formRa3DocUId">\r\n                              <label class="control-label">RA3 (Only PDF)</label>\r\n                              <input type="hidden" [ngModel]="outputValue.formRa3DocId" formControlName="formRa3DocId">\r\n                              \x3c!-- <a href="{{fileDownlod}}{{formRa3DocUId}}" download class="btn btn-primary">Download</a> --\x3e\r\n                              <app-multi-file-view [Uid]="formRa3DocUId" ></app-multi-file-view>\r\n                              <div class="error-box"><small class="error">Please upload RA3 document</small></div>\r\n                            </div>\r\n\r\n                            <div class="form-group col-md-6">\r\n                              <input type="hidden" class="form-control" [(ngModel)]="formRa4DocUId"\r\n                                formControlName="formRa4DocUId">\r\n                              <label class="control-label">RA4 (Only PDF)</label>\r\n                              <input type="hidden" [ngModel]="outputValue.formRa4DocId" formControlName="formRa4DocId">\r\n                              \x3c!-- <a href="{{fileDownlod}}{{formRa4DocUId}}" download class="btn btn-primary">Download</a> --\x3e\r\n                              <app-multi-file-view [Uid]="formRa4DocUId" ></app-multi-file-view>\r\n                              <div class="error-box"><small class="error">Please upload RA4 document</small></div>\r\n                            </div>\r\n\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                </div>\r\n              </div>\r\n\r\n\r\n\r\n\r\n              <div class="card-body asd">\r\n                <div class="col-md-12 mb-4" *ngIf="r3r4Data.formRA3RA3SubmittedRemarks">\r\n                  <label class="control-label font-weight-bold col-md-4">Finance Remark</label>\r\n                  <div class="col-md-8">\r\n                    <textarea rows="2" cols="1" #treasop class="form-control"\r\n                      formControlName="formRA3RA3SubmittedRemarks" disabled\r\n                      [(ngModel)]="r3r4Data.formRA3RA3SubmittedRemarks"></textarea>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class="col-md-12 mb-4" *ngIf="r3r4Data.remarkIntUser">\r\n                  <label class="control-label font-weight-bold col-md-4">Finance Remark</label>\r\n                  <div class="col-md-8">\r\n                    <textarea rows="2" cols="1" class="form-control" disabled  [value]="r3r4Data.remarkIntUser"></textarea>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class="col-md-12 mb-4" *ngIf="r3r4Data.remarkIntController!=null">\r\n                  <label class="control-label font-weight-bold col-md-4">Account Officer Internal Remark</label>\r\n                  <div class="col-md-8">\r\n                    <textarea rows="2" cols="1" class="form-control" disabled [value]="r3r4Data.remarkIntController"></textarea>\r\n                  </div>\r\n                </div>\r\n\r\n\r\n                <div class="col-md-12 mb-4" *ngIf="r3r4Data.fControllerRemarks!=null">\r\n                  <label class="control-label font-weight-bold col-md-4">Account Officer Remark</label>\r\n                  <div class="col-md-8">\r\n                    <textarea rows="2" cols="1" #treasop class="form-control resizableHeight" formControlName="fControllerRemarks"\r\n                      disabled [(ngModel)]="r3r4Data.fControllerRemarks"></textarea>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class="col-md-12 mb-4" *ngIf="officerExtEnquiry">\r\n                  <label class="control-label font-weight-bold col-md-4">Account Officer External Remark</label>\r\n                  <div class="col-md-8">\r\n                    <textarea rows="2" cols="1" #treasop class="form-control resizableHeight" disabled [value]="officerExtEnquiry"></textarea>\r\n                  </div>\r\n                </div>\r\n\r\n\r\n                <div class="col-md-12 mb-4" *ngIf="totalBCRRA1RA2data.bcrRa3Ra4IdFk.remarkIntUser!=null">\r\n                  <label class="control-label font-weight-bold col-md-4">Finance Rejection Remark</label>\r\n                  <div class="col-md-8">\r\n                    <textarea rows="2" cols="1" class="form-control resizableHeight" disabled\r\n                      [value]="totalBCRRA1RA2data.bcrRa3Ra4IdFk.remarkIntUser"></textarea>\r\n                  </div>\r\n                </div>\r\n\r\n\r\n\r\n\r\n\r\n                <div class="col-md-12 mt-4 text-center">\r\n                  <div class="finance-cntrl-remark">\r\n                    <input type="radio" formControlName="checkUserAction" name="checkUserAction"\r\n                      [(ngModel)]="checkUserAction" value="Approve" (change)="actionOfRadio($event,2)">Approve\r\n\r\n                    &nbsp;<input type="radio" formControlName="checkUserAction" name="checkUserAction"\r\n                      [(ngModel)]="checkUserAction" value="Enquiry" (change)="actionOfRadio($event,2)">Raise Inquiry\r\n\r\n                      &nbsp;<input type="radio" formControlName="checkUserAction" name="checkUserAction"\r\n                      [(ngModel)]="checkUserAction" value="Reject" (change)="actionOfRadio($event,2)">Reject\r\n                  </div>\r\n                </div>\r\n\r\n              <div>\r\n                <div class="slider_icon_wrapper slider_icon_1  enquiries-Sidebar" *ngIf="checkUserAction==\'Enquiry\'">\r\n                  <button type="button" class="btn btn-primary slider_icon"><i class="icon icon-help-circled-3"></i>\r\n                    Enquiries</button>\r\n                  <div class="overlay shadow overlay_position_1">\r\n\r\n                    <div class="col-md-12 mb-4">\r\n                      <div class="table-responsive">\r\n                        <table class="table table-bordered table-striped mb-2 mt-2">\r\n                          <thead>\r\n                            <tr class="bg-light">\r\n                              <th>Raise Enquiry</th>\r\n                              <th>Label</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <tr *ngFor="let data of finUserRA3RA4Enq, let i = index">\r\n                              <td class="bg-success"><input type="checkbox" [checked]="data.eNqFlage"\r\n                                  (click)="setInquiry($event, data, i,data?.enqId,\'ra3ra4\',data.description)"></td>\r\n                              <td>{{data.description}}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                \x3c!-- <app-profile-activity-log *ngIf="modalPopup" [rawData]="rawDataObject" (newEmit)=showDataReturn($event)></app-profile-activity-log> --\x3e\r\n\r\n                </div>\r\n\r\n\r\n\r\n                <div *ngIf="checkUserAction==\'Reject\' || checkUserAction==\'Approve\' || checkUserAction==\'Enquiry\'">\r\n                  <div class="col-md-12 mb-4">\r\n                    <label class="control-label font-weight-bold col-md-4">Internal Remark<sup>*</sup><span class="tooltip-open"\r\n                        (click)="openToolTip($event, \'BCR_CONTROLLER_5\')">?</span></label>\r\n                    <div class="col-md-8">\r\n                      <textarea rows="2" cols="1" [(ngModel)]="controllerformRA3RA4InternalRemarks" #treasonp\r\n                        class="form-control resizableHeight" formControlName="controllerformRA3RA4InternalRemarks"></textarea>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class="col-md-12 mb-4">\r\n                    <label class="control-label font-weight-bold col-md-4">External Remark<sup>*</sup><span\r\n                        class="tooltip-open" (click)="openToolTip($event, \'BCR_CONTROLLER_6\')">?</span></label>\r\n                    <div class="col-md-8">\r\n                      <textarea rows="2" [(ngModel)]="controllerformRA3RA4ExternalRemarks" cols="1" #treasonp\r\n                        class="form-control resizableHeight externalRemarkHeight" formControlName="controllerformRA3RA4ExternalRemarks"></textarea>\r\n                    </div>\r\n                  </div>\r\n\r\n                </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n                <div class=" col-md-12 mt-4 text-center">\r\n                  <div class="finance-cntrl-remark">\r\n\r\n                    <button *ngIf="checkUserAction==\'Approve\'" class="btn btn-small btn-primary" data-dismiss="modal"\r\n                      [disabled]="this.r3r4Form.invalid"\r\n                      (click)="accept(controllerformRA3RA4InternalRemarks,controllerformRA3RA4ExternalRemarks,2)">\r\n                      Approve </button>\r\n\r\n                    <button *ngIf="checkUserAction==\'Enquiry\'" class="btn btn-small btn-primary" data-dismiss="modal"\r\n                      [disabled]="this.r3r4Form.invalid"\r\n                      (click)="enquiry(controllerformRA3RA4InternalRemarks,controllerformRA3RA4ExternalRemarks,2)">\r\n                      Raised enquiry </button>\r\n\r\n\r\n                    <button *ngIf="checkUserAction==\'Reject\'" class="btn btn-small btn-primary" data-dismiss="modal"\r\n                      [disabled]="this.r3r4Form.invalid"\r\n                      (click)="reject(controllerformRA3RA4InternalRemarks,controllerformRA3RA4ExternalRemarks,2)">\r\n                      Reject</button>\r\n                      <button class="btn btn-small btn-primary" data-dismiss="modal" (click)="popupClose()">Close</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="popup-overlay" *ngIf="modalPopup"></div>\r\n<app-tooltip [tooltipEvent]="tooltipJson"></app-tooltip>\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n\r\n\r\n\r\n\r\n\r\n<div class="popup-overlay" *ngIf="showLogPopUp"></div>\r\n<div class="modal show" *ngIf="showLogPopUp">\r\n  <div class="modal-dialog modal-xl">\r\n    <div class="modal-content">\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n        <h4 class="modal-title">Log</h4>\r\n        <button type="button" class="close" (click)="hideshowLogPopUpFunction()">&times;</button>\r\n      </div>\r\n      \x3c!-- Modal body --\x3e\r\n      <div class="modal-body">\r\n        <app-profile-activity-log [rawData]="rawDataObject" (newEmit)=showDataReturn($event)></app-profile-activity-log>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'},Yt8e:function(e,r,a){"use strict";a.r(r),r.default=""},ZsVs:function(e,r,a){"use strict";a.r(r),r.default="textarea {\n  resize: both !important;\n}"},goCB:function(e,r,a){"use strict";a.r(r),r.default='<div id="labels" class="card shadow mt-4">\r\n  <div>\r\n    <div class="row mb-4">\r\n      <div class="col-md-12">\r\n        <div>\r\n          \x3c!-- <div class="card-header text-center"><b>Pending on Me </b></div> --\x3e\r\n          \r\n          <div class="card-header d-flex justify-content-between align-items-center">\r\n            <h2><b>Pending on Me </b></h2>\r\n            <div class="tableTotalCount">Total Result - {{paginationCount}}/{{bcrArray?.length}}</div>\r\n            </div>\r\n          <div class="card-body card_body_fix_height">\r\n            <div class="table-responsive pb-2">\r\n              <app-filter-table [filterTableData]="{\'tableJson\':tableJsonData}" (myEvent)="filterValue($event)"></app-filter-table>\r\n              <table class="table table-bordered text-center">\r\n                       \r\n    <thead>\r\n      <tr class="bg-light  text-size-small text-center">\r\n          <th>Sr.No.</th>\r\n          <th *ngFor="let th of tableHeader">{{th.label}} <div class="sortTable">\r\n            <a href="javascript:void(0)" [ngClass]="{\'active\':sortData.sortType==\'ASC\' && sortData.key==th.key}" (click)="tableSortFilter(\'ASC\', th.key, th.type,\'sort\')" class="upArrow"><i class="fas fa-arrow-up"></i></a>\r\n            <a href="javascript:void(0)" [ngClass]="{\'active\':sortData.sortType==\'DESC\' && sortData.key==th.key}" (click)="tableSortFilter(\'DESC\', th.key, th.type,\'sort\')" class="downArrow"><i class="fas fa-arrow-down"></i></a>\r\n          </div>\r\n        </th>\r\n        <th>Action</th>\r\n      </tr>\r\n  </thead>\r\n                \x3c!-- <thead>\r\n                  <tr class="bg-gray text-dark">\r\n                    <th>Sr No.</th>\r\n                    <th>BCR AckNo.</th>\r\n                    <th>Registration No.</th>\r\n                    <th>Request Type</th>\r\n                    <th>Project Name</th>\r\n                    <th>Promoter Name</th> \r\n                    <th>Email Id</th>\r\n                    <th>Submission Date</th>\r\n \r\n\r\n                    \r\n                  </tr>\r\n                </thead> --\x3e\r\n                <tbody *ngIf="bcrArray?.length > 0; else no_financeResponse">\r\n                  <tr *ngFor="let projectData of bcrArray| paginate: { id: \'foo1\', itemsPerPage: 10, currentPage: currentPageNo }; let i = index">\r\n                    <td class="tabel-text-right">{{((currentPageNo-1)*10)+(i+1) }} </td>\r\n\r\n                    <td>\r\n                      <u>\r\n                        <a *ngIf="projectData.type == \'RA1RA2\'" href="javascript:void(0);" (click)="getFullBCRData(projectData?.id,projectData?.projectId)" class="link-text">{{ projectData?.changeReqNum}}</a>\r\n\r\n                        <a *ngIf="projectData.type == \'RA3RA4\'" href="javascript:void(0);" (click)="getRA3RA4ListService(projectData?.id,projectData?.projectId)" class="link-text">{{ projectData?.changeReqNum}}</a>\r\n                      </u>\r\n\r\n\r\n                    </td>\r\n                    <td>\r\n                      <a href="javascript:void(0);" class="link-text" (click)="redirectTOProjectSubmission(projectData);">{{ projectData?.projectRegNo}}</a>\r\n                    </td>\r\n                    <td>{{ projectData?.type}}</td>\r\n                    <td>{{ projectData?.projectName }}</td>\r\n                    <td>{{ projectData?.promoterName }}</td>\r\n                    <td>{{ projectData?.promoteremailId }}</td>\r\n                    <td>{{ projectData?.paymentMode }}</td>\r\n                    <td>{{ projectData?.appSubmissionDate | date : \'dd-MM-yyyy h:mm:ss\' }}</td>\r\n                    <td><button value="" (click)="showLog(projectData?.id)" class="btn btn-primary">Activity Log</button></td>\r\n                    \r\n\r\n\r\n                  </tr>\r\n\r\n                </tbody>\r\n\r\n                <ng-template #no_financeResponse>\r\n                  <tbody>\r\n                    <tr>\r\n                      <td class="text-center error" colspan="10">No record found!</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </ng-template>\r\n\r\n              </table>\r\n              <div class="col-md-12 text-right" *ngIf="bcrArray?.length > 0">\r\n                <pagination-controls id="foo1" (pageChange)="getPageNo($event)"></pagination-controls>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<div class="modal show" id="myModal" *ngIf="refund_rec">\r\n  <div class="modal-dialog modal-lg">\r\n    <div class="modal-content">\r\n\r\n\r\n      <div class="modal-header">\r\n        <h4 class="modal-title">Bank Change Request</h4>\r\n        <button type="button" class="close" (click)="popupClose()">&times;</button>\r\n      </div>\r\n\r\n\r\n\r\n\r\n      <div class="modal-body">\r\n\r\n        <div class="row mt-4">\r\n          <div class="container-fluid">\r\n\r\n            <div class="row">\r\n            <div class="col-md-6 text-right">\r\n              BCR Ack No: <span class="badge badge-dark">{{ totalBCRdata?.changeReqNum }} </span>\r\n            </div>\r\n\r\n            <div class="col-md-6 text-right">\r\n              <span class="badge badge-dark">{{ quarterDetailsSet }} </span>\r\n            </div>\r\n            </div>\r\n\r\n\r\n\r\n            <form [formGroup]="bcrForm" id="validateFoem">\r\n              <input type="hidden" class="form-control" formControlName="id" [(ngModel)]="bcrData.id">\r\n\r\n              <div class="card shadow mb-4">\r\n                <div class="alert alert-danger" *ngIf="errorMsg">\r\n                  <strong>Error!</strong> Something went wrong!!.\r\n                </div>\r\n                <div class="alert alert-success" *ngIf="successMsg">\r\n                  <strong>Success!</strong>Bank Change Request applied Successfully.\r\n                </div>\r\n\r\n                <div class="card-header"><b>Project Current Bank Details</b></div>\r\n\r\n                <div formGroupName="bcrRa1Ra2IdFk">\r\n                  <div class="card-body asd">\r\n                    <div class="row">\r\n                      <div class="col-md-12">\r\n                        <div class="row">\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">Bank Name</label>\r\n                            <input type="text" class="form-control" formControlName="oldBankName" disabled\r\n                              [(ngModel)]="bankDetail.bankName">\r\n                          </div>\r\n\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">Branch Name</label>\r\n                            <input type="text" class="form-control" formControlName="oldBranchName" disabled\r\n                              [(ngModel)]="bankDetail.branchName">\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">A/c Holder Name as per Bank Statement/ Passbook</label>\r\n                            <input type="text" class="form-control" formControlName="oldAccountantName" disabled\r\n                              [(ngModel)]="bankDetail.accountName">\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">Account Number</label>\r\n                            <input type="number" class="form-control" formControlName="oldAccountNo" disabled\r\n                              [(ngModel)]="bankDetail.accountNumber">\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">IFSC Code</label>\r\n                            <input type="text" class="form-control" formControlName="oldIfscCode" disabled\r\n                              [(ngModel)]="bankDetail.ifscCode">\r\n                          </div>\r\n\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">State/UT</label>\r\n                            <input type="text" class="form-control" formControlName="oldStateName" disabled\r\n                              [(ngModel)]="bankDetail.stateName">\r\n                          </div>\r\n\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">District</label>\r\n                            <input type="text" class="form-control" formControlName="oldDistrictName" disabled\r\n                              [(ngModel)]="bankDetail.districtName">\r\n                          </div>\r\n\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">Taluka</label>\r\n                            <input type="text" class="form-control" formControlName="oldTalukaName" disabled\r\n                              [(ngModel)]="bankDetail.talukaName">\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">Pincode</label>\r\n                            <input type="text" class="form-control" formControlName="oldPincode" disabled\r\n                              [(ngModel)]="bankDetail.pincode">\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class="card-header"><b>New Bank Account Details</b></div>\r\n                  <div class="card-body asd">\r\n                    <div class="row">\r\n                      <div class="col-md-12">\r\n\r\n\r\n                        <div class="row">\r\n\r\n\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label d-flex align-items-center">Expected name of Project RERA Bank Account as per RERA banking Directions</label>\r\n                            <input type="text" class="form-control mr-2" [value]=\'bcrData.groupName\' placeholder="Promoter Name" readonly> \r\n                          \r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <div class="d-flex \r\n                            justify-content-between reraAcTopSec"><span class="acTitle">RERA A/C for </span><span class="reraAcWidth"><input type="text" class="bcr-formControl pop-bcr-formControl ml-2" placeholder="Project Name" [value]=\'bcrData.projectName\' readonly></span></div>\r\n                          </div>\r\n\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">IFSC Code</label>\r\n                            <input type="text" class="form-control" disabled formControlName="ifscCode"\r\n                              [(ngModel)]="bcrData.ifscCode" oninput="this.value = this.value.toUpperCase()">\r\n                            <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                  aria-hidden="true"></i> Please enter IFSC Code</small></div>\r\n                          </div>\r\n\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label d-flex">\r\n                              \x3c!-- <input type="text" class="bcr-formControl mr-2" [value]=\'bcrData.groupName\' placeholder="Group Name" readonly>\r\n                              <div class="bcr-div-w">RERA A/C for</div><sup>*</sup><span class="tooltip-open" (click)="openToolTip($event, \'BCR_RA1RA2_1\')">?</span>\r\n                              <input type="text" class="bcr-formControl ml-2" placeholder="Project Name" [value]=\'bcrData.projectName\' readonly> --\x3e\r\n                              Bank Name\r\n                            </label>\r\n\r\n\r\n\r\n                            \x3c!-- <select class="form-control" (change)="getBankName($event)" disabled\r\n                              formControlName="bankCode" [(ngModel)]="bcrData.bankCode">\r\n                              <option value="">--Select--</option>\r\n                              <option *ngFor="let b of bankList" [value]="b.bankCode"> {{b.bankName}} </option>\r\n                            </select> --\x3e\r\n                            \x3c!-- <input type="hidden" [(ngModel)]="bankName" formControlName="bankName"> --\x3e\r\n\r\n                            <input type="text" disabled class="form-control" [(ngModel)]="bcrData.bankName" formControlName="bankName">\r\n\r\n\r\n                            <div class="error-box"><small class="error">Please select bank name</small>\r\n                            </div>\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">Branch Name</label>\r\n                            <input type="text" class="form-control" disabled formControlName="branchName"\r\n                              [(ngModel)]="bcrData.branchName">\r\n                            <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                  aria-hidden="true"></i> Please enter Branch Name</small></div>\r\n                          </div>\r\n\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">A/c Holder Name as per Bank Statement/ Passbook</label>\r\n                            <input type="text" class="form-control" disabled formControlName="accountHolderName"\r\n                              [(ngModel)]="bcrData.accountHolderName">\r\n                            <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                  aria-hidden="true"></i> Please enter A/C Holder Name</small></div>\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">Type of Account</label>\r\n                            <select class="form-control" disabled formControlName="accountType"\r\n                              [(ngModel)]="bcrData.accountType" (change)="accountTypeChange($event)">\r\n                              <option value="">--Select--</option>\r\n                              <option value="CURRENT"> Current Account</option>\r\n                              <option value="SAVING"> Saving Account</option>\r\n                            </select>\r\n                            <div class="error-box"><small class="error">\r\n                                <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please select Type of\r\n                                Account</small></div>\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">New Account No.</label>\r\n                            <input type="number" class="form-control" disabled formControlName="accountNumber"\r\n                              [(ngModel)]="bcrData.accountNumber">\r\n                            <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                  aria-hidden="true"></i> Please enter new Account No</small></div>\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">State</label>\r\n                            <select class="form-control" (change)="getDistrictByStateId($event)" disabled\r\n                              formControlName="stateCode" [(ngModel)]="bcrData.stateCode">\r\n                              <option value="">--Select State--</option>\r\n                              <option *ngFor="let s of stateList" [value]="s.stateUtCode"> {{s.stateUtName}} </option>\r\n                            </select>\r\n                            <input type="hidden" [(ngModel)]="stateName" formControlName="stateName">\r\n                            <div class="error-box"><small class="error">Please select State</small>\r\n                            </div>\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">District</label>\r\n                            <select class="form-control" (change)="getDistrictList($event)" disabled\r\n                              formControlName="districtCode" [(ngModel)]="bcrData.districtCode">\r\n                              <option value="">--Select District--</option>\r\n                              <option *ngFor="let d of districtList" [(value)]="d.districtCode"> {{d.districtName}}\r\n                              </option>\r\n                            </select>\r\n                            <input type="hidden" class="form-control" [(ngModel)]="districtName"\r\n                              formControlName="districtName">\r\n                            <div class="error-box"><small class="error">Please select District</small></div>\r\n                          </div>\r\n\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">Taluka</label>\r\n\r\n\r\n                            <input type="text" class="form-control" disabled formControlName="subDistrictName"\r\n                              [(ngModel)]="bcrData.subDistrictName">\r\n\r\n\r\n\r\n                            <div class="error-box"><small class="error">Please select Taluka</small></div>\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                            <label class="control-label">Pincode</label>\r\n                            <input type="text" class="form-control" formControlName="pincode" disabled\r\n                              [(ngModel)]="bcrData.pincode">\r\n                            <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                  aria-hidden="true"></i> Please enter Pincode</small></div>\r\n                          </div>\r\n\r\n                          <div class="form-group col-md-6" *ngIf="totalBCRdata?.paymentMode==\'WithPayment\'">\r\n                            <label class="control-label">Closing Balance of Existing RERA A/C</label>\r\n                            <input type="text" class="form-control text-right" disabled formControlName="closingBal"\r\n                              [value]="transformAmount(bcrData.closingBal)">\r\n                            <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                  aria-hidden="true"></i> Please enter closing balance of existing RERA A/C as per the bank statement uploaded</small>\r\n                            </div>\r\n                          </div>\r\n                          <div class="form-group col-md-6" *ngIf="totalBCRdata?.paymentMode==\'WithPayment\'">\r\n                            <label class="control-label">Closing Balance Date</label>\r\n                            <input type="text" class="form-control" disabled value="{{bcrData.closingBalanceDate | date:\'dd-MM-yyyy\'}}"\r\n                              formControlName="closingBalanceDate">\r\n                            <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                  aria-hidden="true"></i> Please select Closing Balance Date</small></div>\r\n                          </div>\r\n\r\n\r\n                          <div formGroupName="bcrIdDocFk">\r\n                          <div class="form-group col-md-6">\r\n                              <input type="hidden" class="form-control" [(ngModel)]="formRa2DocUId"\r\n                                formControlName="formRa2DocUId">\r\n                              <label class="control-label">\r\n                              \r\n                                <ng-container *ngIf="totalBCRdata?.paymentMode==\'WithoutPayment\'; else _withPaymode">\r\n                                  Certificate for bank detail change due to merger\r\n                                </ng-container>\r\n                                <ng-template #_withPaymode>\r\n                                  RA02 Certificate from Existing RERA Bank Account\r\n                                </ng-template>\r\n                                \r\n                                \r\n                              \r\n                              \r\n                              </label>\r\n                              <input type="hidden" [ngModel]="outputValue.formRa2DocId" formControlName="formRa2DocId">\r\n                              \x3c!-- <a href="{{fileDownlod}}{{formRa2DocUId}}" download class="btn btn-primary">Download</a> --\x3e\r\n                              <app-multi-file-view [Uid]="formRa2DocUId" ></app-multi-file-view>\r\n                          </div>\r\n                          <div class="form-group col-md-6">\r\n                              <input type="hidden" class="form-control" [(ngModel)]="passBookDocUId"\r\n                                formControlName="passBookDocUId">\r\n                              <label class="control-label"> New RERA Bank Account Statement or First Page of Passbook</label>\r\n                              <input type="hidden" [ngModel]="outputValue.passBookDocId"\r\n                                formControlName="passBookDocId">\r\n                              \x3c!-- <a href="{{fileDownlod}}{{passBookDocUId}}" download class="btn btn-primary">Download</a> --\x3e\r\n\r\n                              <app-multi-file-view [Uid]="passBookDocUId" ></app-multi-file-view>\r\n\r\n\r\n                            </div>\r\n                          </div>\r\n\r\n\r\n                          <div class="form-group col-md-12">\r\n                            <label class="control-label">Reason for Change</label>\r\n                            <select class="form-control" formControlName="reason" disabled [(ngModel)]="bcrData.reason"\r\n                              (click)="checkOth($event)">\r\n                              <option value="">--Reason for Change--</option>\r\n                              <option value="Reason-1"> Project Finance </option>\r\n                              <option value="Reason-2"> Error in providing Bank account at the time of project\r\n                                registration </option>\r\n                              <option value="Reason-3"> Better service </option>\r\n                              <option value="Reason-4"> Bank Merger </option>\r\n                              <option value="OTHER"> Other </option>\r\n                            </select>\r\n\r\n                            <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                  aria-hidden="true"></i> Please enter Reason for Change </small></div>\r\n                          </div>\r\n\r\n                          <div class="form-group col-md-6" *ngIf="showOth">\r\n                            <label class="control-label"> Reason for Change (Other)</label>\r\n\r\n                            <textarea class="form-control" formControlName="otherReason" disabled [(ngModel)]="bcrData.otherReason"></textarea>\r\n\r\n\r\n                            <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                  aria-hidden="true"></i> Please enter Reason for Change </small></div>\r\n                          </div>\r\n\r\n                          <div class="form-group col-md-6" *ngIf="bcrData.formRA1RA2SubmittedRemarks">\r\n                            <label class="control-label"> Finance Remark </label>\r\n                            <textarea class="form-control" disabled\r\n                              [value]="bcrData.formRA1RA2SubmittedRemarks"></textarea>\r\n                            \x3c!-- <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please enter reason</small></div> --\x3e\r\n                          </div>\r\n\r\n                          <div class="form-group col-md-6" *ngIf="bcrData.remarkIntController!=null">\r\n                            <label class="control-label"> Account Officer Internal Remark </label>\r\n                            <textarea class="form-control" disabled\r\n                              [value]="bcrData.remarkIntController"></textarea>\r\n                            \x3c!-- <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please enter reason</small></div> --\x3e\r\n                          </div>\r\n\r\n\r\n                          <div class="form-group col-md-6" *ngIf="totalBCRdata.ra1Ra2EqrRemarkExt!=null">\r\n                            <label class="control-label"> Account Officer Remark </label>\r\n                            <textarea class="form-control" disabled\r\n                              [value]="totalBCRdata.ra1Ra2EqrRemarkExt"></textarea>\r\n                            \x3c!-- <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please enter reason</small></div> --\x3e\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <app-payment-view [paymentDataArray]="sendInBehaviou"></app-payment-view>\r\n                    </div>\r\n                  </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n                  <div class="card-body asd">\r\n\r\n                    <div class="col-md-12 mt-4 mb-4 text-center">\r\n                      <input type="radio" formControlName="checkUserAction" name="checkUserAction"\r\n                        [(ngModel)]="checkUserAction" value="Approve"\r\n                        (change)="actionOfRadio($event,1)"><strong>Approve</strong>\r\n\r\n                      &nbsp;<input type="radio" formControlName="checkUserAction" name="checkUserAction"\r\n                        [(ngModel)]="checkUserAction" value="Enquiry"\r\n                        (change)="actionOfRadio($event,1)"><strong>Raise Inquiry</strong>\r\n\r\n                        &nbsp;<input type="radio" formControlName="checkUserAction" name="checkUserAction"\r\n                        [(ngModel)]="checkUserAction" value="Reject"\r\n                        (change)="actionOfRadio($event,1)"><strong>Reject</strong>\r\n                    </div>\r\n\r\n\r\n                    \x3c!-- <div class="col-md-12 mb-4" *ngIf="checkUserAction==\'Approve\' || checkUserAction==\'Enquiry\'">\r\n                      <label class="control-label font-weight-bold col-md-4">Remark<sup>*</sup><span class="tooltip-open" (click)="openToolTip($event, \'BCR_APPROVE_1\')">?</span></label>\r\n                      <div class="col-md-8">\r\n                        <textarea rows="2" cols="1" #treason [(ngModel)]="formRA1RA2SubmittedRemarks" class="form-control"\r\n                          formControlName="formRA1RA2SubmittedRemarks"></textarea>\r\n                      </div>\r\n                    </div> --\x3e\r\n\r\n\r\n                    <div class="slider_icon_wrapper slider_icon_1  enquiries-Sidebar"\r\n                      *ngIf="checkUserAction==\'Enquiry\'">\r\n                      <button type="button" class="btn btn-primary slider_icon"><i class="icon icon-help-circled-3"></i>\r\n                        Enquiries</button>\r\n                      <div class="overlay shadow overlay_position_1">\r\n\r\n                        <div class="col-md-12 mb-4">\r\n                          <div class="table-responsive">\r\n                            <table class="table table-bordered table-striped mb-2 mt-2">\r\n                              <thead>\r\n                                <tr class="bg-light">\r\n                                  <th>Raise Enquiry</th>\r\n                                  <th>Label</th>\r\n                                </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                                <tr *ngFor="let data of finUserRA1RA2Enq, let i = index">\r\n                                  <td class="bg-success"><input type="checkbox" [checked]="data.eNqFlage"\r\n                                      (click)="setInquiry($event, data, i,data?.enqId,1)"></td>\r\n                                  <td>{{data.description}}</td>\r\n                                </tr>\r\n                              </tbody>\r\n                            </table>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    \x3c!-- <app-profile-activity-log *ngIf="refund_rec" [rawData]="rawDataObject" (newEmit)=showDataReturn($event)></app-profile-activity-log> --\x3e\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    <div *ngIf="checkUserAction==\'Reject\' || checkUserAction==\'Approve\' || checkUserAction==\'Enquiry\'">\r\n                      <div class="col-md-12 mb-4">\r\n                        <label class="control-label font-weight-bold col-md-4">Internal Remark<sup>*</sup><span\r\n                            class="tooltip-open" (click)="openToolTip($event, \'BCR_APPROVE_2\')">?</span></label>\r\n                        <div class="col-md-8">\r\n                          <textarea [(ngModel)]="form1InternalRemarks" #treasonpInternal class="form-control resizableHeight"\r\n                            formControlName="form1InternalRemarks" placeholder="{{ checkUserAction }}"></textarea>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class="col-md-12 mb-4">\r\n                        <label class="control-label font-weight-bold col-md-4">External Remark<sup>*</sup><span\r\n                            class="tooltip-open" (click)="openToolTip($event, \'BCR_APPROVE_3\')">?</span></label>\r\n                        <div class="col-md-8">\r\n                          <textarea [(ngModel)]="form1ExternalRemarks" #treasonpExternal class="form-control resizableHeight externalRemarkHeight"\r\n                            formControlName="form1ExternalRemarks" placeholder="{{ checkUserAction }}"></textarea>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n\r\n                    <div class="col-md-12 mt-4 mb-4 text-center">\r\n                      <button *ngIf="checkUserAction==\'Approve\'" class="btn btn-small btn-primary" data-dismiss="modal" [disabled]="this.bcrForm.invalid" (click)="accept(form1InternalRemarks,form1ExternalRemarks,1)">\r\n                        Approve</button>\r\n\r\n                      <button *ngIf="checkUserAction==\'Enquiry\'" class="btn btn-small btn-primary" data-dismiss="modal" [disabled]="this.bcrForm.invalid"\r\n                        (click)="enquiry(form1InternalRemarks,form1ExternalRemarks,1)"> Raised enquiry</button>\r\n\r\n                      <button *ngIf="checkUserAction==\'Reject\'" class="btn btn-small btn-primary" data-dismiss="modal" [disabled]="this.bcrForm.invalid" (click)="reject(form1InternalRemarks,form1ExternalRemarks,1)">\r\n                        Reject</button>\r\n                        \r\n                        <button class="btn btn-small btn-primary" data-dismiss="modal" (click)="popupClose()">Close</button>\r\n                    </div>\r\n                  </div>\r\n\r\n\r\n\r\n                </div>\r\n\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<div class="popup-overlay" *ngIf="refund_rec"></div>\r\n\x3c!--\r\n  <app-validation-message [message]="inputJson"></app-validation-message> --\x3e\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<div class="modal show" id="getR3R4Data" *ngIf="modalPopup">\r\n  <div class="modal-dialog modal-lg">\r\n    <div class="modal-content">\r\n\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n        <h4 class="modal-title">Bank Change Request RA3RA4</h4>\r\n        <button type="button" class="close" (click)="popupClose()">&times;</button>\r\n      </div>\r\n\r\n\r\n\r\n\r\n      \x3c!-- Modal body --\x3e\r\n      <div class="modal-body">\r\n\r\n        <div class="row mt-4">\r\n\r\n          <div class="container-fluid">\r\n\r\n\r\n            <div class="row">\r\n              <div class="col-md-6 text-right">\r\n                BCR Ack No: <span class="badge badge-dark">{{ totalBCRdata?.changeReqNum }} </span>\r\n              </div>\r\n  \r\n              <div class="col-md-6 text-right">\r\n                <span class="badge badge-dark">{{ quarterDetailsSet }} </span>\r\n              </div>\r\n              </div>\r\n           \r\n\r\n\r\n            <form [formGroup]="bcrRa1Ra2IdFk" id="validateFoem">\r\n\r\n\r\n              <div class="card shadow mb-4">\r\n                <div class="card-header"><b>Project Bank Details (RA1 & RA2)</b></div>\r\n                <div class="card-body asd">\r\n                  <div class="row">\r\n                    <div class="col-md-12">\r\n\r\n\r\n\r\n                      <div class="row">\r\n\r\n\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label ">Expected name of Project RERA Bank Account as per RERA banking Directions</label>\r\n                          <input type="text" class="form-control mr-2" [value]=\'bcrData.groupName\' placeholder="Promoter Name" readonly> \r\n                          \r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                      \r\n                          <div class="d-flex justify-content-between reraAcTopSec"> \r\n                            <span class="acTitle">RERA A/C for </span><span class="reraAcWidth"><input type="text" class="bcr-formControl ml-2" placeholder="Project Name" [value]=\'bcrData.projectName\' readonly></span></div>\r\n                        </div>\r\n\r\n\r\n\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">Bank Name</label>\r\n\r\n\r\n                          \x3c!-- <label class="control-label d-flex align-items-center">\r\n                            <input type="text" class="bcr-formControl mr-2" [value]=\'bcrData.groupName\' placeholder="Promoter Name" readonly>\r\n                            <div class="bcr-div-w">RERA A/C for</div><sup>*</sup><span class="tooltip-open" (click)="openToolTip($event, \'BCR_RA1RA2_1\')">?</span>\r\n                            <input type="text" class="bcr-formControl ml-2" placeholder="Project Name" [value]=\'bcrData.projectName\' readonly>\r\n                          </label> --\x3e\r\n\r\n\r\n\r\n                          \x3c!-- <select class="form-control" (change)="getBankName($event)" disabled\r\n                            formControlName="bankCode" [(ngModel)]="bcrData.bankCode">\r\n                            <option value="">--Select--</option>\r\n                            <option *ngFor="let b of bankList" [value]="b.bankCode"> {{b.bankName}} </option>\r\n                          </select>\r\n                          <input type="hidden" [(ngModel)]="bankName" formControlName="bankName"> --\x3e\r\n                          <input type="text" disabled class="form-control" [(ngModel)]="bcrData.bankName" formControlName="bankName">\r\n                          <div class="error-box"><small class="error">Please select Bank Name</small>\r\n                          </div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">Branch Name</label>\r\n                          <input type="text" class="form-control" disabled formControlName="branchName"\r\n                            [(ngModel)]="bcrData.branchName">\r\n                          <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                aria-hidden="true"></i> Please enter Branch Name</small></div>\r\n                        </div>\r\n                        \x3c!-- (Suffix the term "RERA Account for GANESH ELITE Real Estate Project") --\x3e\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">A/c Holder Name as per Bank Statement/ Passbook</label>\r\n                          <input type="text" class="form-control" disabled formControlName="accountHolderName"\r\n                            [(ngModel)]="bcrData.accountHolderName">\r\n                          <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                aria-hidden="true"></i> Please enter A/C Holder Name</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">Type of Account</label>\r\n                          <select class="form-control" disabled formControlName="accountType"\r\n                            [(ngModel)]="bcrData.accountType" (change)="accountTypeChange($event)">\r\n                            <option value="">--Select--</option>\r\n                            <option value="CURRENT"> Current Account</option>\r\n                            <option value="SAVING"> Saving Account</option>\r\n                          </select>\r\n                          <div class="error-box"><small class="error">\r\n                              <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please select Type of\r\n                              Account</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">New Account No.</label>\r\n                          <input type="number" class="form-control" disabled formControlName="accountNumber"\r\n                            [(ngModel)]="bcrData.accountNumber">\r\n                          <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                aria-hidden="true"></i> Please enter new Account No</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">IFSC Code</label>\r\n                          <input type="text" class="form-control" disabled formControlName="ifscCode"\r\n                            [(ngModel)]="bcrData.ifscCode" oninput="this.value = this.value.toUpperCase()">\r\n                          <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                aria-hidden="true"></i> Please enter IFSC Code</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">State</label>\r\n                          <select class="form-control" (change)="getDistrictByStateId($event)" disabled\r\n                            formControlName="stateCode" [(ngModel)]="bcrData.stateCode">\r\n                            <option value="">--Select State--</option>\r\n                            <option *ngFor="let s of stateList" [value]="s.stateUtCode"> {{s.stateUtName}} </option>\r\n                          </select>\r\n                          <input type="hidden" [(ngModel)]="stateName" formControlName="stateName">\r\n                          <div class="error-box"><small class="error">Please select State</small>\r\n                          </div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">District</label>\r\n                          <select class="form-control" (change)="getDistrictList($event)" disabled\r\n                            formControlName="districtCode" [(ngModel)]="bcrData.districtCode">\r\n                            <option value="">--Select District--</option>\r\n                            <option *ngFor="let d of districtList" [(value)]="d.districtCode"> {{d.districtName}}\r\n                            </option>\r\n                          </select>\r\n                          <input type="hidden" class="form-control" [(ngModel)]="districtName"\r\n                            formControlName="districtName">\r\n                          <div class="error-box"><small class="error">Please select District</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">Taluka</label>\r\n                          <input type="text" class="form-control" disabled formControlName="subDistrictName"\r\n                            [(ngModel)]="bcrData.subDistrictName">\r\n                          \x3c!-- <select class="form-control" (change)="getTalukaList($event)" formControlName="subDistrictName" disabled\r\n                [(ngModel)]="bcrData.subDistrictName">\r\n                <option value="">--Select--</option>\r\n                <option *ngFor="let d of subDistrictList" [(value)]="d.subDistrictName"> {{d.subDistrictName}} </option>\r\n              </select> --\x3e\r\n\r\n                          <div class="error-box"><small class="error">Please select Taluka</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">Pincode</label>\r\n                          <input type="text" class="form-control" formControlName="pincode" disabled\r\n                            [(ngModel)]="bcrData.pincode">\r\n                          <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                aria-hidden="true"></i> Please enter Pincode</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">Closing Balance of Existing RERA A/C</label>\r\n                          <input type="text" class="form-control text-right" disabled formControlName="closingBal"\r\n                            [value]="transformAmount(bcrData.closingBal)">\r\n                          <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                aria-hidden="true"></i> Please enter closing balance of existing RERA A/C as per the bank statement uploaded</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">Closing Balance of Existing RERA A/C Date</label>\r\n                          <input type="date" class="form-control" disabled [(ngModel)]="bcrData.closingBalanceDate"\r\n                            formControlName="closingBalanceDate" data-date-format="DD-MMMM-YYYY"\r\n                            max="{{maxDate | date:\'yyyy-MM-dd\'}}" min="{{date | date:\'yyyy-MM-dd\'}}">\r\n                          <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                aria-hidden="true"></i> Please select Closing Balance of Existing RERA A/C Date</small>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div formGroupName="bcrIdDocFk">\r\n                      <div class="form-group col-md-6">\r\n\r\n                          <input type="hidden" class="form-control" [(ngModel)]="formRa2DocUId"\r\n                            formControlName="formRa2DocUId">\r\n                          <label class="control-label"> RA02 Certificate from Existing RERA Bank Account</label>\r\n                          <input type="hidden" [ngModel]="outputValue.formRa2DocId" formControlName="formRa2DocId">\r\n                          \x3c!-- <a href="{{fileDownlod}}{{formRa2DocUId}}" download class="btn btn-primary">Download</a> --\x3e\r\n\r\n                          <app-multi-file-view [Uid]="formRa2DocUId" ></app-multi-file-view>\r\n\r\n                      </div>\r\n                      <div class="form-group col-md-6">\r\n\r\n\r\n                          <input type="hidden" class="form-control" [(ngModel)]="passBookDocUId"\r\n                            formControlName="passBookDocUId">\r\n                          <label class="control-label"> New RERA Bank Account Statement or First Page of Passbook</label>\r\n                          <input type="hidden" [ngModel]="outputValue.passBookDocId" formControlName="passBookDocId">\r\n                          \x3c!-- <a href="{{fileDownlod}}{{passBookDocUId}}" download class="btn btn-primary">Download</a> --\x3e\r\n                          <app-multi-file-view [Uid]="passBookDocUId" ></app-multi-file-view>\r\n\r\n                        </div>\r\n                      </div>\r\n\r\n\r\n                    </div>\r\n                  </div>\r\n                  <div class="row">\r\n                    \x3c!-- <div class="form-group col-md-6">\r\n                    <label class="control-label"> Reason for Change </label>\r\n                    <textarea class="form-control" formControlName="reason" disabled\r\n                      [(ngModel)]="bcrData.reason"></textarea>\r\n                  </div> --\x3e\r\n\r\n\r\n\r\n                    <div class="form-group col-md-12">\r\n                      <label class="control-label">Reason for Change</label>\r\n                      <select class="form-control" formControlName="reason" disabled [(ngModel)]="bcrData.reason"\r\n                        (click)="checkOth($event)">\r\n                        <option value="">--Reason for Change--</option>\r\n                        <option value="Reason-1"> Project Finance </option>\r\n                        <option value="Reason-2"> Error in providing Bank account at the time of project registration\r\n                        </option>\r\n                        <option value="Reason-3"> Better service </option>\r\n                        <option value="Reason-4"> Bank Merger </option>\r\n                        <option value="OTHER"> Other </option>\r\n                      </select>\r\n\r\n                      <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                            aria-hidden="true"></i> Please enter Reason for Change </small></div>\r\n                    </div>\r\n\r\n                    <div class="form-group col-md-6" *ngIf="showOth">\r\n                      <label class="control-label"> Reason for Change (Other)</label>\r\n\r\n                        <textarea class="form-control" formControlName="otherReason" disabled\r\n                        [(ngModel)]="bcrData.otherReason"></textarea>\r\n\r\n\r\n                      <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                            aria-hidden="true"></i> Please enter Reason for Change </small></div>\r\n                    </div>\r\n\r\n                    \x3c!-- <div class="form-group col-md-6" *ngIf="bcrData.formRA1RA2SubmittedRemarks">\r\n                      <label class="control-label"> Finance Remark </label>\r\n                      <textarea class="form-control" disabled [value]="bcrData.formRA1RA2SubmittedRemarks"></textarea>\r\n                    </div> --\x3e\r\n\r\n\r\n                    <div class="form-group col-md-6" *ngIf="totalBCRdata.ra1Ra2EqrRemarkExt!=null">\r\n                      <label class="control-label"> Account Officer Remark </label>\r\n                      <textarea class="form-control resizableHeight" disabled [value]="totalBCRdata.ra1Ra2EqrRemarkExt"></textarea>\r\n                    </div>\r\n                  </div>\r\n                  <div class="row">\r\n                    <app-payment-view [paymentDataArray]="sendInBehaviou"></app-payment-view>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n\r\n\r\n\r\n\r\n            </form>\r\n            <form [formGroup]="r3r4Form" id="validateFoem">\r\n              <input type="hidden" class="form-control" formControlName="bcrRa3Ra4IdFk" [(ngModel)]="bcrData.id">\r\n\r\n              <div class="card shadow mb-4">\r\n                <div class="alert alert-danger" *ngIf="errorMsg">\r\n                  <strong>Error!</strong> Something went wrong!!.\r\n                </div>\r\n                <div class="alert alert-success" *ngIf="successMsg">\r\n                  <strong>Success!</strong>Bank Change Request applied Successfully.\r\n                </div>\r\n\r\n                \x3c!-- .card-body-kys --\x3e\r\n\r\n                <div class="card-header"><b>Project Bank Details (RA3 & RA4)</b></div>\r\n                <div class="card-body asd">\r\n                  <div class="row">\r\n                    <div class="col-md-12">\r\n                      <div class="row">\r\n                        <input type="hidden" class="form-control" formControlName="status" [(ngModel)]="status"\r\n                          value="{{status}}">\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">Transferred Amount as per RA3</label>\r\n                          <input type="text" class="form-control text-right" disabled formControlName="transferedAmount"\r\n                            [value]="transformAmount(r3r4Data.transferedAmount)">\r\n                          <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                aria-hidden="true"></i> Please enter closing balance of existing RERA A/C as per the bank statement uploaded</small></div>\r\n                        </div>\r\n                        <div class="form-group col-md-6">\r\n                          <label class="control-label">Date of Transferred Amount as per RA3</label>\r\n                          <input type="date" class="form-control" disabled [(ngModel)]="r3r4Data.transferedAmountDate"\r\n                            formControlName="transferedAmountDate" data-date-format="DD-MMMM-YYYY"\r\n                            max="{{maxDate | date:\'yyyy-MM-dd\'}}" min="{{date | date:\'yyyy-MM-dd\'}}">\r\n                          <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                                aria-hidden="true"></i> Please select Closing Balance Date</small></div>\r\n                        </div>\r\n                        </div>\r\n\r\n\r\n\r\n\r\n                        <div formGroupName="bcrIdDocFk">\r\n                          <div class="row">\r\n                            <div class="form-group col-md-6">\r\n                              <input type="hidden" class="form-control" [(ngModel)]="formRa3DocUId"\r\n                                formControlName="formRa3DocUId">\r\n                              <label class="control-label">RA3 (Only PDF)</label>\r\n                              <input type="hidden" [ngModel]="outputValue.formRa3DocId" formControlName="formRa3DocId">\r\n                              \x3c!-- <a href="{{fileDownlod}}{{formRa3DocUId}}" download class="btn btn-primary">Download</a> --\x3e\r\n                              <app-multi-file-view [Uid]="formRa3DocUId" ></app-multi-file-view>\r\n                            </div>\r\n\r\n                            <div class="form-group col-md-6">\r\n                              <input type="hidden" class="form-control" [(ngModel)]="formRa4DocUId"\r\n                                formControlName="formRa4DocUId">\r\n                              <label class="control-label">RA4 (Only PDF)</label>\r\n                              <input type="hidden" [ngModel]="outputValue.formRa4DocId" formControlName="formRa4DocId">\r\n                              \x3c!-- <a href="{{fileDownlod}}{{formRa4DocUId}}" download class="btn btn-primary">Download</a> --\x3e\r\n                              <app-multi-file-view [Uid]="formRa4DocUId" ></app-multi-file-view>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                      <div class="row" *ngIf="totalBCRdata.bcrRa3Ra4IdFk!=null">\r\n                        <div class="form-group col-md-6" *ngIf="totalBCRdata.bcrRa3Ra4IdFk.formRA3RA3SubmittedRemarks!=null">\r\n                          <label class="control-label">Finance Remark</label>\r\n                          <textarea rows="2" cols="1" class="form-control resizableHeight" disabled\r\n                            [value]="totalBCRdata.bcrRa3Ra4IdFk.formRA3RA3SubmittedRemarks"></textarea>\r\n                        </div>\r\n\r\n\r\n                        <div class="form-group col-md-6" *ngIf="totalBCRdata.bcrRa3Ra4IdFk.remarkIntController!=null">\r\n                          <label class="control-label"> Account Officer Internal Remark </label>\r\n                          <textarea class="form-control resizableHeight" disabled [value]="totalBCRdata.bcrRa3Ra4IdFk.remarkIntController"></textarea>\r\n                        </div>\r\n                      </div>\r\n                      <div class="row">\r\n                        <div class="form-group col-md-6" *ngIf="totalBCRdata.ra3Ra4EqrRemarkExt!=null">\r\n                          <label class="control-label"> Account Officer Remark </label>\r\n                          <textarea class="form-control resizableHeight" disabled [value]="totalBCRdata.ra3Ra4EqrRemarkExt"></textarea>\r\n                        </div>\r\n                      </div>\r\n\r\n                  </div>\r\n\r\n\r\n\r\n\r\n\r\n                </div>\r\n\r\n\r\n                <div class="card-body asd">\r\n\r\n                  <div class="col-md-12 mt-4 text-center">\r\n                    <input type="radio" formControlName="checkUserAction" name="checkUserAction"\r\n                      [(ngModel)]="checkUserAction" value="Approve" (change)="actionOfRadio($event,2)">Approve\r\n\r\n                    &nbsp;<input type="radio" formControlName="checkUserAction" name="checkUserAction"\r\n                      [(ngModel)]="checkUserAction" value="Enquiry" (change)="actionOfRadio($event,2)">Raise Inquiry\r\n\r\n                    &nbsp;<input type="radio" formControlName="checkUserAction" name="checkUserAction"\r\n                      [(ngModel)]="checkUserAction" value="Reject" (change)="actionOfRadio($event,2)">Reject\r\n                  </div>\r\n\r\n\r\n                  <div>\r\n                  <div class="slider_icon_wrapper slider_icon_1  enquiries-Sidebar" *ngIf="checkUserAction==\'Enquiry\'">\r\n                    <button type="button" class="btn btn-primary slider_icon"><i class="icon icon-help-circled-3"></i>\r\n                      Enquiries</button>\r\n                    <div class="overlay shadow overlay_position_1">\r\n\r\n                      <div class="col-md-12 mb-4">\r\n                        <div class="table-responsive">\r\n                          <table class="table table-bordered table-striped mb-2 mt-2">\r\n                            <thead>\r\n                              <tr class="bg-light">\r\n                                <th>Raise Enquiry</th>\r\n                                <th>Label</th>\r\n                              </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                              <tr *ngFor="let data of finUserRA3RA4Enq, let i = index">\r\n                                <td class="bg-success"><input type="checkbox" [checked]="data.eNqFlage"\r\n                                    (click)="setInquiry($event, data, i,data?.enqId,2)"></td>\r\n                                <td>{{data.description}}</td>\r\n                              </tr>\r\n                            </tbody>\r\n                          </table>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  \x3c!-- <app-profile-activity-log *ngIf="modalPopup" [rawData]="rawDataObject" (newEmit)=showDataReturn($event)></app-profile-activity-log> --\x3e\r\n\r\n                  </div>\r\n\r\n\r\n                  \x3c!-- <div class="col-md-12 mb-4" *ngIf="checkUserAction==\'Approve\' || checkUserAction==\'Enquiry\'">\r\n                    <label class="control-label font-weight-bold col-md-4">Remark<sup>*</sup><span class="tooltip-open" (click)="openToolTip($event, \'BCR_APPROVE_4\')">?</span></label>\r\n                    <div class="col-md-8">\r\n                      <textarea rows="2" cols="1" placeholder="Remark" #treasonp class="form-control" [(ngModel)]="formRA3RA3SubmittedRemarks" formControlName="formRA3RA3SubmittedRemarks"></textarea>\r\n                    </div>\r\n                  </div> --\x3e\r\n\r\n                  <div *ngIf="checkUserAction==\'Reject\' || checkUserAction==\'Approve\' || checkUserAction==\'Enquiry\'">\r\n\r\n                    <div class="col-md-12 mb-4">\r\n                      <label class="control-label font-weight-bold col-md-4">Internal Remark<sup>*</sup><span\r\n                          class="tooltip-open" (click)="openToolTip($event, \'BCR_APPROVE_5\')">?</span></label>\r\n                      <div class="col-md-8">\r\n                        <textarea rows="2" [(ngModel)]="form3InternalRemarks" cols="1" #treasonpInternal class="form-control resizableHeight" formControlName="form3InternalRemarks"></textarea>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class="col-md-12 mb-4">\r\n                      <label class="control-label font-weight-bold col-md-4">External Remark<sup>*</sup><span\r\n                          class="tooltip-open" (click)="openToolTip($event, \'BCR_APPROVE_6\')">?</span></label>\r\n                      <div class="col-md-8">\r\n                        <textarea rows="2" cols="1" #treasonpExternal\r\n                          class="form-control resizableHeight externalRemarkHeight" [(ngModel)]="form3ExternalRemarks" placeholder="{{ checkUserAction }}" formControlName="form3ExternalRemarks"></textarea>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n\r\n\r\n                  <div class=" col-md-12 mt-4 text-center">\r\n\r\n                    <button *ngIf="checkUserAction==\'Approve\'" class="btn btn-small btn-primary" data-dismiss="modal"\r\n                      [disabled]=\'this.r3r4Form.invalid\' (click)="accept (form3InternalRemarks,form3ExternalRemarks,2)">\r\n                      Approve </button>\r\n\r\n                    <button *ngIf="checkUserAction==\'Enquiry\'" class="btn btn-small btn-primary" data-dismiss="modal"\r\n                      [disabled]="this.r3r4Form.invalid" (click)="enquiry(form3InternalRemarks,form3ExternalRemarks,2)">\r\n                      Raised enquiry </button>\r\n\r\n                    <button *ngIf="checkUserAction==\'Reject\'" class="btn btn-small btn-primary" data-dismiss="modal"\r\n                      [disabled]="this.r3r4Form.invalid" (click)="reject(form3InternalRemarks,form3ExternalRemarks,2)">\r\n                      Reject </button>\r\n                      <button class="btn btn-small btn-primary" data-dismiss="modal" (click)="popupClose()">Close</button>\r\n\r\n                  </div>\r\n                </div>\r\n                </div>\r\n\r\n\r\n                \x3c!-- /.card-body Documents --\x3e\r\n\r\n\r\n\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="popup-overlay" *ngIf="modalPopup"></div>\r\n<app-tooltip [tooltipEvent]="tooltipJson"></app-tooltip>\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n\r\n\r\n<div class="popup-overlay" *ngIf="showLogPopUp"></div>\r\n<div class="modal show" *ngIf="showLogPopUp">\r\n  <div class="modal-dialog modal-xl">\r\n    <div class="modal-content">\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n        <h4 class="modal-title">Log</h4>\r\n        <button type="button" class="close" (click)="hideshowLogPopUpFunction()">&times;</button>\r\n      </div>\r\n      \x3c!-- Modal body --\x3e\r\n      <div class="modal-body">\r\n        <app-profile-activity-log [rawData]="rawDataObject" (newEmit)=showDataReturn($event)></app-profile-activity-log>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'},"us+6":function(e,r,a){"use strict";a.r(r),r.default="textarea {\n  resize: both !important;\n}"},"w/Wv":function(e,r,a){"use strict";a.r(r),r.default='<div class="row mt-4">\r\n  <div class="container-fluid">\r\n    <form [formGroup]="bcrForm" id="validateFoem" class="headerBg">\r\n\r\n\r\n      <input type="hidden" formControlName="status" *ngIf="enquiryStatus!=\'BCR_ENQUIRY\'" [(ngModel)]="formValueData">\r\n      <input type="hidden" formControlName="status" *ngIf="enquiryStatus==\'BCR_ENQUIRY\'" [(ngModel)]="formValueData">\r\n\r\n\r\n      <input type="hidden" class="form-control" formControlName="paymentMode" [(ngModel)]="paymentMode">\r\n      <input type="hidden" class="form-control" formControlName="id" [(ngModel)]="bcrDataMain.id">\r\n      <input type="hidden" class="form-control" formControlName="projectId" [(ngModel)]="bankACChange.projectId">\r\n\r\n      <input type="hidden" class="form-control" formControlName="projectName" [(ngModel)]="bankACChange.projectName">\r\n      <input type="hidden" class="bcr-formControl ml-2" formControlName="groupName" [(ngModel)]="groupName">\r\n\r\n      <input type="hidden" class="form-control" formControlName="promoterId" [(ngModel)]="bankACChange.promoterId">\r\n      <input type="hidden" class="form-control" formControlName="promoterMobileNo" [(ngModel)]="bankACChange.promoterMobileNo">\r\n      <input type="hidden" class="form-control" formControlName="promoterName" [(ngModel)]="bankACChange.promoterName">\r\n      <input type="hidden" class="form-control" formControlName="promoterType" [(ngModel)]="bankACChange.promoterType">\r\n      <input type="hidden" class="form-control" formControlName="projectRegNo" [(ngModel)]="bankACChange.projectRegNo">\r\n      <input type="hidden" class="form-control" formControlName="promoteremailId"\r\n        [(ngModel)]="bankACChange.promoteremailId">\r\n\r\n\r\n\r\n        <input type="hidden" class="form-control" formControlName="changeReqNum"\r\n        [(ngModel)]="totalBCRData.changeReqNum">\r\n\r\n      <input type="hidden" formControlName="ra1Ra2RemarkExt" [(ngModel)]="totalBCRData.ra1Ra2RemarkExt">\r\n      <input type="hidden" formControlName="ra3Ra4RemarkExt" [(ngModel)]="totalBCRData.ra3Ra4RemarkExt">\r\n      <input type="hidden" formControlName="ra1Ra2EqrRemarkExt" [(ngModel)]="totalBCRData.ra1Ra2EqrRemarkExt">\r\n      <input type="hidden" formControlName="ra3Ra4EqrRemarkExt" [(ngModel)]="totalBCRData.ra3Ra4EqrRemarkExt">\r\n\r\n\r\n\r\n\r\n\r\n\r\n      <div class="card shadow mb-4">\r\n        \x3c!-- <div class="alert alert-danger" *ngIf="errorMsg">\r\n          <strong>Error!</strong> Something went wrong!!.\r\n        </div>\r\n        <div class="alert alert-success" *ngIf="successMsg">\r\n          <strong>Success!</strong>Bank Change Request applied Successfully.\r\n        </div> --\x3e\r\n\r\n        <div class="card-header"><b>Project Current Bank Details</b></div>\r\n        \x3c!-- .card-body-kys --\x3e\r\n        <div formGroupName="bcrRa1Ra2IdFk">\r\n          <div class="card-body asd">\r\n            <div class="row">\r\n              <div class="col-md-12">\r\n                <div class="row">\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">Bank Name</label>\r\n                    <input type="text" class="form-control" formControlName="oldBankName" disabled\r\n                      [(ngModel)]="bankDetail.bankName">\r\n                  </div>\r\n\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">Branch Name</label>\r\n                    <input type="text" class="form-control" formControlName="oldBranchName" disabled\r\n                      [(ngModel)]="bankDetail.branchName">\r\n                  </div>\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">A/c Holder Name as per Bank Statement/ Passbook</label>\r\n                    <input type="text" class="form-control" formControlName="oldAccountantName" disabled\r\n                      [(ngModel)]="bankDetail.accountName">\r\n                  </div>\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">Account Number</label>\r\n                    <input type="text" class="form-control" formControlName="oldAccountNo" disabled\r\n                      [(ngModel)]="bankDetail.accountNumber">\r\n                  </div>\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">IFSC Code</label>\r\n                    <input type="text" class="form-control" formControlName="oldIfscCode" disabled\r\n                      [(ngModel)]="bankDetail.ifscCode">\r\n                  </div>\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">State/UT</label>\r\n                    <input type="text" class="form-control" formControlName="oldStateName" disabled\r\n                      [(ngModel)]="bankDetail.stateName">\r\n                  </div>\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">District</label>\r\n                    <input type="text" class="form-control" formControlName="oldDistrictName" disabled\r\n                      [(ngModel)]="bankDetail.districtName">\r\n                  </div>\r\n\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">Taluka</label>\r\n                    <input type="text" class="form-control" formControlName="oldTalukaName" disabled\r\n                      [(ngModel)]="bankDetail.talukaName">\r\n                  </div>\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">Pincode</label>\r\n                    <input type="text" class="form-control" formControlName="oldPincode" disabled\r\n                      [(ngModel)]="bankDetail.pincode">\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n          <div class="card-header"><b>Project Bank Details (RA1 & RA2)</b></div>\r\n          <div class="card-body asd">\r\n            <div class="row">\r\n              <div class="col-md-12">\r\n\r\n\r\n                <div class="row">\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label d-flex">Expected name of Project RERA Bank Account as per RERA banking Directions</label>\r\n                      <input type="text" readonly class="form-control mr-2" formControlName="groupName" placeholder="Promoter Name" [(ngModel)]="groupName"> \r\n                    \r\n                  </div>\r\n                  <div class="form-group col-md-6">\r\n        \r\n                      <div class="d-flex justify-content-between reraAcTopSec"> <span class="acTitle">RERA A/C for </span>\r\n                        <span class="reraAcWidth"> <input type="text" readonly class="bcr-formControl ml-2" formControlName="projectName" placeholder="Project Name" [(ngModel)]="bankACChange.projectName"></span></div>\r\n                  </div>\r\n\r\n\r\n\r\n                    \x3c!-- <label class="control-label d-flex align-items-center">\r\n                      <input type="text" class="bcr-formControl mr-2" formControlName="groupName"\r\n                        placeholder="Promoter Name" [(ngModel)]="groupName">\r\n                      <div class="bcr-div-w">RERA A/C for</div><sup>*</sup><span class="tooltip-open"\r\n                        (click)="openToolTip($event, \'BCR_RA1RA2_1\')">?</span>\r\n                      <input type="text" class="bcr-formControl ml-2" formControlName="projectName"\r\n                        placeholder="Project Name" [(ngModel)]="bankACChange.projectName">\r\n                    </label> --\x3e\r\n\r\n\r\n\r\n                    <div class="form-group col-md-6">\r\n                      <label class="control-label">IFSC Code<sup>*</sup><span class="tooltip-open" (click)="openToolTip($event, \'BCR_RA1RA2_7\')">?</span></label>\r\n                      <input type="text" class="form-control" formControlName="ifscCode" [(ngModel)]="bcrData.ifscCode" oninput="this.value = this.value.toUpperCase()"\r\n                        onKeyPress="if(this.value.length==11) return false;" (focusout)="onBlurOfIFSCcode()">\r\n                      <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                            aria-hidden="true"></i> Please enter IFSC Code</small></div>\r\n                    </div>\r\n                \r\n                <div class="form-group col-md-6">\r\n                  <input type="hidden" formControlName="id" [(ngModel)]="bcrData.id">\r\n                <label class="control-label">Bank Name<sup>*</sup></label>\r\n\r\n\r\n                <input type="text" class="form-control" placeholder="BankName" [(ngModel)]="bcrData.bankName"\r\n                formControlName="bankName" [readonly]="isReadonlyAllowed">\r\n                <input type="hidden" formControlName="bankCode" [(ngModel)]="bcrData.bankCode">\r\n                <div class="error-box"><small class="error">Please select bank name</small>\r\n                </div>\r\n\r\n                \x3c!-- <select class="form-control" (change)="getBankName($event)" formControlName="bankCode"\r\n                  [(ngModel)]="bcrData.bankCode">\r\n                  <option value="">--Select--</option>\r\n                  <option *ngFor="let b of bankList" [value]="b.bankCode"> {{b.bankName}} </option>\r\n                </select>\r\n                <input type="hidden" placeholder="BankName" [(ngModel)]="bcrData.bankName"\r\n                  formControlName="bankName"> --\x3e\r\n\r\n                \x3c!-- <div class="error-box"><small class="error">Please select bank name</small>\r\n                </div> --\x3e\r\n              </div>\r\n\r\n\r\n\r\n\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">Branch Name<sup>*</sup><span class="tooltip-open"\r\n                        (click)="openToolTip($event, \'BCR_RA1RA2_2\')">?</span></label>\r\n                    <input type="text" class="form-control" formControlName="branchName"\r\n                      [(ngModel)]="bcrData.branchName" [readonly]="isReadonlyAllowed">\r\n                    <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                          aria-hidden="true"></i> Please enter Branch Name</small></div>\r\n                  </div>\r\n                  \x3c!-- (Suffix the term "RERA Account for GANESH ELITE Real Estate Project") --\x3e\r\n\r\n                 </div>\r\n                <div class="row">\r\n\r\n\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">A/c Holder Name as per Bank Statement/ Passbook<sup>*</sup><span class="tooltip-open"\r\n                        (click)="openToolTip($event, \'BCR_RA1RA2_3\')">?</span></label>\r\n                    <input type="text" class="form-control" formControlName="accountHolderName"\r\n                      [(ngModel)]="bcrData.accountHolderName">\r\n\r\n                    <div class="error-box">\r\n                      <small class="error"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please enter\r\n                        A/C Holder Name as per Bank Statement/ Passbook <br /></small></div>\r\n\r\n                    <div class="alert-danger text-left mt-3">\r\n                      It should be as per <u><a href="/resources/staticpage/RERA_Banking_Direction.pdf" target="_blank">RERA Banking Directions</a></u> & <u><a href="/resources/staticpage/RERA_BCR_SOP.pdf" target="_blank">SOP\'s</a></u>\r\n                    </div>\r\n\r\n                  </div>\r\n\r\n\r\n\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">Type of Account<sup>*</sup><span class="tooltip-open"\r\n                        (click)="openToolTip($event, \'BCR_RA1RA2_4\')">?</span></label>\r\n                    <select class="form-control" formControlName="accountType" [(ngModel)]="bcrData.accountType"\r\n                      (change)="accountTypeChange($event)">\r\n                      <option value="">--Select--</option>\r\n                      <option value="CURRENT"> Current Account</option>\r\n                      <option value="SAVING"> Saving Account</option>\r\n                    </select>\r\n                    <div class="error-box"><small class="error">\r\n                        <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please select Type of\r\n                        Account</small></div>\r\n                  </div>\r\n\r\n\r\n\r\n                </div>\r\n\r\n                <div class="row">\r\n\r\n\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">New Account No.<sup>*</sup><span class="tooltip-open"\r\n                        (click)="openToolTip($event, \'BCR_RA1RA2_5\')">?</span></label>\r\n                    <input type="text" #currentAcpRE class="form-control"\r\n                      onKeyPress="if(this.value.length > 18) return false;"\r\n                      (keyup)="matchAccountNumber(currentAcpRE.value,bcrData.reaccountNumber)"\r\n                      (focusout)="matchAccountNumber(currentAcpRE.value,bcrData.reaccountNumber)"\r\n                      formControlName="accountNumber" [(ngModel)]="bcrData.accountNumber">\r\n\r\n                    <div class="error-box">\r\n                      <small class="error">\r\n                        <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\r\n                        Please enter New Account No\r\n                      </small>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">Confirm New Account No. <sup>*</sup><span class="tooltip-open"\r\n                        (click)="openToolTip($event, \'BCR_RA1RA2_6\')">?</span></label>\r\n                    <input type="text" #currentAc class="form-control" [(ngModel)]="bcrData.reaccountNumber"\r\n                      onKeyPress="if(this.value.length > 18) return false;"\r\n                      (keyup)="matchAccountNumber(currentAc.value,bcrData.accountNumber)"\r\n                      (focusout)="matchAccountNumber(currentAc.value,bcrData.accountNumber)"\r\n                      formControlName="reaccountNumber">\r\n\r\n                    <div class="errorMsg" *ngIf="invalidAccount">\r\n                      The account number does not match.\r\n                    </div>\r\n                  </div>\r\n\r\n                </div>\r\n\r\n                <div class="row">\r\n\r\n                  <div class="form-group col-md-6">\r\n\r\n                    <label class="control-label">Pincode<sup>*</sup><span class="tooltip-open"\r\n                        (click)="openToolTip($event, \'BCR_RA1RA2_11\')">?</span></label>\r\n                    <input type="number" #pcodeval (blur)="projDtlPin(pcodeval.value, \'bcrPin\')"\r\n                      onKeyPress="if(this.value.length==6) return false;" class="form-control" formControlName="pincode" [(ngModel)]="bcrData.pincode">\r\n\r\n                    <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                          aria-hidden="true"></i> Please enter Pincode</small></div>\r\n                  </div>\r\n\r\n\r\n\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">State<sup>*</sup><span class="tooltip-open"\r\n                        (click)="openToolTip($event, \'BCR_RA1RA2_8\')">?</span></label>\r\n                    <select class="form-control" #state\r\n                      (change)="getDistrictByStateId($event,pcodeval.value,state.value)" formControlName="stateCode"\r\n                      [(ngModel)]="bcrData.stateCode">\r\n                      <option value="">--Select State--</option>\r\n                      <option *ngFor="let s of stateList" [value]="s.stateUtCode"> {{s.stateUtName}} </option>\r\n                    </select>\r\n                    <input type="hidden" placeholder="stateName" [(ngModel)]="bcrData.stateName"\r\n                      formControlName="stateName">\r\n                    <div class="error-box"><small class="error">Please select State</small>\r\n                    </div>\r\n                  </div>\r\n\r\n                </div>\r\n\r\n                <div class="row">\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">District<sup>*</sup><span class="tooltip-open"\r\n                        (click)="openToolTip($event, \'BCR_RA1RA2_9\')">?</span></label>\r\n                    <select class="form-control" (change)="getDistrictList($event)" formControlName="districtCode"\r\n                      [(ngModel)]="bcrData.districtCode">\r\n                      <option value="">--Select District--</option>\r\n                      <option *ngFor="let d of districtList" [value]="d.districtCode"> {{d.districtName}} </option>\r\n                    </select>\r\n                    <input type="hidden" placeholder="dist name" class="form-control" [(ngModel)]="bcrData.districtName"\r\n                      formControlName="districtName">\r\n                    <div class="error-box"><small class="error">Please select District</small></div>\r\n                  </div>\r\n\r\n\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">Taluka<sup>*</sup><span class="tooltip-open"\r\n                        (click)="openToolTip($event, \'BCR_RA1RA2_10\')">?</span></label>\r\n\r\n\r\n\r\n                    <select class="form-control" formControlName="subDistrictName"\r\n                      [(ngModel)]="bcrData.subDistrictName">\r\n\r\n\r\n                      <option value="">--Select Taluka--</option>\r\n                      <option *ngFor="let d of subDistrictList" [value]="d.subDistrictName"> {{d.subDistrictName}}\r\n                      </option>\r\n\r\n                    </select>\r\n\r\n                    <div class="error-box"><small class="error">Please select Taluka</small></div>\r\n                  </div>\r\n\r\n                </div>\r\n\r\n                <div class="row">\r\n\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">Closing Balance of Existing RERA A/C<sup>*</sup><span\r\n                        class="tooltip-open" (click)="openToolTip($event, \'BCR_RA1RA2_12\')">?</span></label>\r\n\r\n                    <input type="text" class="form-control" formControlName="closingBal"\r\n                      [(ngModel)]="bcrData.closingBal" onKeyPress="if(this.value.length==18) return false;">\r\n                    <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please enter closing balance of existing RERA Bank A/c as per RA-2 Certificate (in Rupees ignoring paisa)</small></div>\r\n                  \x3c!-- <span *ngIf="closingBalToWords">{{closingBalToWords}}</span> --\x3e\r\n                  </div>\r\n\r\n\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">Closing Balance of Existing RERA A/C Date<sup>*</sup><span\r\n                        class="tooltip-open" (click)="openToolTip($event, \'BCR_RA1RA2_13\')">?</span></label>\r\n                        \x3c!-- max="{{maxDate | date:\'yyyy-MM-dd\'}}" --\x3e\r\n                    <input type="date" class="form-control" [(ngModel)]="bcrData.closingBalanceDate"\r\n                      formControlName="closingBalanceDate" data-date-format="DD-MMMM-YYYY" max="{{date | date:\'yyyy-MM-dd\'}}" (change)="onChangeClosingDate()">\r\n                    <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                          aria-hidden="true"></i> Please select Closing Balance of Existing RERA A/C Date</small></div>\r\n                  </div>\r\n\r\n                </div>\r\n\r\n                <div class="row">\r\n\r\n\r\n                  <div class="form-group col-md-6">\r\n                    <div formGroupName="bcrIdDocFk">\r\n                      <input disabled  type="hidden" formControlName="id" [(ngModel)]="bcrData.id">\r\n\r\n\r\n                      <input disabled  type="hidden" class="form-control" [(ngModel)]="formRa2DocUId"\r\n                        formControlName="formRa2DocUId">\r\n                      <label class="control-label"> RA02 Certificate from Existing RERA Bank Account<sup>*</sup><span class="tooltip-open"\r\n                          (click)="openToolTip($event, \'BCR_RA1RA2_14\')">?</span></label>\r\n                      <input disabled  type="hidden" [ngModel]="outputValue.formRa2DocId" formControlName="formRa2DocId">\r\n                      <app-file-upload *ngIf=\'closeIcon\' (myEvent)="setValue($event)"\r\n                        [parm]="{fileId:\'formRa2DocId\',docId:docId1,close:true,show:false,fileType:[\'pdf\']}">\r\n                      </app-file-upload>\r\n                      <app-multi-file-view *ngIf=\'!closeIcon\' [Uid]="formRa2DocUId" ></app-multi-file-view>\r\n                      <div class="error-box"><small class="error">Please upload RA2 certificate</small></div>\r\n\r\n                      <input disabled  type="hidden" class="form-control" [(ngModel)]="passBookDocUId"\r\n                        formControlName="passBookDocUId">\r\n                      <label class="control-label mt-4"> New RERA Bank Account Statement or First Page of Passbook<sup>*</sup><span\r\n                          class="tooltip-open" (click)="openToolTip($event, \'BCR_RA1RA2_15\')">?</span></label>\r\n                      <input disabled  type="hidden" [ngModel]="outputValue.passBookDocId" formControlName="passBookDocId">\r\n                      <app-file-upload *ngIf=\'closeIcon\' (myEvent)="setValue($event)"\r\n                        [parm]="{fileId:\'passBookDocId\',docId:docId4,close:true,show:false,fileType:[\'pdf\']}">\r\n                      </app-file-upload>\r\n\r\n                      <app-multi-file-view *ngIf=\'!closeIcon\' [Uid]="passBookDocUId" ></app-multi-file-view>\r\n                      <div class="error-box"><small class="error">Upload First page of passbook of new A/C</small></div>\r\n\r\n                    </div>\r\n                  </div>\r\n\r\n\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">Reason for Change<sup>*</sup><span class="tooltip-open"\r\n                        (click)="openToolTip($event, \'BCR_RA1RA2_16\')">?</span></label>\r\n                        <select class="form-control" formControlName="reason" [(ngModel)]="bcrData.reason"\r\n                      (click)="checkOth($event)">\r\n                      <option value="">--Reason for Change--</option>\r\n                      <option value="Reason-1"> Project Finance </option>\r\n                      <option value="Reason-2"> Error in providing Bank account at the time of project registration\r\n                      </option>\r\n                      <option value="Reason-3"> Better service </option>\r\n                      <option value="Reason-4"> Bank Merger </option>\r\n                      <option value="OTHER"> Other </option>\r\n                    </select>\r\n                    \x3c!-- <ng-multiselect-dropdown formControlName="reason" [placeholder]="\'Select Reason\'" [data]="reasonDropdownList"\r\n                      [settings]="reasondropdownSettings" (onSelect)="onReasonItemSelect($event)" (onSelectAll)="onReasonSelectAll()" (onDeSelect)="onReasonItemDeSelect($event)"\r\n                      (onDeSelectAll)="onReasonItemDeSelectAll()" [disabled]="disableReasonDrop" [(ngModel)]="selectedReasonItems">\r\n                    </ng-multiselect-dropdown> --\x3e\r\n\r\n                    <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                          aria-hidden="true"></i> Please enter Reason for Change </small></div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class="row">\r\n\r\n\r\n                  <div class="form-group col-md-6" *ngIf="showOth">\r\n                    <label class="control-label"> Reason for Change (Other)<sup>*</sup><span class="tooltip-open" (click)="openToolTip($event, \'BCR_RA1RA2_17\')">?</span></label>\r\n\r\n                        \x3c!-- <input type="text" class="form-control" formControlName="otherReason"\r\n                      [(ngModel)]="bcrData.otherReason"> --\x3e\r\n\r\n                      <textarea class="form-control" formControlName="otherReason"\r\n                      [(ngModel)]="bcrData.otherReason" placeholder="Other Reason"></textarea>\r\n\r\n\r\n                    <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please enter Reason for Change </small></div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class="row">\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                  \x3c!-- <div class="form-group col-md-6" *ngIf="bcrData.ra1Ra2RemarkExt!=null">\r\n                    <label class="control-label"> Finance User Remark RA1RA2 <sup>*</sup></label>\r\n                    <textarea class="form-control" formControlName="ra1Ra2RemarkExt" readonly\r\n                      [(ngModel)]="bcrData.ra1Ra2RemarkExt"></textarea>\r\n\r\n\r\n                  </div> --\x3e\r\n\r\n                  <div class="form-group col-md-6" *ngIf="totalBCRData.ra1Ra2RemarkExt!=null">\r\n                    <label class="control-label"> Account Officer Remark RA1RA2 <span class="tooltip-open" (click)="openToolTip($event, \'BCR_RA1RA2_18\')">?</span></label>\r\n                    <textarea class="form-control resizableHeight" readonly formControlName="ra1Ra2RemarkExt"\r\n                      [(ngModel)]="totalBCRData.ra1Ra2RemarkExt"></textarea>\r\n                    <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                          aria-hidden="true"></i> Please enter reason</small></div>\r\n                  </div>\r\n\r\n\r\n\r\n                  <div class="form-group col-md-6" *ngIf="totalBCRData.ra1Ra2EqrRemarkExt!=null && totalBCRData.status==\'BCR_ENQUIRY\'">\r\n                    <label class="control-label"> External Remark RA1RA2 <span class="tooltip-open" (click)="openToolTip($event, \'BCR_RA1RA2_19\')">?</span></label>\r\n                    <textarea class="form-control resizableHeight" readonly formControlName="ra1Ra2EqrRemarkExt"\r\n                      [(ngModel)]="totalBCRData.ra1Ra2EqrRemarkExt"></textarea>\r\n                    <div class="error-box"><small class="error">\r\n                        <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please enter reason</small>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class="row">\r\n\r\n                  <input type="hidden" formControlName="formRA1RA2SubmittedRemarks"  [(ngModel)]="bcrData.formRA1RA2SubmittedRemarks">\r\n                  <input type="hidden" formControlName="remarkIntController"  [(ngModel)]="bcrData.remarkIntController">\r\n\r\n                  <div class="form-group col-md-6" *ngIf="externalremark!=null">\r\n                    <label class="control-label"> External Remark</label>\r\n                    <textarea class="form-control resizableHeight" readonly [value]="externalremark"></textarea>\r\n\r\n                  </div>\r\n\r\n\r\n\r\n                  \x3c!-- <div class="form-group col-md-6">\r\n                    <label class="control-label"> Reason for Change <sup>*</sup><span class="tooltip-open" (click)="openToolTip($event, \'BCR_RA1RA2_16\')">?</span></label>\r\n                    <textarea class="form-control" formControlName="reason" [(ngModel)]="bcrData.reason"></textarea>\r\n\r\n                    <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please enter Reason for Change </small></div>\r\n\r\n                  </div> --\x3e\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n\r\n\r\n          \x3c!-- <div class="card-header" *ngIf="enquiryStatus!=\'BCR_ENQUIRY\'"><b>Payment</b></div>\r\n          <div class="card-body asd" *ngIf="enquiryStatus!=\'BCR_ENQUIRY\'">\r\n            <div class="row">\r\n              <div class="col-md-12">\r\n                <div class="row">\r\n                  <div class="form-group col-md-6">\r\n                    <label class="control-label">Amount (INR)<sup>*</sup></label>\r\n                    <input type="text" class="form-control" formControlName="paymentAmount" [(ngModel)]="paymentAmount" readonly>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div> --\x3e\r\n          <div *ngIf="!isApproved">\r\n            <div class="card-header" *ngIf="enquiryStatus!=\'BCR_ENQUIRY\'"><b>Declaration</b></div>\r\n            <div class="card-body asd">\r\n              <div class="row" *ngIf="enquiryStatus!=\'BCR_ENQUIRY\'">\r\n                <div class="col-md-12">\r\n                  <div class="row">\r\n                    <div class="form-group col-md-12">\r\n                      <label class="control-label"><input type="checkbox" (click)="checkValue($event)" /> I understand that I will not be able to submit any QPR pending BCR application disposal and shall be liable for non filling of QPR regulatory actions. <strong>{{quarterDetailsSet}}</strong></label>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="text-center mt-4">\r\n                <button type="button" [disabled]="this.bcrForm.invalid || invalidAccount || !checkBox" class="btn btn-primary" (click)="formSubmit()"><i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i> Submit </button>\r\n\r\n\r\n                <button type="button" class="btn btn-primary" (click)="backMe()">Close </button>\r\n              </div>\r\n              \r\n            </div>\r\n\r\n            \x3c!-- /.card-body Documents --\x3e\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n\r\n<div class="popup-overlay" *ngIf="reasonPopUp"></div>\r\n<div class="modal show" *ngIf="reasonPopUp">\r\n  <div class="modal-dialog modal-xl" style="max-width: 450px !important;">\r\n    <div class="modal-content">\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n        <h4 class="modal-title">Message</h4>\r\n        <button type="button" class="close" (click)="closePopupReason()">&times;</button>\r\n      </div>\r\n      \x3c!-- Modal body --\x3e\r\n      <div class="modal-body">\r\n        Your reason for Bank Change being PROJECT LOAN, you are liable to apply for ENCUMBRANCE Change.\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<app-tooltip [tooltipEvent]="tooltipJson"></app-tooltip>\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n<app-loader *ngIf="loadingSpinner"></app-loader>\r\n<app-pincode-search [inputPincode]="searchableString" (pincodeDetails)="getPinInformation($event)"></app-pincode-search>\r\n\r\n<app-ifsc-master (ifscDetails)="blurOutPutIFSC($event)" [inputIFSC]="ifscObs"></app-ifsc-master>'},xLxF:function(e,r,a){"use strict";a.r(r),r.default='<div class="row" *ngIf="showVerification">\r\n\t<div class="col-md-12">\r\n\t\t<app-payment-verification [transactional]="transactionalData" (buttonStatus)="outPutHandle($event)"></app-payment-verification>\r\n\t</div>\r\n</div>\r\n\r\n\r\n<div class="card shadow">\r\n  <div class="alert alert-danger" *ngIf="errorMsg">\r\n    <strong>Error!</strong> Please Fill All Valid Values.\r\n  </div>\r\n  <div class="alert alert-success" *ngIf="successMsg">\r\n    <strong>Success!</strong> Submitted Successfully.\r\n  </div>\r\n  \x3c!-- .card-body --\x3e\r\n  <div class="card-header"><b>Payment</b></div>\r\n<div class="row">\r\n<div class="col-md-12">\r\n  <div class="text-right mr-4 mt-4" (click)="printNavigation()">\r\n    <a href="javascript:void(0)" class="btn btn-small btn-success"><u>Preview Application</u></a>\r\n  </div>\r\n</div>\r\n</div>\r\n  <form [formGroup]="paymentForm" id="validateFoem">\r\n    <input type="hidden" class="form-control" [(ngModel)]="paymentData.processName" formControlName="processName">\r\n    <input type="hidden" class="form-control" [(ngModel)]="paymentData.registraionType"\r\n      formControlName="registraionType">\r\n    <input type="hidden" class="form-control" [(ngModel)]="paymentData.processId" formControlName="processId">\r\n    <input type="hidden" class="form-control" [(ngModel)]="paymentData.userName" formControlName="userName">\r\n    <input type="hidden" class="form-control" [(ngModel)]="paymentData.mobileNo" formControlName="mobileNo">\r\n    <input type="hidden" class="form-control" [(ngModel)]="paymentData.emailId" formControlName="emailId">\r\n    <input type="hidden" class="form-control" [(ngModel)]="paymentData.paymentRemarks" formControlName="paymentRemarks">\r\n    <input type="hidden" class="form-control" [(ngModel)]="encDataValue"\r\n        formControlName="encData">\r\n        <input type="hidden" class="form-control" [(ngModel)]="paymentGatewayValue"\r\n            formControlName="paymentGateway">\r\n    <div class="card-body">\r\n      <div class="alert alert-danger text-center" *ngIf="paymentFailed">\r\n        {{paymentMsg}}\r\n      </div>\r\n      <div class="alert alert-danger font-weight-bold text-center"><h2 class="text-danger text-big mb-0">\u201cPLEASE DO NOT PRESS BACK OR REFRESH\u201d FROM THIS POINT ONWARDS.</h2></div>\r\n      <div class="row">\r\n        <div class="col-md-4">\r\n          <div  class="title col-md-12  mt-2 mb-1 Title_y">Payment Details</div>\r\n          <div class="col-md-12 pt-4 pb-4 bg-light">\r\n          <div class="form-group">\r\n            \r\n            <label class="control-label">   Payment head </label>\r\n            \r\n            <input type="text" class="form-control" readonly\r\n                value="Bank Account Change Fees" placeholder="">\r\n              \r\n              \r\n        </div>\r\n          <div class="form-group">\r\n            <div>\r\n              <label class="control-label">GujRERA Unique Token Number</label>\r\n              <div>\r\n                <input type="text" class="form-control" readonly placeholder="" [(ngModel)]="paymentData.tokenNo"\r\n                  formControlName="paymentTokenNo">\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="form-group">\r\n            <div>\r\n              <label class="control-label">Amount (<i class="fa fa-inr" aria-hidden="true"></i>) (A)<sup>*</sup></label>\r\n              <div>\r\n                <input type="hidden" class="form-control" readonly [(ngModel)]="reqAmount" placeholder=""\r\n                  formControlName="reqAmount">\r\n\r\n                  <input type="text" class="form-control" readonly [value]="transformAmount(reqAmount)">\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class="form-group">\r\n            <div>\r\n              <label class="control-label">Addl. Amount (<i class="fa fa-inr" aria-hidden="true"></i>) (B)<sup>*</sup>\r\n                \x3c!--Effective from 1-October  <a href="javascript:void(0);" class="link-text" (click)="clickForMoreDetails()" title="To know more"><u>know more..</u></a> --\x3e\r\n                \x3c!-- <span class="badge badge-warning text-white"> Effective from 1-October <a class="link-text" href="javascript:void(0);" (click)="clickForMoreDetails()" title="To know more"><u>know more..</u></a></span> --\x3e\r\n              </label>\r\n              <div>\r\n                <input type="hidden" class="form-control" readonly [(ngModel)]="reqPenaltyAmount" placeholder="" formControlName="reqPenaltyAmount">\r\n                <input type="text" class="form-control" readonly [value]="transformAmount(reqPenaltyAmount)">\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class="form-group">\r\n            <div>\r\n              <label class="control-label">Total Amount (<i class="fa fa-inr" aria-hidden="true"></i>) (A+B)<sup>*</sup></label>\r\n              <div>\r\n                <input type="hidden" class="form-control" [(ngModel)]="reqTotalAmount" readonly placeholder=""\r\n                  formControlName="reqTotalAmount">\r\n                  <input type="text" class="form-control" readonly [value]="transformAmount(reqTotalAmount)">\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n        <div class="col-md-8 customPaymentList">\r\n         <app-payment-description></app-payment-description>\r\n        </div>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-md-12">\r\n          <div  class="title col-md-12  mt-2 mb-4 Title_y">Term &amp; Condition</div>\r\n          <p><input type="checkbox" for="checkPenalty" (click)="checkValue($event)" class="requiredValFld">\r\n            I agree to all Terms and Condition defined by GUJRERA for using Online Payment Gateway Facility using this\r\n            Portal. The detailed T&amp;C can be found <b>\u201dTerms &amp; Conditions\u201d</b> Section on this website.\r\n            <span class="requiredValFldMsg">Please accept Terms and Conditions.</span>\r\n          </p>\r\n          <p><input type="checkbox" (click)="checkValue($event)" class="requiredValFld" name="showonpublicdomain"> The\r\n            required information as per the RERA act will be displayed in public domain\r\n            <span class="requiredValFldMsg"> Please affirm the declarations.</span>\r\n          </p>\r\n          <p>\r\n            <input type="checkbox" (click)="checkValue($event)" class="requiredValFld" name="affirm" id="affirm"> [I/We]\r\n            solemnly affirm and declare that the particulars given in herein are correct to [my /our] knowledge and\r\n            belief and nothing material has been concealed by [me/us] therefrom\r\n            <span class="requiredValFldMsg"> Please affirm the declarations.</span>\r\n\r\n          </p>\r\n          <p>\r\n            <input type="checkbox" (click)="checkValue($event)" class="requiredValFld" name="agree"> I agree to all Terms and Condition defined by GUJRERA for using Online Payment Gateway facility using this Portal <a href="/resources/staticpage/Gujrera_User_Manual_Grievance_Redressal_v1_External_Users.pdf" target="_blank" title="Click Here" class="text-danger font-weight-bold"> (here)</a>. I also agree to all Terms and Condition defined by <strong>Payment Gateway Service provider (SBI ePay or HDFC Payment Gateway - as may be applicable)</strong> for performing the payment transaction as you will experience in subsequent steps after this page.\r\n            <span class="requiredValFldMsg"> Please accept Terms and Conditions.</span>\r\n\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n\r\n      <div class="text-center">\r\n        <button type="button" class="btn btn-primary" value="previous" (click)="prevTab()"> Previous</button>\r\n        \x3c!-- <button type="button" class="btn btn-primary" disabled id="paymentBtn" value="next"\r\n          (click)="postPaymentDetails()"><i class="fa fa-spinner fa-spin text-white" *ngIf="loader"\r\n            aria-hidden="true"></i> Agree & Pay \u20b9 5000</button> --\x3e\r\n            <button type="button" *ngIf="checkPayment" class="btn btn-primary" disabled id="paymentBtn" value="next"\r\n          (click)="postPaymentDetails()"><i class="fa fa-spinner fa-spin text-white" *ngIf="loader"\r\n            aria-hidden="true"></i>Pay</button>\r\n      </div>\r\n    </div>\r\n\r\n  </form>\r\n\r\n</div>\r\n<app-gateway-selection (gatewayOutput)="selectGatewayConfirm($event)" [gatewayInput]="openGatewayPop"></app-gateway-selection>\r\n<app-payment-more-details [inputBehaviour]="behaviourMatrix"></app-payment-more-details>\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n'},yc4E:function(e,r,a){"use strict";a.r(r),r.default='<div class="row mt-4">\r\n  <div class="container-fluid">\r\n <form [formGroup]="bcrRa1Ra2IdFk" id="validateFoem">\r\n      <div class="card shadow mb-4">\r\n\r\n        <div class="card-header"><b>Project Bank Details (RA1 & RA2)</b>            {{quarterDetailsSet}}</div>\r\n        <div class="card-body asd">\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="row">\r\n\r\n\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">Expected name of Project RERA Bank Account as per RERA banking Directions</label>\r\n                  <input type="text" class="bcr-formControl mr-2 width-100" [value]=\'bcrData.groupName\' placeholder="Group Name" readonly>\r\n                  \r\n                </div>\r\n                <div class="form-group col-md-6">\r\n                \r\n                  <div class="d-flex justify-content-between reraAcTopSec"> <span class="acTitle">RERA A/C for </span>\r\n                    <span class="reraAcWidth"><input type="text" class="bcr-formControl ml-2" placeholder="Project Name" [value]=\'bcrData.projectName\' readonly></span></div>\r\n                </div>\r\n\r\n\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">IFSC Code</label>\r\n                  <input type="text" class="form-control" disabled formControlName="ifscCode"\r\n                    [(ngModel)]="bcrData.ifscCode" oninput="this.value = this.value.toUpperCase()">\r\n                  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                        aria-hidden="true"></i> Please enter IFSC Code</small></div>\r\n                </div>\r\n\r\n\r\n\r\n\r\n                <div class="form-group col-md-6">\r\n                  \x3c!-- <label class="control-label d-flex align-items-center">\r\n                    <input type="text" class="bcr-formControl mr-2" [value]=\'bcrData.groupName\' placeholder="Group Name" readonly>\r\n                    <div class="bcr-div-w">RERA A/C for</div><sup>*</sup><span class="tooltip-open" (click)="openToolTip($event, \'BCR_RA1RA2_1\')">?</span>\r\n                    <input type="text" class="bcr-formControl ml-2" placeholder="Project Name" [value]=\'bcrData.projectName\' readonly>\r\n                  </label> --\x3e\r\n\r\n                  <label class="control-label">Bank Name</label>\r\n                  \x3c!-- <select class="form-control" (change)="getBankName($event)" disabled formControlName="bankCode"\r\n                    [(ngModel)]="bcrData.bankCode">\r\n                    <option value="">--Select--</option>\r\n                    <option *ngFor="let b of bankList" [value]="b.bankCode"> {{b.bankName}} </option>\r\n                  </select>\r\n                  <input type="hidden" [(ngModel)]="bankName" formControlName="bankName"> --\x3e\r\n\r\n                  <input type="text" class="form-control" [(ngModel)]="bcrData.bankName" formControlName="bankName" disabled>\r\n\r\n\r\n                  <div class="error-box"><small class="error">Please select Bank Name</small>\r\n                  </div>\r\n                </div>\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">Branch Name</label>\r\n                  <input type="text" class="form-control" disabled formControlName="branchName"\r\n                    [(ngModel)]="bcrData.branchName">\r\n                  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                        aria-hidden="true"></i> Please enter Branch Name</small></div>\r\n                </div>\r\n                \x3c!-- (Suffix the term "RERA Account for GANESH ELITE Real Estate Project") --\x3e\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">A/c Holder Name as per Bank Statement/ Passbook</label>\r\n                  <input type="text" class="form-control" disabled formControlName="accountHolderName"\r\n                    [(ngModel)]="bcrData.accountHolderName">\r\n                  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                        aria-hidden="true"></i> Please enter A/C Holder Name</small></div>\r\n                </div>\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">Type of Account</label>\r\n                  <select class="form-control" disabled formControlName="accountType" [(ngModel)]="bcrData.accountType"\r\n                    (change)="accountTypeChange($event)">\r\n                    <option value="">--Select--</option>\r\n                    <option value="CURRENT"> Current Account</option>\r\n                    <option value="SAVING"> Saving Account</option>\r\n                  </select>\r\n                  <div class="error-box"><small class="error">\r\n                      <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please select Type of\r\n                      Account</small></div>\r\n                </div>\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">New Account No.</label>\r\n                  <input type="number" class="form-control" disabled formControlName="accountNumber"\r\n                    [(ngModel)]="bcrData.accountNumber">\r\n                  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                        aria-hidden="true"></i> Please enter New Account No</small></div>\r\n                </div>\r\n\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">State</label>\r\n                  <select class="form-control" (change)="getDistrictByStateId($event)" disabled\r\n                    formControlName="stateCode" [(ngModel)]="bcrData.stateCode">\r\n                    <option value="">--Select State--</option>\r\n                    <option *ngFor="let s of stateList" [value]="s.stateUtCode"> {{s.stateUtName}} </option>\r\n                  </select>\r\n                  <input type="hidden" [(ngModel)]="stateName" formControlName="stateName">\r\n                  <div class="error-box"><small class="error">Please select State</small>\r\n                  </div>\r\n                </div>\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">District</label>\r\n                  <select class="form-control" (change)="getDistrictList($event)" disabled\r\n                    formControlName="districtCode" [(ngModel)]="bcrData.districtCode">\r\n                    <option value="">--Select District--</option>\r\n                    <option *ngFor="let d of districtList" [(value)]="d.districtCode"> {{d.districtName}} </option>\r\n                  </select>\r\n                  <input type="hidden" class="form-control" [(ngModel)]="districtName" formControlName="districtName">\r\n                  <div class="error-box"><small class="error">Please select District</small></div>\r\n                </div>\r\n\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">Taluka</label>\r\n                  <input type="text" class="form-control" disabled formControlName="subDistrictName"\r\n                    [(ngModel)]="bcrData.subDistrictName">\r\n                  \x3c!-- <select class="form-control" (change)="getTalukaList($event)" disabled formControlName="subDistrictName"\r\n          [(ngModel)]="bcrData.subDistrictName">\r\n          <option value="">--Select--</option>\r\n          <option *ngFor="let d of subDistrictList" [(value)]="d.subDistrictName"> {{d.subDistrictName}} </option>\r\n        </select> --\x3e\r\n\r\n                  <div class="error-box"><small class="error">Please select Taluka</small></div>\r\n                </div>\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">Pincode</label>\r\n                  <input type="text" class="form-control" formControlName="pincode" disabled\r\n                    [(ngModel)]="bcrData.pincode">\r\n                  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                        aria-hidden="true"></i> Please enter Pincode</small></div>\r\n                </div>\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">Closing Balance of Existing RERA A/C</label>\r\n                  <input type="number" class="form-control" disabled formControlName="closingBal"\r\n                    [(ngModel)]="bcrData.closingBal">\r\n                  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                        aria-hidden="true"></i> Please enter closing balance of existing RERA A/C as per the bank statement uploaded</small></div>\r\n                </div>\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">Closing Balance of Existing RERA A/C Date</label>\r\n                  <input type="date" class="form-control" disabled [(ngModel)]="bcrData.closingBalanceDate"\r\n                    formControlName="closingBalanceDate" data-date-format="DD-MMMM-YYYY"\r\n                    max="{{maxDate | date:\'yyyy-MM-dd\'}}" min="{{date | date:\'yyyy-MM-dd\'}}">\r\n                  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                        aria-hidden="true"></i> Please select Closing Balance of Existing RERA A/C Date</small></div>\r\n                </div>\r\n              </div>\r\n\r\n\r\n              <div formGroupName="bcrIdDocFk">\r\n              <div class="form-group col-md-6">\r\n\r\n                  <input type="hidden" class="form-control" [(ngModel)]="formRa2DocUId" formControlName="formRa2DocUId">\r\n                  <label class="control-label"> RA02 Certificate from Existing RERA Bank Account</label>\r\n                  <input type="hidden" [ngModel]="outputValue.formRa2DocId" formControlName="formRa2DocId">\r\n                  \x3c!-- <a href="{{fileDownlod}}{{formRa2DocUId}}" download class="btn btn-primary">Download</a> --\x3e\r\n                  <app-multi-file-view [Uid]="formRa2DocUId" ></app-multi-file-view>\r\n              </div>\r\n              <div class="form-group col-md-6">\r\n                  <input type="hidden" class="form-control" [(ngModel)]="passBookDocUId"\r\n                    formControlName="passBookDocUId">\r\n                  <label class="control-label"> New RERA Bank Account Statement or First Page of Passbook</label>\r\n                  <input type="hidden" [ngModel]="outputValue.passBookDocId" formControlName="passBookDocId">\r\n                  \x3c!-- <a href="{{fileDownlod}}{{passBookDocUId}}" download class="btn btn-primary">Download</a> --\x3e\r\n                  <app-multi-file-view [Uid]="passBookDocUId" ></app-multi-file-view>\r\n\r\n\r\n                </div>\r\n              </div>\r\n\r\n\r\n\r\n            </div>\r\n          </div>\r\n       <div class="row">\r\n          \x3c!-- <div class="form-group col-md-6">\r\n            <label class="control-label"> Reason for Change </label>\r\n            <textarea class="form-control" formControlName="reason" disabled\r\n              [(ngModel)]="bcrData.reason"></textarea>\r\n          </div> --\x3e\r\n\r\n\r\n\r\n<div class="form-group col-md-6">\r\n  <label class="control-label">Reason for Change</label>\r\n  <select class="form-control"  formControlName="reason" disabled [(ngModel)]="bcrData.reason" (click)="checkOth($event)" >\r\n      <option value="">--Reason for Change--</option>\r\n      <option value="Reason-1" > Project Finance </option>\r\n      <option value="Reason-2" > Error in providing Bank account at the time of project registration </option>\r\n      <option value="Reason-3" > Better service </option>\r\n      <option value="Reason-4"> Bank Merger </option>\r\n      <option value="OTHER" > Other </option>\r\n      </select>\r\n\r\n  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i>  Please enter Reason for Change </small></div>\r\n  </div>\r\n\r\n  <div class="form-group col-md-6" *ngIf="showOth">\r\n      <label class="control-label"> Reason for Change (Other)</label>\r\n      <textarea class="form-control" formControlName="otherReason" disabled [(ngModel)]="bcrData.otherReason"></textarea>\r\n\r\n\r\n      <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please enter Reason for Change </small></div>\r\n      </div>\r\n\r\n          \x3c!-- <div class="form-group col-md-6" *ngIf="totalBCRData.ra1Ra2RemarkExt!=null">\r\n            <label class="control-label"> Finance Officer RA1RA2 Remark</label>\r\n              <textarea rows="2" cols="1" #treaso class="form-control" disabled\r\n                formControlName="ra1Ra2RemarkExt"\r\n                [(ngModel)]="totalBCRData.ra1Ra2RemarkExt"></textarea>\r\n          </div> --\x3e\r\n          <div class="form-group col-md-6" *ngIf="totalBCRData.ra1Ra2EqrRemarkExt!=null">\r\n            <label class="control-label">Account Officer RA1RA2 Remark</label>\r\n              <textarea rows="2" cols="1" #treason class="form-control" formControlName="ra1Ra2EqrRemarkExt"\r\n                disabled [(ngModel)]="totalBCRData.ra1Ra2EqrRemarkExt"></textarea>\r\n          </div>\r\n        </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    <form [formGroup]="r3r4Form" id="validateFoem">\r\n      <input type="hidden" class="form-control" formControlName="bcrRa3Ra4IdFk" [(ngModel)]="BCR_PARENT_ID">\r\n      \x3c!-- <input type="hidden" formControlName="status" *ngIf="enquiryStatus!=\'BCR_ENQUIRY\'" [(ngModel)]="formValueData">\r\n      <input type="hidden" formControlName="status" *ngIf="enquiryStatus==\'BCR_ENQUIRY\'" [(ngModel)]="formValueData"> --\x3e\r\n\r\n\r\n\r\n\r\n\r\n      <div class="card shadow mb-4">\r\n        <div class="alert alert-danger" *ngIf="errorMsg">\r\n          <strong>Error!</strong> Something went wrong!!.\r\n        </div>\r\n        <div class="alert alert-success" *ngIf="successMsg">\r\n          <strong>Success!</strong>Bank Change Request applied Successfully.\r\n        </div>\r\n\r\n        \x3c!-- .card-body-kys --\x3e\r\n\r\n        <div class="card-header"><b>Project Bank Details (RA3 & RA4)</b></div>\r\n        <div class="card-body asd">\r\n\r\n\r\n\r\n          <div class="row">\r\n\r\n\r\n            <input type="hidden" formControlName="remarkIntUser" [(ngModel)]="r3r4Data.remarkIntUser">\r\n            <input type="hidden" formControlName="remarkIntController" [(ngModel)]="r3r4Data.remarkIntController">\r\n            <input type="hidden" formControlName="formRA3RA3SubmittedRemarks" [(ngModel)]="r3r4Data.formRA3RA3SubmittedRemarks">\r\n          </div>\r\n\r\n\r\n\r\n\r\n\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="row">\r\n                <input type="hidden" class="form-control" formControlName="status" [(ngModel)]="status" value="{{status}}">\r\n\r\n                <input type="hidden" class="form-control" formControlName="id" [(ngModel)]="r3r4Data.id">\r\n\r\n\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">Transferred Amount as per RA3<sup>*</sup></label>\r\n                  <input type="text" class="form-control" onKeyPress="if(this.value.length==18) return false;" formControlName="transferedAmount" [(ngModel)]="r3r4Data.transferedAmount">\r\n                  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                        aria-hidden="true"></i> Please enter amount transferred from existing RERA A/c to New RERA Bank A/c (in rupees ignoring paisa)</small></div>\r\n                </div>\r\n                <div class="form-group col-md-6">\r\n                  <label class="control-label">Date of Transferred Amount as per RA3<sup>*</sup></label>\r\n                  \x3c!-- max="{{maxDate | date:\'yyyy-MM-dd\'}}"  --\x3e\r\n                  <input type="date" class="form-control" [(ngModel)]="r3r4Data.transferedAmountDate" formControlName="transferedAmountDate" data-date-format="DD-MMMM-YYYY" max="{{date | date:\'yyyy-MM-dd\'}}" (change)="onChangeClosingDate()">\r\n                  <div class="error-box"><small class="error"><i class="fa fa-exclamation-triangle"\r\n                        aria-hidden="true"></i> Date of transfer can not be the future date</small></div>\r\n                </div>\r\n              </div>\r\n\r\n                <div formGroupName="bcrIdDocFk">\r\n                  <div class="row">\r\n                    <input type="hidden" class="form-control" formControlName="id" [(ngModel)]="docIdr3r4">\r\n\r\n                    <div class="form-group col-md-6">\r\n                      <input type="hidden" class="form-control" [(ngModel)]="formRa3DocUId"\r\n                        formControlName="formRa3DocUId">\r\n                      <label class="control-label">RA3 (Only PDF)<sup>*</sup></label>\r\n                      <input type="hidden" [ngModel]="outputValue.formRa3DocId" formControlName="formRa3DocId">\r\n                      <app-file-upload *ngIf=\'closeIcon == true\' (myEvent)="setValue($event)"\r\n                        [parm]="{fileId:\'formRa3DocId\',docId:docId2,close:true,show:false,fileType:[\'pdf\']}"></app-file-upload>\r\n\r\n\r\n\r\n                        <app-multi-file-view *ngIf=\'closeIcon == false\' [Uid]="formRa3DocUId" ></app-multi-file-view>\r\n\r\n                      <div class="error-box"><small class="error">Please upload RA3 Document</small></div>\r\n                    </div>\r\n\r\n\r\n                    <div class="form-group col-md-6">\r\n\r\n                      <input type="hidden" class="form-control" [(ngModel)]="formRa4DocUId"\r\n                        formControlName="formRa4DocUId">\r\n                      <label class="control-label">RA4 (Only PDF)<sup>*</sup></label>\r\n\r\n                      <input type="hidden" [ngModel]="outputValue.formRa4DocId" formControlName="formRa4DocId">\r\n                      <app-file-upload *ngIf=\'closeIcon == true\' (myEvent)="setValue($event)"\r\n                        [parm]="{fileId:\'formRa4DocId\',docId:docId3,close:true,show:false,fileType:[\'pdf\']}"></app-file-upload>\r\n\r\n                        <app-multi-file-view *ngIf=\'closeIcon == false\' [Uid]="formRa4DocUId" ></app-multi-file-view>\r\n\r\n\r\n                      <div class="error-box"><small class="error">Please upload RA4 Document</small></div>\r\n                    </div>\r\n                  </div>\r\n\r\n                </div>\r\n\r\n\r\n                <div class="row">\r\n                  <div class="form-group col-md-6" *ngIf="totalBCRData.ra3Ra4EqrRemarkExt!=null && totalBCRData.status==\'BCR_ENQUIRY\'">\r\n                    <label class="control-label"> Account Officer RA3RA4 Remark</label>\r\n                      <textarea rows="2" cols="1" class="form-control" [value]="totalBCRData.ra3Ra4EqrRemarkExt " disabled></textarea>\r\n                  </div>\r\n                </div>\r\n\r\n\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <div class="text-center mt-4">\r\n          <button type="button" *ngIf="!transferedAmountStatus" [disabled]="this.r3r4Form.invalid"\r\n            class="btn btn-primary" (click)="formSubmit()"><i class="fa fa-spinner fa-spin text-white" *ngIf="loader"\r\n              aria-hidden="true"></i> Submit</button>\r\n        </div>\r\n\r\n\r\n        \x3c!-- /.card-body Documents --\x3e\r\n\r\n\r\n\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n<app-tooltip [tooltipEvent]="tooltipJson"></app-tooltip>\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n'}}]);