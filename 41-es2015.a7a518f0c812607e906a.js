(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"0n3D":function(t,e,r){"use strict";r.r(e),e.default='<div class="card-header"><b>Initiate Form 5 Audit Request</b></div>\r\n<div class="card-body">\r\n    \r\n    <div class="row">\r\n        <div class=" col-md-12 table-responsive mb-4">\r\n            <table class="table table-bordered">\r\n                <thead>\r\n                    <tr class="text-center bg-light  text-size-small">\r\n\r\n                      \r\n                        <td>Project Name</td>\r\n                        <td>Promoter Name</td>\r\n                        <td>Promoter Email</td>\r\n\r\n\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr class="text-center">\r\n\r\n                        \r\n                        <td>{{formFiveDetail.projectName}}</td>\r\n\r\n\r\n                        <td>{{formFiveDetail.promoterName}}</td>\r\n                        <td>{{formFiveDetail.promoterEmailId}}</td>\r\n\r\n\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="row">\r\n    <div class ="col-md-9">\r\n    <div class="d-flex justify-content-between mt-4">\r\n        <div class="water-box d-flex align-items-center level9"><span></span>  ACTIVE</div>\r\n        <div class="water-box d-flex align-items-center level10"><span></span> SUBMITTED</div>\r\n        <div class="water-box d-flex align-items-center level0"><span></span> ESIGNED</div>\r\n        <div class="water-box d-flex align-items-center level11"><span></span> INACTIVE</div>\r\n        <div class="water-box d-flex align-items-center level12"><span></span> EXEMPT</div>\r\n        <div class="water-box d-flex align-items-center level13"><span></span> DEFAULTER</div>\r\n        <div class="water-box d-flex align-items-center level14"><span></span> DEFAULT-ACTIVE</div>\r\n      </div>\r\n      </div>\r\n</div>\r\n<div class="card-header"><b>Financial Year</b></div>\r\n<div class="card-body threeBtn">\r\n     <div class="row"  >\r\n\r\n        <div class="form-group col-md-1" *ngFor ="let financeYear of formFiveDetail.formFiveList; let last = last">\r\n          <div class="">\r\n            <button type="button"   (click)="setData(financeYear.formFiveId, financeYear.financialYearStatus)" [ngClass]="{\r\n                \'active\':form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'ACTIVE\'),\r\n                 \'submitted\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'SUBMITTED\'),\r\n                \'essigned\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'ESIGNED\'),\r\n                \r\n                \'inactive\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'INACTIVE\'), \r\n                \'exempt\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'EXEMPT\'), \r\n                \'defaulter\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'DEFAULT\'), \r\n                \'defaultactive\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'DEFAULT-ACTIVE\')\r\n              }" [disabled]="financeYear.financialYearStatus == \'INACTIVE\'">{{financeYear.financialYear}}<strong *ngIf="last"> Q-E</strong></button>\r\n        </div>\r\n    </div>\r\n     \r\n    </div> \r\n\r\n</div>'},"5mh4":function(t,e,r){"use strict";r.r(e);var a=r("mrSG"),i=r("8Y7J"),s=r("SVse"),n=r("iInd"),o=r("vTBr"),l=r("FvaC");let c=class{constructor(t,e){this._http=t,this._apiURL=e,this.getUpdatedBCR=(t="")=>this._http.secureget(this._apiURL.bcrAPI+"/secure/bcr-update-bank-details/all-locking-bcr-by-projectId/"+t)}getStatusOfAssignmentREG(t){return this._http.get(this._apiURL.projectRegAPI+"professional-assignment-status/project-id/"+t)}getStatusOfAssignmentALT(t){return this._http.get(this._apiURL.projectAlteration+"professional-assignment-status/project-id/"+t)}getPendingProjectReg(){return this._http.secureget(this._apiURL.projectRegAPI+"secure/project-summaryPending")}getPendingProjectAlt(){return this._http.secureget(this._apiURL.projectAlteration+"secure/project-summaryPending")}getPendingProjectExt(){return this._http.secureget(this._apiURL.projectExtensionApi+"secure/project-summaryPending")}getPendingProjectQarter(){return this._http.secureget(this._apiURL.projectExtensionApi+"secure/project-summaryPending")}getAlterationDetails(t){return this._http.secureget(this._apiURL.projectAlteration+"secure/project-summary"+t)}getCurrentStatus(t,e){return this._http.secureget(this._apiURL.promoterOnlineEnquiry+"secure/trx/getby-processId-processType/"+t+"/"+e)}getBCRData(t){return this._http.secureget(this._apiURL.bcr+"secure/getbcr-details-by-project-id"+t)}getListOfEnquiriesData(t){return this._http.secureget(this._apiURL.promoterOnlineEnquiry+"secure/trx/getby-projectId/"+t)}getEofficeData(t){return console.log(this._apiURL.efileHirearchy+"secure/docassociate/getproject/"+t),this._http.secureget(this._apiURL.efileHirearchy+"secure/docassociate/getproject/"+t)}viewAlterationProjects(t){return this._http.secureget(this._apiURL.projectAlteration+"secure/getByproject/"+t)}viewExtensionProjects(t){return this._http.secureget(this._apiURL.projectExtensionApi+"secure/getproject-ext-details/"+t)}viewQuarterProjects(t){return this._http.secureget(this._apiURL.qpr+"secure/"+t)}viewEnquiriesProjects(t){return this._http.secureget(this._apiURL.promoterOnlineEnquiry+"secure/trx/getby-projectId-status/"+t+"/SUBMITTED")}getProjectFormFiveDetail(t){return this.data=this._http.secureget(this._apiURL.formFiveApi+"secure/financial-year/list"+t),this.data}getBCRLatestInformation(t){return this._http.secureget(this._apiURL.bcr+"secure/getbcr-details-by-project-id-desc"+t)}getProffesional(t){return this._http.secureget(this._apiURL.dashboardAPI+"secure/main/project-assign-dtl-by-prj-id/"+t)}getFormFiveData(t){return this._http.secureget(this._apiURL.formFiveApi+"secure/form-five/get-assigned-dtl/"+t)}getQuaterData(t){return this._http.secureget(this._apiURL.qpr+"secure/get-project-quarter-enquiry-list/"+t)}getTotalProjectProfilePcwf(t){return this._http.secureget(this._apiURL.bcr+"secure/profilechange/get-all-by-projectId/"+t)}getTotalProjectProfileLegalPcwf(t){return this._http.secureget(this._apiURL.bcr+"secure/profilechange/get-all-by-projectId/"+t)}getTotalProjectProfile(t){return this._http.secureget(this._apiURL.bcr+"secure/tp/get-all-tp-by-projectId/"+t)}getTotalProjectProfileLegal(t){return this._http.secureget(this._apiURL.bcr+"secure/legal/get-all-legal-by-projectId/"+t)}getCitySurveyProject(t){return this._http.secureget(this._apiURL.citizenSurveyApi+"secure/project-clause/get-project-afs-list/"+t)}getTotalSection15Response(t){return this._http.secureget(this._apiURL.projectAltFtnAPI+"secure/get-list-by-project-id/"+t)}getCertificate(t){return this._http.secureget(this._apiURL.projectRegAPI+"secure/project-app/getproject-certdetails/"+t)}lockingWithFee(t){return this._http.get(this._apiURL.bcr+"public/get-pfc-by-projectId/"+t)}qprEnquiries(t){return this._http.secureget(this._apiURL.qpr+"secure/get-pending-quarter-enquiry-list/"+t)}getTotalProjectDetailsByProjectId(t){return this._http.secureget(this._apiURL.projectRegAPI+"project-app/alldatabyprojectid/"+t)}getCurrentInProgressData(t){return this._http.secureget(this._apiURL.projectRegAPI+"secure/prm/pendingapp-list/"+t)}discardThisProcess(t,e){return console.log("clickOn",e),"Extension"==e?this._http.secureget(this._apiURL.projectExtensionApi+"secure/discard-project-ext/"+t):"Alteration"==e?this._http.secureget(this._apiURL.projectAltAPI+"secure/discard-alteration-app/"+t):"BCR"==e?this._http.secureget(this._apiURL.bcr+"secure/discard-bcr-details/"+t):"Alteration-15"==e?(console.log("alteration servicesVersion","secure/update-status-section-15-by-id/"+t+"/DISCARDED"),this._http.securepost(this._apiURL.projectAltFtnAPI+"secure/update-status-section-15-by-id/"+t+"/DISCARDED",{})):"tPProfileChange"==e||"legalProfileChange"==e?this._http.secureget(this._apiURL.bcr+"secure/profilechange/discard-pcwf-details/"+t):void 0}getLastSubmittedQpr(t){return this._http.secureget(this._apiURL.qpr+"secure/getlast-submitedqtr-by-prjid/"+t)}getWithdrawStatus(t,e){return this._http.get(this._apiURL.projectWithdrawl+"public/process/"+t+"/type/"+e)}getProjectBankService(t){return this._http.secureget(this._apiURL.projectRegAPI+"secure/project-app/getproject-banks-alter/"+t)}};c.ctorParameters=()=>[{type:o.a},{type:l.a}],c=a.b([Object(i.B)({providedIn:"root"})],c);var p=r("2Vo4"),d=r("6Ea5"),u=r("2cek");let h=class{constructor(t,e,r,a,i,s){this._workflowService=t,this._router=e,this._serviceCall=r,this._apiURL=a,this._changeLandArea=i,this._datePipe=s,this.formFiveDetail={formFiveList:[]},this.bcrData=new Array,this.isPendingOnPromoter=!1,this.projectInfoArr=new Array,this.setEnquiryList=new Array,this.projectIdValue=new p.a({}),this.viewMasterProject=new Array,this.viewMasterProjectPromoter=new Array,this.viewMasterProjectAuthority=new Array,this.viewMasterProjectSummary=new Array,this.modalPopup=!1,this.ticketPopUp=new p.a({}),this.projectIdForSelector=new p.a({}),this.projectRegIdForSelector=new p.a({}),this.WithdrawPopup=!1,this.extPaymentStatus=!1,this.regArray=[],this.formFiveArray=[],this.getassignProffesional=[],this.getFormFiveProfessional=[],this.loadingSpinner=!1,this.isBCRInProcess=!1,this.isLegalInProcess=!1,this.isTpInProcess=!1,this.inputJson=new p.a({}),this.docUID=new p.a(0),this.currentInProgressType="",this.currentInStatusType="",this.processName="",this.confirmationEventB=new p.a({}),this.tabfir=!0,this.tabsec=!1,this.tabTicket=!1,this.noActive=!0,this.isQEfilled="",this.isPopClickedFor="",this.applyForBCRNotificationPop=!1,this.applyForBCRNotificationPopSecond=!1,this.currentBankAccount={},this.showCurrentBankAccount=!1,this.previousDetailCheck=!1,this.projectHeadCheck=!1,this.reraDetailsCheck=!1,this.associateVendorCheck=!1,this.financialDocscheck=!1,this.tpModelArray=[],this.showProcessType=(t="",e="")=>"tPProfileChange"==t&&"TP_LEGAL_PCWF"==e?"Both (TP and Legal)":"tPProfileChange"==t?"TP Profile Change":"legalProfileChange"==t?"Legal Profile Change":"Alteration"==t||"Extension"==t||"Alteration-15"==t||"QPR"==t?t:"sealForTrust"==t?"Seal For Trust":t,this.showStatusForPromoter=(t,e="")=>"legalProfileChange"!=e&&"tPProfileChange"!=e||"INPROGRESS"!=t?t:"SAVE AS DRAFT",this.form5ColorClass=(t="",e="",r="")=>("ACTIVE"==t&&"ACTIVE"==e||"ACTIVE"==t&&"ASSIGNED"==e||"ACTIVE"==t&&"INPROGRESS"==e||"ACTIVE"==t&&null==e)&&"ACTIVE"==r||(("ACTIVE"==t&&"ESIGNED"==e||"SUBMITTED"==t&&"ESIGNED"==e)&&"ESIGNED"==r||("ACTIVE"==t&&"SUBMITTED"==e&&"SUBMITTED"==r||("INACTIVE"==t&&"INACTIVE"==r||("EXEMPT"==t&&"EXEMPT"==r||("DEFAULT"==t&&"DEFAULT"==r||"DEFAULT-ACTIVE"==t&&"DEFAULT-ACTIVE"==r))))),this.getLastSubmittedQPR=t=>{this._serviceCall.getLastSubmittedQpr(t).subscribe(t=>{console.log("log for the last submitted qpr ",t),"200"==t.status&&(this.isQEfilled=t.data.qname)},t=>{console.log("error",t)})},this.showMessageWorkForBCR=()=>{this.isPopClickedFor="BCR",this.confirmationEventB.next({flag:!0,messageV:"Are you applying for RERA Bank Change due to Bank Merger?"})},this.bcrPopupCheckClose=()=>{this.applyForBCRNotificationPop=!0},this.bcrPopupClose=()=>{this.applyForBCRNotificationPop=!1},this.bcrPopupClose2=()=>{this.applyForBCRNotificationPopSecond=!1},this.bcrPopupOk=(t="")=>{if("NO"==t)if(sessionStorage.removeItem("paymentModeForBCR"),this.applyForBCRNotificationPop=!1,0==this._apiURL.bcrDateWithoutFeeAllowedTill)this.showMessageWorkForBCR();else if(0!=this._apiURL.bcrDateWithoutFeeAllowedTill){let t=new Date(this._apiURL.bcrDateWithoutFeeAllowedTill).getTime(),e=(new Date).getTime();console.log("dateDiff",t,e),console.log("checking",t>=e),t>=e?this.showMessageWorkForBCR():(sessionStorage.setItem("paymentModeForBCR","WithPayment"),this._router.navigate(["bcr/bcr-request"]))}else console.log("checking2"),sessionStorage.setItem("paymentModeForBCR","WithPayment"),this._router.navigate(["bcr/bcr-request"]);else this.applyForBCRNotificationPop=!1,this.applyForBCRNotificationPopSecond=!0},this.bcrPopupOk2=(t="")=>{"YES"==t?(this.applyForBCRNotificationPopSecond=!1,sessionStorage.setItem("paymentModeForBCR","WithPayment"),this._router.navigate(["bcr/bcr-request"])):(this.applyForBCRNotificationPopSecond=!1,this._router.navigate(["bcr-without-fee/apply-for-changes"]))},this.getListingOfBankCorrection=()=>{this._router.navigate(["bcr-without-fee/view-submission-list"])},this.checkAlreadyApprovedData=t=>{this.loadingSpinner=!0,this._serviceCall.getUpdatedBCR(t).subscribe(t=>{"200"==t.status?(this.loadingSpinner=!1,console.log("enable for BCR old"),sessionStorage.removeItem("paymentModeForBCR"),sessionStorage.setItem("paymentModeForBCR","WithPayment"),this._router.navigate(["bcr/bcr-request"])):(this.loadingSpinner=!1,console.log("default Behaviour"),this.bcrPopupCheckClose())},t=>{this.loadingSpinner=!1,console.log("default Behaviour"),this.bcrPopupCheckClose()})},this.getCUrrentBankAccount=t=>{this._serviceCall.getProjectBankService(t).subscribe(t=>{"200"==t.status?(this.showCurrentBankAccount=!0,this.currentBankAccount=t.data):(this.showCurrentBankAccount=!1,this.currentBankAccount={})},t=>{this.showCurrentBankAccount=!1,console.error("bank account error",t)})},this.clickToRedirectOnDC=()=>{this._router.navigate(["bcr-without-fee/view-submission-list"])}}ngOnInit(){sessionStorage.removeItem("paymentModeForBCR"),sessionStorage.removeItem("projectAckNO"),sessionStorage.removeItem("profileStatus"),sessionStorage.removeItem("printAcklegal"),sessionStorage.removeItem("printAcktp"),sessionStorage.removeItem("profileId"),sessionStorage.removeItem("tp_main_id"),sessionStorage.removeItem("printDtlTp"),sessionStorage.removeItem("legalId"),sessionStorage.removeItem("pfView"),sessionStorage.removeItem("printSummary"),sessionStorage.removeItem("returnFullView"),sessionStorage.removeItem("extPaymentStatus"),this.viewMasterProjectPromoter=[],this.viewMasterProjectAuthority=[],this.viewMasterProjectSummary=[],this.downloadReciept=this._apiURL.paymentDownload+"downloadPatmentReciept/",this.fileDownlod=this._apiURL.fileDownloadAPI+"download/",this.projectId=sessionStorage.getItem("projectId"),this.projectAltrId=sessionStorage.getItem("projectAltrId"),this.projectName=sessionStorage.getItem("projectName"),this.ackNo=sessionStorage.getItem("ackNo"),this.status=sessionStorage.getItem("status"),this.registrationNo=sessionStorage.getItem("registrationNo"),"REVOKED"!=this.status&&"RESCIND"!=this.status||(this.noActive=!1),this.projectIdValue.next({project_id_value:this.projectId}),this.getRegProjectProfessionalsDetails(),this.getAltProjectProfessionalsDetails(),this.fetchAlterationDetails(),this.getCurrentStatusofProject(),this.getBCR(),this.citySUrvey(this.projectId),this.getRegistrationDetailsOfProject(this.projectId),this.getListOfTotalAlterationOfProjects(this.projectId),this.getListOfTotalExtensionOfProjects(this.projectId),this.getListOfTotalEnquiryOfProjects(this.projectId),this.getListData(this.projectId),this.getFormFive(this.projectId),this.getQuater(this.projectId),this.getListOfProfileChangeOfProjects(this.projectId),this.getListOfProfileChangeOfProjectsAuth(this.projectId),this.getListOfProfileChangeLegalOfProjects(this.projectId),this.getListOfProfileChangeLegalOfProjectsAuth(this.projectId),this.listAlterationSection15OfProjects(this.projectId),this.getWithFeeLockingStatus(this.projectId),this.getQPRenquiriesList(this.projectId),this.getEofficeForDashboard(this.projectId),this.getCurrentInProgressData(this.projectId),this.getAuthSign(this.projectId),this._serviceCall.getCertificate(this.projectId).subscribe(t=>{console.log(t),this.recieptDownload=this.fileDownlod+t.data.certificateUid},t=>{console.log(t)}),this.getLastSubmittedQPR(this.projectId),this.getCUrrentBankAccount(this.projectId)}getCurrentStatusofProject(){this._serviceCall.getCurrentStatus(this.projectId,"PROJECT_REG_ONLINE").subscribe(t=>{"200"==t.status?(console.log(t),this.isPendingOnPromoter=!0,console.log(this.isPendingOnPromoter),console.log(1)):this.isPendingOnPromoter=!1},t=>{console.log(t),console.log(2),console.log(this.isPendingOnPromoter),this.isPendingOnPromoter=!1})}getRegProjectProfessionalsDetails(){this._serviceCall.getStatusOfAssignmentREG(this.projectId).subscribe(t=>{console.log(t),"200"==t.status?this.regProfessionalDetails=t.data:this.regProfessionalDetails={}},t=>{this.regProfessionalDetails={},console.log(t)})}getAltProjectProfessionalsDetails(){this._serviceCall.getStatusOfAssignmentALT(this.projectId).subscribe(t=>{console.log(t),"200"==t.status?this.altProfessionalDetails=t.data:this.altProfessionalDetails={}},t=>{this.altProfessionalDetails={},console.log(t)})}getBCR(){this._serviceCall.getBCRData(this.projectId).subscribe(t=>{"200"==t.code?(this.bcrData=t.data,console.log(this.bcrData)):this.bcrData=[]},t=>{this.bcrData=[],console.log(t)})}getFullBCRData(t,e){sessionStorage.setItem("BCR_MAIN_PARENT",t),"1"==e?this._router.navigate(["bcr/bcr-request"]):"2"==e?this._router.navigate(["bcr/r3-r4-submission"]):"3"==e?this._router.navigate(["bcr/bcr-view"]):"4"==e&&this._router.navigate(["bcr-without-fee/bcr-initiate"])}applyForExtension(){return this.applyPopup=!0,this.popupVal=3,!1}openQPR(){this._router.navigate(["qpr/dashboard"])}openBcr(){if(sessionStorage.removeItem("paymentModeForBCR"),"QUARTER_RET"==this.currentInProgressType.split(" ")[0]&&("SAVED"==this.currentInStatusType||"INPROGRESS"==this.currentInStatusType))return this.inputJson.next({popShow:!0,popMsg:"QPR filling is in progress, once you complete to file QPR, you can apply for Alteration, Extension, Section 15, BCR. Otherwise, please Cancel/ Delete the QPR Form allocation/submission and retry.",popClass:"alert alert-danger",popRoute:""}),!1;if("BCR_ALT"==this.currentInProgressType&&("INPROGRESS"==this.currentInStatusType||"INPROGRESS_REJECTED"==this.currentInStatusType||"REJECTED_FOR_BCR"==this.currentInStatusType)){let t,e="";if("INPROGRESS_REJECTED"==this.currentInStatusType)t="Your Bank A/c correction request process is rejected by authority. Please check authority remarks and submit the form accordingly for further processing.",e="bcr-without-fee/apply-for-changes";else{if("REJECTED_FOR_BCR"==this.currentInStatusType)return sessionStorage.setItem("paymentModeForBCR","WithPayment"),!1;t="Bank A/c correction request process is pending from authority. You can not apply further process until approval.",e=""}return this.inputJson.next({popShow:!0,popMsg:t,popClass:"alert alert-danger",popRoute:e}),!1}if("ALTERATION"!=this.currentInProgressType&&"EXTENSION"!=this.currentInProgressType&&"BCR"!=this.currentInProgressType&&("SAVED"==this.currentInStatusType||"INPROGRESS"==this.currentInStatusType)||"BCR"==this.currentInProgressType&&"INPROGRESS"==this.currentInStatusType){let t;return t="QUARTER_DEF"==this.currentInProgressType.substring(0,this.currentInProgressType.indexOf(" "))?" process is default. You can not apply BCR application before completion of pending process.":" process is still in progress. You can not apply BCR application before completion / discard of pending process.",this.inputJson.next({popShow:!0,popMsg:this.currentInProgressType+t,popClass:"alert alert-danger",popRoute:""}),!1}this.isLegalInProcess||this.isTpInProcess?this.inputJson.next({popShow:!0,popMsg:"Other process are in progress so you can not initiate Bank Change Request. After completion of other process you can start again.",popClass:"alert alert-success",popRoute:""}):(sessionStorage.removeItem("BCR_MAIN_PARENT"),this._serviceCall.getBCRLatestInformation(this.projectId).subscribe(t=>{console.log(t),console.log(t.status),null!=t.data?"INPROGRESS"==t.data.status||"PENDING_FINANCE_RA1_RA2"==t.data.status||"PENDING_CONTROLLER_RA1_RA2"==t.data.status?(console.log(1e3),this.getFullBCRData(t.data.id,1)):"BCR_ENQUIRY"==t.data.status&&null!=t.data.bcrRa3Ra4IdFk?(console.log(2e3),this.getFullBCRData(t.data.id,2)):"BCR_ENQUIRY"==t.data.status&&null==t.data.bcrRa3Ra4IdFk?(console.log(3e3),this.getFullBCRData(t.data.id,1)):"APPROVED_CONTROLLER_RA1_RA2"==t.data.status||"PENDING_FINANCE_RA3_RA4"==t.data.status||"PENDING_CONTROLLER_RA3_RA4"==t.data.status?(console.log(4e3),this.getFullBCRData(t.data.id,2)):(console.log(5e3),this.checkAlreadyApprovedData(this.projectId)):this.checkAlreadyApprovedData(this.projectId)},t=>{this.checkAlreadyApprovedData(this.projectId)}))}getPendingProjectInformation(){this._serviceCall.getPendingProjectReg().subscribe(t=>{this.projectRegResponse=t},t=>{this.projectRegResponse=[]}),this._serviceCall.getPendingProjectAlt().subscribe(t=>{this.projectAltResponse=t},t=>{this.projectAltResponse=[]})}projectEnquiries(t,e){if("tPProfileChange"!=t&&"legalProfileChange"!=t&&"QPR"!=t)"PROJECT_REG"==t||"Registration"==t?t="PROJECT_REG_ONLINE":"Alteration"==t||"Alteration"==t?t="PROJECT_ALT_ONLINE":"Extension"==t?t="PROJECT_EXT_ONLINE":"QPR"==t?t="PROJECT_QTR_ONLINE":"Alteration-15"==t&&(t="PROJECT_ALT_15_ONLINE"),sessionStorage.setItem("OEviewStatus","0"),sessionStorage.setItem("OEprocessId",e),sessionStorage.setItem("OEprocessType",t),this._router.navigate(["online-enquiry/project-view/view-enquiry"]);else if("QPR"==t){console.log(e);let t=e.split("-"),r=t[0],a=t[1];sessionStorage.setItem("quaterId",r),sessionStorage.setItem("OEquarterId",a),sessionStorage.setItem("OEprocessType","PROJECT_QTR_ONLINE"),this._router.navigate(["qpr/quarter-summary"])}else sessionStorage.setItem("profileId",e),sessionStorage.setItem("pfView","authority"),"tPProfileChange"==t?this._router.navigate(["project-profile-change/Tpchange"]):this._router.navigate(["project-profile-change/legal-profile-select"])}fetchAlterationDetails(){let t=sessionStorage.getItem("projectId");this._serviceCall.getAlterationDetails(t).subscribe(t=>{"200"==t.status?(this.alterationAvailable=!0,this.alterationDataSummary=t.data):(this.alterationAvailable=!1,this.alterationDataSummary=[])},t=>{this.alterationAvailable=!1})}ViewCurrentFormStatusInnerSide(){sessionStorage.setItem("wfoId",sessionStorage.getItem("wfoIdPR")),this._router.navigate(["workflow"])}getListOfEnquiriesForDashboard(t){this._serviceCall.getListOfEnquiriesData(t).subscribe(t=>{console.log(t),"200"==t.status?this.setEnquiryList=t.data:this.setEnquiryList=[]},t=>{this.setEnquiryList=[],console.log(t)})}getRegistrationDetailsOfProject(t){this.loadingSpinner=!0,this._serviceCall.getTotalProjectDetailsByProjectId(t).subscribe(t=>{if(this.loadingSpinner=!1,console.log("project reg summary"),console.log(t),"200"==t.status){let e=[t.data];this.viewMasterProject=[],e.forEach(t=>{let e=[];e.application="Registration",e.wfoId=t.wfoId,e.ackNo=t.projectAckNo,e.projectName=t.projectDetailsModel.projectName,e.projectType=null!=t.projectDetailsModel.projectType?t.projectDetailsModel.projectType:"--",e.submittedOn=t.lastUpdatedOn,e.initiatedOn=t.createdOn,e.viewProcessId=t.projRegId,e.viewProjectId=t.projRegId,e.cahngeLandAreaFlag="No",e.alterationType=t.alterationType,"Yes"==t.cahngeLandAreaFlag?(e.status="Land Area Change",this.viewMasterProjectPromoter.push(e)):"PENDING"==t.status&&"AWAITIGCOMP"!=t.stateCode&&"APPROVED"!=t.stateCode&&"WITHDRAWAL"!=t.stateCode?(e.status=t.stateName,e.stateCode=t.stateCode,this.viewMasterProjectAuthority.push(e)):"PENDING"!=t.status&&"LEVELONE"!=t.status&&"PENDING_HEADOFFICE"!=t.status||"AWAITIGCOMP"!=t.stateCode?"SAVEASDRAFT"==t.status?(e.status=t.status,e.alterationType=t.alterationType,this.viewMasterProjectPromoter.push(e)):"APPROVED"!=t.stateCode&&"WITHDRAWAL"!=t.stateCode||(e.status=t.stateName,e.stateCode=t.stateCode,e.processName="Registration",e.certificate=t.certificateUid,this.viewMasterProjectSummary.push(e)):(e.status=t.stateName,e.stateCode=t.stateCode,this.viewMasterProjectPromoter.push(e))})}else this.viewMasterProject=[]},t=>{this.loadingSpinner=!1,console.log(t)})}getListOfTotalAlterationOfProjects(t){this.loadingSpinner=!0,this._serviceCall.viewAlterationProjects(t).subscribe(t=>{if(this.loadingSpinner=!1,console.log("project"),console.log(t),"200"==t.status){let e=t.data;this.viewMasterProject=[],e.forEach(t=>{let e=[];e.application="Alteration",e.wfoId=t.wfoId,e.ackNo=t.projectAltAckNo,e.projectName=t.projectName,e.projectType=t.projectType,e.submittedOn=t.lastUpdatedOn,e.initiatedOn=t.createdOn,e.viewProcessId=t.projectAltrId,e.viewProjectId=t.projectRegId,e.cahngeLandAreaFlag=t.cahngeLandAreaFlag,e.alterationType=t.alterationType,"Yes"==t.cahngeLandAreaFlag?(e.status="Land Area Change",this.viewMasterProjectPromoter.push(e)):t.status.startsWith("PENDING")&&"AWAITIGCOMP"!=t.stateCode&&"APPROVED"!=t.stateCode&&"WITHDRAWAL"!=t.stateCode?(e.status=t.stateName,e.stateCode=t.stateCode,this.viewMasterProjectAuthority.push(e)):"PENDING"!=t.status&&"LEVELONE"!=t.status&&"PENDING_HEADOFFICE"!=t.status||"AWAITIGCOMP"!=t.stateCode?"SAVEASDRAFT"==t.status?(e.status="Saved As Draft",e.alterationType=t.alterationType,this.viewMasterProjectPromoter.push(e)):"APPROVED"==t.stateCode||"WITHDRAWAL"==t.stateCode||"REJECTED"==t.stateCode?(e.status=t.stateName,e.stateCode=t.stateCode,e.processName="Alteration",e.certificate=t.projectCertUId,this.viewMasterProjectSummary.push(e)):"STAGE2"==t.stateCode&&(e.status=t.stateName,e.stateCode=t.stateCode,e.alterationType=t.alterationType,e.projectAltrId=t.projectAltrId,e.processName="Alteration",this.viewMasterProjectPromoter.push(e)):(e.status=t.stateName,e.stateCode=t.stateCode,this.viewMasterProjectPromoter.push(e))})}else this.viewMasterProject=[]},t=>{this.loadingSpinner=!1,console.log(t)})}getListOfTotalExtensionOfProjects(t){this.loadingSpinner=!0,this._serviceCall.viewExtensionProjects(t).subscribe(t=>{if(this.loadingSpinner=!1,console.log("sssss"),console.log(t),console.log("sssss222"),t){t.forEach(t=>{let e=[];e.application="Extension",e.wfoId=t.wfoId,e.projectName=t.projectName,e.projectType=null!=t.projectType?t.projectType:"--",e.ackNo=t.projectExtAckNo,e.status=t.status,e.submittedOn=t.lastUpdatedOn,e.initiatedOn=t.appSubmissionDate,e.viewProcessId=t.id,e.viewProjectId=t.projectId,e.cahngeLandAreaFlag=t.cahngeLandAreaFlag,t.status.startsWith("PENDING")&&"AWAITIGCOMP"!=t.stateCode&&"APPROVED"!=t.stateCode&&"WITHDRAWAL"!=t.stateCode?(e.status=t.stateName,e.stateCode=t.stateCode,this.viewMasterProjectAuthority.push(e)):"PENDING"!=t.status&&"LEVELONE"!=t.status&&"PENDING_HEADOFFICE"!=t.status||"AWAITIGCOMP"!=t.stateCode?"SAVEASDRAFT"==t.status||"INPROGRESS"==t.status?(e.status="Saved As Draft",this.viewMasterProjectPromoter.push(e),sessionStorage.setItem("extId",t.id)):"APPROVED"!=t.stateCode&&"WITHDRAWAL"!=t.stateCode||(e.status=t.stateName,e.stateCode=t.stateCode,e.processName="Extension",e.profileType="",e.certificate=t.certificateUid,this.viewMasterProjectSummary.push(e)):(e.status=t.stateName,e.stateCode=t.stateCode,this.viewMasterProjectPromoter.push(e))})}},t=>{this.loadingSpinner=!1,console.log(t)})}stage2Data(t){sessionStorage.setItem("projectAltrId",t),this._router.navigate(["section15/stage2-document"])}getListOfTotalEnquiryOfProjects(t){this.loadingSpinner=!0,this._serviceCall.viewEnquiriesProjects(t).subscribe(t=>{if(this.loadingSpinner=!1,console.log(t),"200"==t.status){t.data.forEach(t=>{let e=[];e.application="Enquiry",e.projectName=t.projectName,e.wfoId=t.wfoId,e.projectType=t.projectType?t.projectType:"--",e.ackNo=t.equiryNo,e.status=t.status,e.submittedOn=t.updatedOn,e.initiatedOn=t.createdOn,e.viewProcessId=t.onlineEnquiryid,e.viewProjectId=t.projectId,e.stateCode="EnquiryView",e.cahngeLandAreaFlag="No","PROJECT_REG_ONLINE"==t.processType?e.processName="Registration":"PROJECT_ALT_ONLINE"==t.processType?e.processName="Alteration":"PROJECT_ALT_15_ONLINE"==t.processType?e.processName="Alteration-15":"PROJECT_EXT_ONLINE"==t.processType?e.processName="Extension":"PROJECT_QTR_ONLINE"==t.processType&&(e.processName="Quarter"),e.profileType="",this.viewMasterProjectSummary.push(e)}),console.log(this.viewMasterProjectSummary)}},t=>{this.loadingSpinner=!1,console.log(t)})}citySUrvey(t){this._serviceCall.getCitySurveyProject(this.projectId).subscribe(t=>{if(console.log(t),console.log("qqqqqqqqqqqqqqqqqq"),"200"==t.status){let e=t.data,r=t.data;e.forEach(t=>{let e=[];e.application="sealForTrust",e.projectName=t.projectName,e.promoterName=t.promoterName,e.projectType=t.projectType?t.projectType:"--",e.ackNo=t.ackNo,e.status=t.statusName,e.viewProjectId=t.projectId,"PENDING_WITH_AUTH"==t.statusName&&this.viewMasterProjectAuthority.push(e)}),r.forEach(t=>{let e=[];e.application="sealForTrust",e.projectName=t.projectName,e.promoterName=t.promoterName,e.projectType=t.projectType?t.projectType:"--",e.ackNo=t.ackNo,e.status=t.statusName,e.viewProjectId=t.projectId,"REVIEW"==t.statusName&&this.viewMasterProjectPromoter.push(e)})}})}getListOfProfileChangeOfProjectsAuth(t){this.loadingSpinner=!0,this._serviceCall.getTotalProjectProfile(t).subscribe(t=>{if(this.loadingSpinner=!1,console.log(t),"200"==t.status){t.data.forEach(t=>{if("DISCARDED"!=t.status){let e=[];"Approved"!=t.status&&"REJECTED"!=t.status&&(this.currentInProgressType="TP Profile Change",this.currentInStatusType="INPROGRESS"),e.application="tPProfileChange",e.projectName=t.displayProjectName,e.wfoId=t.pcwfId,e.projectType=t.projectType,e.ackNo=t.tpAckNo,e.status=t.status,e.submittedOn=t.projectNameF,e.initiatedOn=t.authorizeSign,e.viewProcessId=t.pcwfId,e.viewProjectId=t.projectId,e.stateCode="ProfileView",e.cahngeLandAreaFlag="No",e.processName="TP Profile",e.profileType="","INPROGRESS"==t.status&&(e.ackNo=""),"INPROGRESS"!=t.status&&"Enquiry"!=t.status&&"APPROVED"!=t.status&&"Approved"!=t.status&&"Rejected"!=t.status&&"REJECTED"!=t.status?this.viewMasterProjectAuthority.push(e):"Approved"==t.status||"APPROVED"==t.status||"Rejected"==t.status||"REJECTED"==t.status?this.viewMasterProjectSummary.push(e):"Enquiry"==t.status&&(e.stateCode="AWAITIGCOMP",this.viewMasterProjectPromoter.push(e),sessionStorage.setItem("pfView","authority"))}}),console.log(this.viewMasterProjectSummary)}},t=>{this.loadingSpinner=!1,console.log(t)})}getListOfProfileChangeOfProjects(t){this.loadingSpinner=!0;let e=[];this._serviceCall.getTotalProjectProfilePcwf(t).subscribe(t=>{let r;this.loadingSpinner=!1,console.log(t),"200"==t.status&&(r=[],t.data.forEach(t=>{"DISCARDED"!=t.status&&t.tpModel&&(t.tpModel.profileType=t.pfcType,t.tpModel.mainId=t.id,r.push(t.tpModel))}),r.length>0&&(console.log(r),e=r,e.forEach(t=>{let e=[];"Approved"!=t.status&&"REJECTED"!=t.status&&(this.currentInProgressType="TP Profile Change",this.currentInStatusType="INPROGRESS"),e.application="tPProfileChange",e.projectName=t.displayProjectName,e.wfoId=t.mainId,e.projectType=t.projectType,e.ackNo=t.tpAckNo,e.status=t.status,e.submittedOn=t.projectNameF,e.initiatedOn=t.authorizeSign,e.viewProcessId=t.mainId,e.viewProjectId=t.projectId,e.stateCode="ProfileView",e.cahngeLandAreaFlag="No",e.processName="TP Profile",e.profileType=t.profileType,"INPROGRESS"==t.status&&(e.ackNo=""),"TP_LEGAL_PCWF"==t.profileType&&this.currentInProgressType&&(e.processName="Both (TP and Legal)",this.currentInProgressType="Both (TP and Legal)"),"INPROGRESS"!=t.status&&"Enquiry"!=t.status&&"APPROVED"!=t.status&&"Approved"!=t.status&&"Rejected"!=t.status&&"REJECTED"!=t.status?this.viewMasterProjectAuthority.push(e):"Enquiry"==t.status?(e.stateCode="AWAITIGCOMP",this.viewMasterProjectPromoter.push(e),sessionStorage.setItem("pfView","authority")):"INPROGRESS"==t.status?this.viewMasterProjectPromoter.push(e):"Approved"!=t.status&&"APPROVED"!=t.status&&"Rejected"!=t.status&&"REJECTED"!=t.status||this.viewMasterProjectSummary.push(e)})),console.log(this.viewMasterProjectSummary,this.viewMasterProjectPromoter))},t=>{this.loadingSpinner=!1,console.log(t)})}getListOfProfileChangeLegalOfProjectsAuth(t){this.loadingSpinner=!0,this._serviceCall.getTotalProjectProfileLegal(t).subscribe(t=>{if(this.loadingSpinner=!1,"200"==t.status){t.data.forEach(t=>{if("DISCARDED"!=t.status){let e=[];"Approved"!=t.status&&"REJECTED"!=t.status&&(this.currentInProgressType="Legal Profile Change",this.currentInStatusType="INPROGRESS"),e.application="legalProfileChange",e.projectName=t.projectName,e.wfoId=t.legalId,e.projectType=t.projectType,e.ackNo=t.legalAckNo,e.status=t.status,e.submittedOn=t.submitedOn,e.initiatedOn=t.createdOn,e.viewProcessId=t.legalId,e.viewProjectId=t.projectId,e.stateCode="ProfileView",e.cahngeLandAreaFlag="No",e.processName="Legal Profile",e.profileType="","INPROGRESS"==t.status&&(e.ackNo=""),"INPROGRESS"!=t.status&&"Enquiry"!=t.status&&"APPROVED"!=t.status&&"Approved"!=t.status&&"Rejected"!=t.status&&"REJECTED"!=t.status?this.viewMasterProjectAuthority.push(e):"Approved"==t.status||"APPROVED"==t.status||"Rejected"==t.status||"REJECTED"==t.status?this.viewMasterProjectSummary.push(e):"Enquiry"==t.status&&(e.stateCode="AWAITIGCOMP",this.viewMasterProjectPromoter.push(e),sessionStorage.setItem("pfView","authority"))}}),console.log(this.viewMasterProjectSummary)}},t=>{this.loadingSpinner=!1,console.log(t)})}getListOfProfileChangeLegalOfProjects(t){this.loadingSpinner=!0,console.log("calling a"),this._serviceCall.getTotalProjectProfileLegalPcwf(t).subscribe(t=>{let e;if(this.loadingSpinner=!1,console.log("data-check",t.data),"200"==t.status){if(e=[],t.data.forEach(t=>{"DISCARDED"!=t.status&&t.legalModel&&"TP_LEGAL_PCWF"!=t.pfcType&&(t.legalModel.mainId=t.id,e.push(t.legalModel))}),console.log("legal data",e),e.length>0){e.forEach(t=>{let e=[];"Approved"!=t.status&&"REJECTED"!=t.status&&"DISCARDED"!=t.status&&(this.currentInProgressType="Legal Profile Change",this.currentInStatusType="INPROGRESS"),e.application="legalProfileChange",e.projectName=t.projectName,e.wfoId=t.mainId,e.projectType=t.projectType,e.ackNo=t.legalAckNo,e.status=t.status,e.submittedOn=t.submitedOn,e.initiatedOn=t.createdOn,e.viewProcessId=t.mainId,e.viewProjectId=t.projectId,e.stateCode="ProfileView",e.cahngeLandAreaFlag="No",e.processName="Legal Profile",e.profileType="","INPROGRESS"==t.status&&(e.ackNo=""),"INPROGRESS"!=t.status&&"Enquiry"!=t.status&&"APPROVED"!=t.status&&"Approved"!=t.status&&"Rejected"!=t.status&&"REJECTED"!=t.status?this.viewMasterProjectAuthority.push(e):"Enquiry"==t.status?(e.stateCode="AWAITIGCOMP",this.viewMasterProjectPromoter.push(e),sessionStorage.setItem("pfView","authority")):"INPROGRESS"==t.status?this.viewMasterProjectPromoter.push(e):"Approved"!=t.status&&"APPROVED"!=t.status&&"Rejected"!=t.status&&"REJECTED"!=t.status||this.viewMasterProjectSummary.push(e)})}console.log(this.viewMasterProjectSummary,this.viewMasterProjectPromoter)}},t=>{this.loadingSpinner=!1,console.log(t)})}getQPRenquiriesList(t){this.loadingSpinner=!0,this._serviceCall.qprEnquiries(t).subscribe(t=>{if(this.loadingSpinner=!1,console.log("qpr access",t),"200"==t.status){t.data.forEach(t=>{let e=[];e.application="QPR",e.projectName=t.projectName,e.wfoId=t.qtrId,e.projectType=t.quarterName,e.ackNo="--",e.status=t.status,e.submittedOn=t.raisedOn,e.initiatedOn=t.raisedOn,e.viewProcessId=t.qtrId+"-"+t.enqId,e.viewProjectId="",e.stateCode="",e.cahngeLandAreaFlag="No",e.processName="QPR",e.profileType="","INPROGRESS"!=t.status&&"ENQUIRY"!=t.status&&"APPROVED"!=t.status&&"Approved"!=t.status&&"Rejected"!=t.status&&"REJECTED"!=t.status?this.viewMasterProjectAuthority.push(e):"ENQUIRY"==t.status?(e.stateCode="AWAITIGCOMP",this.viewMasterProjectPromoter.push(e)):"INPROGRESS"==t.status?this.viewMasterProjectPromoter.push(e):"Approved"!=t.status&&"APPROVED"!=t.status&&"Rejected"!=t.status&&"REJECTED"!=t.status||this.viewMasterProjectSummary.push(e)}),console.log(this.viewMasterProjectSummary)}},t=>{this.loadingSpinner=!1,console.log(t)})}listAlterationSection15OfProjects(t){this.loadingSpinner=!0,this._serviceCall.getTotalSection15Response(t).subscribe(t=>{if(this.loadingSpinner=!1,console.log("project"),console.log(t),"200"==t.status){let e=t.data;this.viewMasterProject=[],e.forEach(t=>{let e=[];e.application="Alteration-15",e.wfoId=t.wfoId,e.ackNo=t.projectAltAckNo,e.projectName=t.projectName,e.projectType=null!=t.projectType?t.projectType:"--",e.submittedOn=t.lastUpdatedOn,e.initiatedOn=t.createdOn,e.viewProcessId=t.projectAltrId,e.viewProjectId=t.projectRegId,e.cahngeLandAreaFlag="No",e.alterationType=t.alterationType,e.stage=t.stageOneStatus,"Yes"==t.cahngeLandAreaFlag?(e.status="Land Area Change",this.viewMasterProjectPromoter.push(e)):"PENDING"==t.status&&"AWAITIGCOMP"!=t.stateCode&&"APPROVED"!=t.stateCode&&"COMPLETED"!=t.stageOneStatus?(e.status=t.stateName,e.stateCode=t.stateCode,this._serviceCall.getWithdrawStatus(t.projectAltrId,"PROJECT_ALT_15").subscribe(t=>{"200"==t.status&&"REFUNDED"==t.data.wfStateCode?this.viewMasterProjectSummary.push(e):this.viewMasterProjectAuthority.push(e)},t=>{this.viewMasterProjectAuthority.push(e)})):"PENDING"==t.status&&"AWAITIGCOMP"==t.stateCode?(e.status=t.stateName,e.stateCode=t.stateCode,this.viewMasterProjectPromoter.push(e)):"SAVEASDRAFT"==t.status?(e.status="Saved As Draft",e.alterationType=t.alterationType,this.viewMasterProjectPromoter.push(e)):"APPROVED"==t.stateCode||"COMPLETED"==t.stageOneStatus?(e.status=t.stateName,e.stateCode=t.stateCode,e.processName="Alteration",e.certificate=t.projectCertUId,e.stageTwoStatus=t.stageTwoStatus,this.viewMasterProjectSummary.push(e)):"STAGE2"==t.stateCode&&"COMPLETED"!=t.stageOneStatus&&(e.status=t.stateName,e.stateCode=t.stateCode,e.alterationType=t.alterationType,e.projectAltrId=t.projectAltrId,e.processName="Alteration",this.viewMasterProjectPromoter.push(e))}),console.log(this.viewMasterProjectPromoter)}else this.viewMasterProject=[]},t=>{this.loadingSpinner=!1,console.log(t)})}ProjectSurvey(){this._router.navigate(["seal-trust-promoter"])}navigationManagment(t,e,r,a,i,s,n=""){console.log("redirectionType",a),console.log("wfoId",i),sessionStorage.setItem("outSideAccess","outSideAccess"),"tPProfileChange"!=r&&"legalProfileChange"!=r?"newRedirect"==a?"Alteration"==r?(sessionStorage.setItem("wfoId",i),sessionStorage.setItem("projectAltrId",t),sessionStorage.setItem("returnFullView","Alteration"),this._router.navigate(["project-alteration/promoter-detail"])):"Alteration-15"==r?(sessionStorage.setItem("wfoId",i),sessionStorage.setItem("projectAltrId",t),sessionStorage.setItem("stageOneOpen","stageOne"),sessionStorage.setItem("returnFullView","Alteration"),this._router.navigate(["section15/promoter-detail"])):"Extension"==r?(sessionStorage.setItem("wfoId",i),sessionStorage.setItem("extId",t),sessionStorage.setItem("extPaymentStatus","true"),this._router.navigate(["extension/apply-extension"])):"Registration"==r&&(sessionStorage.setItem("wfoId",i),this._router.navigate(["project-registration/promotor-detail"])):(console.log(t+"   ---- "+e+" ----- "+r),"Alteration"==r?(sessionStorage.setItem("returnFullView","Alteration"),sessionStorage.setItem("projectAltrId",t),this._router.navigate(["project-alteration/promoter-detail"])):"Alteration-15"==r?(sessionStorage.setItem("returnFullView","Alteration"),sessionStorage.setItem("projectAltrId",t),this._router.navigate(["section15/promoter-detail"])):"Extension"==r?(sessionStorage.setItem("extId",t),this._router.navigate(["extension/apply-extension"])):("EnquiryView"==r||"BCR"==r)&&this._router.navigate(["bcr/bcr-request"])):("Authority"==s&&sessionStorage.setItem("pfView","authority"),sessionStorage.setItem("profileId",i),"TP_LEGAL_PCWF"==n?(sessionStorage.setItem("pfcType","TP_LEGAL_PCWF"),this._router.navigate(["project-profile-change/Tpchange"])):"tPProfileChange"==r?(this._router.navigate(["project-profile-change/Tpchange"]),sessionStorage.setItem("pfcType","TP_PCWF")):(this._router.navigate(["project-profile-change/legal-profile-select"]),sessionStorage.setItem("pfcType","LEGAL_PCWF")))}alterationAction(t){if(sessionStorage.setItem("alterationType",t),"QUARTER_RET"==this.currentInProgressType.split(" ")[0]&&("SAVED"==this.currentInStatusType||"INPROGRESS"==this.currentInStatusType))return this.inputJson.next({popShow:!0,popMsg:"QPR filling is in progress, once you complete to file QPR, you can apply for Alteration, Extension, Section 15, BCR. Otherwise, please Cancel/ Delete the QPR Form allocation/submission and retry.",popClass:"alert alert-danger",popRoute:""}),!1;if("BCR_ALT"==this.currentInProgressType&&("INPROGRESS"==this.currentInStatusType||"INPROGRESS_REJECTED"==this.currentInStatusType||"REJECTED_FOR_BCR"==this.currentInStatusType)){let t,e="";if("INPROGRESS_REJECTED"==this.currentInStatusType)t="Your Bank A/c correction request process is rejected by authority. Please check authority remarks and submit the form accordingly for further processing.",e="bcr-without-fee/apply-for-changes";else{if("REJECTED_FOR_BCR"==this.currentInStatusType)return sessionStorage.setItem("paymentModeForBCR","WithPayment"),!1;t="Bank A/c correction request process is pending from authority. You can not apply further process until approval.",e=""}return this.inputJson.next({popShow:!0,popMsg:t,popClass:"alert alert-danger",popRoute:e}),!1}if("ALTERATION"!=this.currentInProgressType&&("SAVED"==this.currentInStatusType||"INPROGRESS"==this.currentInStatusType)||"ALTERATION"==this.currentInProgressType&&"INPROGRESS"==this.currentInStatusType){let t;return t="QUARTER_DEF"==this.currentInProgressType.substring(0,this.currentInProgressType.indexOf(" "))?" process is default. You can not apply Alteration application before completion of pending process.":" process is still in progress. You can not apply Alteration application before completion / discard of pending process.",this.inputJson.next({popShow:!0,popMsg:this.currentInProgressType+t,popClass:"alert alert-danger",popRoute:""}),!1}if("ALTERATION"!=this.currentInProgressType&&"DEFAULT"==this.currentInStatusType)return this.inputJson.next({popShow:!0,popMsg:this.currentInProgressType+" is default and hence you can not apply for Alteration/ Extension/ Section 15 till the Defaulted\xa0Quarter is not submitted.",popClass:"alert alert-danger",popRoute:""}),!1;this.applyPopup=!0,this.popupVal=1}alterationSec15Action(){if("QUARTER_RET"==this.currentInProgressType.split(" ")[0]&&("SAVED"==this.currentInStatusType||"INPROGRESS"==this.currentInStatusType))return this.inputJson.next({popShow:!0,popMsg:"QPR filling is in progress, once you complete to file QPR, you can apply for Alteration, Extension, Section 15, BCR. Otherwise, please Cancel/ Delete the QPR Form allocation/submission and retry.",popClass:"alert alert-danger",popRoute:""}),!1;if("BCR_ALT"==this.currentInProgressType&&("INPROGRESS"==this.currentInStatusType||"INPROGRESS_REJECTED"==this.currentInStatusType||"REJECTED_FOR_BCR"==this.currentInStatusType)){let t,e="";if("INPROGRESS_REJECTED"==this.currentInStatusType)t="Your Bank A/c correction request process is rejected by authority. Please check authority remarks and submit the form accordingly for further processing.",e="bcr-without-fee/apply-for-changes";else{if("REJECTED_FOR_BCR"==this.currentInStatusType)return sessionStorage.setItem("paymentModeForBCR","WithPayment"),!1;t="Bank A/c correction request process is pending from authority. You can not apply further process until approval.",e=""}return this.inputJson.next({popShow:!0,popMsg:t,popClass:"alert alert-danger",popRoute:e}),!1}if("ALT_SEC-15"!=this.currentInProgressType&&("SAVED"==this.currentInStatusType||"INPROGRESS"==this.currentInStatusType)||"ALT_SEC-15"==this.currentInProgressType&&"INPROGRESS"==this.currentInStatusType){let t;return t="QUARTER_DEF"==this.currentInProgressType.substring(0,this.currentInProgressType.indexOf(" "))?" process is default. You can not apply Alteration Section 15 application before completion of pending process.":" process is still in progress. You can not apply Alteration Section 15 application  before completion / discard of pending process.",this.inputJson.next({popShow:!0,popMsg:this.currentInProgressType+t,popClass:"alert alert-danger",popRoute:""}),!1}if("ALT_SEC-15"!=this.currentInProgressType&&"DEFAULT"==this.currentInStatusType)return this.inputJson.next({popShow:!0,popMsg:this.currentInProgressType+" is default and hence you can not apply for Alteration/ Extension/ Section 15 till the Defaulted\xa0Quarter is not submitted.",popClass:"alert alert-danger",popRoute:""}),!1;this.applyPopup=!0,this.popupVal=2}projectEnquiriesView(t,e){console.log(t+"    "+e),"PROJECT_REG"==t||"Registration"==t?t="PROJECT_REG_ONLINE":"Alteration"==t||"PROJECT_ALT"==t?t="PROJECT_ALT_ONLINE":"Extension"==t||"PROJECT_EXT"==t?t="PROJECT_EXT_ONLINE":"QPR"!=t&&"PROJECT_QTR"!=t||(t="PROJECT_QTR_ONLINE"),sessionStorage.setItem("OEviewStatus","1"),sessionStorage.setItem("OEprocessId",e),sessionStorage.setItem("OEprocessType",t),this._router.navigate(["online-enquiry/project-view/view-enquiry"])}getListData(t){console.log(this.projectId),this._serviceCall.getProjectFormFiveDetail(t).subscribe(t=>{this.formFiveDetail=t.data,console.log(this.formFiveDetail)},t=>{console.log(t)})}setData(t,e=""){if(this.filterData=this.formFiveDetail.formFiveList.filter((function(t){return"ACTIVE"==t.financialYearStatus})),sessionStorage.setItem("formFiveId",t),console.log("current fy clicked",e),!["ACTIVE","ESIGNED","DEFAULT-ACTIVE","SUBMITTED"].includes(e))return!1;this._router.navigate(["project-dashboard/project-view/initiate-form-five"])}ProjectWithdraw(t,e,r,a){this.projectRegIdForSelector.next({workflowId:t,projectId:r,processType:e,processId:a}),this.WithdrawPopup=!0}closePopupWithdraw(){this.WithdrawPopup=!1}GetChildData(t){console.log("childdata"),console.log(t),this.WithdrawPopup=!1,this.inputJson.next({popShow:!0,popMsg:"Your Withdrawal Request has been submitted successfully.",popClass:"alert alert-success",popRoute:""}),this.ngOnInit()}payChangeLandArea(t,e){console.log(t),this._changeLandArea.ChangeLandArea.next({projectId:t,showPopUp:!0,processType:e,showDetails:!0})}assignProffesional(t){this.loadingSpinner=!0,this._serviceCall.getProffesional(this.projectId).subscribe(t=>{if(this.loadingSpinner=!1,console.log(t,"uppi"),"200"==t.status){this.getassignProffesional=t.data;for(let t=0;t<this.getassignProffesional.length;t++){let e;e="PROJECT_REG"==this.getassignProffesional[t].process_type?"Registration":"PROJECT_ALT"==this.getassignProffesional[t].process_type?" Alteration":"PROJECT_EXT"==this.getassignProffesional[t].process_type?"Extension":"PROJECT_REG_ONLINE"==this.getassignProffesional[t].process_type?"Registartion Enquiry":"PROJECT_ALT_ONLINE"==this.getassignProffesional[t].process_type?"Alteration Enquiry":"PROJECT_EXT_ONLINE"==this.getassignProffesional[t].process_type?"Extension Enquiry":"QTR","ACCEPTED"==this.getassignProffesional[t].f1_status||this.regArray.push({documentType:"Form 1",applicationOn:e,formId:this.getassignProffesional[t].form_one_id,status:this.getassignProffesional[t].f1_status,dateofAllocation:this.getassignProffesional[t].f1_assigned_on,professionlName:this.getassignProffesional[t].f1_assigned_user_name}),"ACCEPTED"==this.getassignProffesional[t].f2_status||this.regArray.push({documentType:"Form 2",applicationOn:e,formId:this.getassignProffesional[t].form_two_id,status:this.getassignProffesional[t].f2_status,dateofAllocation:this.getassignProffesional[t].f2_assigned_on,professionlName:this.getassignProffesional[t].f2_assigned_user_name}),"ACCEPTED"==this.getassignProffesional[t].f3_status||this.regArray.push({documentType:"Form 3",applicationOn:e,formId:this.getassignProffesional[t].form_three_id,status:this.getassignProffesional[t].f3_status,dateofAllocation:this.getassignProffesional[t].f3_assigned_on,professionlName:this.getassignProffesional[t].f3_assigned_user_name})}}},t=>{this.loadingSpinner=!1,console.log(t)})}getFormFive(t){this._serviceCall.getFormFiveData(t).subscribe(t=>{"200"==t.status&&this.formFiveArray.push({documentType:"Form 5",applicationOn:"Form 5",formId:t.data.formFiveId,status:t.data.status,dateofAllocation:t.data.lastUpdatedOn,professionlName:t.data.caName})},t=>{console.log(t)})}getQuater(t){this._serviceCall.getQuaterData(t).subscribe(t=>{"200"==t.status?this.quaterList=t.data:this.quaterList=[]},t=>{this.quaterList=[],console.log(t)})}quaterPage(t){this._router.navigate(["qtr/enquiry"]),sessionStorage.setItem("quarterId",t)}profileChangeRedirect(t,e){let r;if(sessionStorage.removeItem("profileId"),sessionStorage.removeItem("pfView"),"BCR_ALT"==this.currentInProgressType&&("INPROGRESS"==this.currentInStatusType||"INPROGRESS_REJECTED"==this.currentInStatusType||"REJECTED_FOR_BCR"==this.currentInStatusType)){let t,e="";if("INPROGRESS_REJECTED"==this.currentInStatusType)t="Your Bank A/c correction request process is rejected by authority. Please check authority remarks and submit the form accordingly for further processing.",e="bcr-without-fee/apply-for-changes";else{if("REJECTED_FOR_BCR"==this.currentInStatusType)return sessionStorage.setItem("paymentModeForBCR","WithPayment"),!1;t="Bank A/c correction request process is pending from authority. You can not apply further process until approval.",e=""}return this.inputJson.next({popShow:!0,popMsg:t,popClass:"alert alert-danger",popRoute:e}),!1}if("SAVED"==this.currentInStatusType||"INPROGRESS"==this.currentInStatusType||"DEFAULT"==this.currentInStatusType){let t;return t="QUARTER_DEF"==this.currentInProgressType.substring(0,this.currentInProgressType.indexOf(" "))?" process is default. You can not apply Profile Change request before completion of pending process.":" process is still in progress. You can not apply Profile Change request before completion / discard of pending process.",this.inputJson.next({popShow:!0,popMsg:this.currentInProgressType+t,popClass:"alert alert-danger",popRoute:""}),!1}r=2==t?"project-profile-change/legal-profile-select":"project-profile-change/Tpchange",sessionStorage.setItem("pfcType",e),this._router.navigate([r])}slideNav(t){document.getElementById("slideNav").classList.toggle("active")}prChangeMenu(t){document.getElementById("prChangeMenu").classList.toggle("active")}prChangeMenuWF(t){document.getElementById("prChangeMenuWF").classList.toggle("active")}getWithFeeLockingStatus(t){this.loadingSpinner=!0,this._serviceCall.lockingWithFee(t).subscribe(t=>{this.loadingSpinner=!1,console.log(t),"200"==t.code&&Object.keys(t.data).length>0&&(this.isTpInProcess="TP"==t.data.tp,this.isLegalInProcess="LEGAL"==t.data.legal,this.isBCRInProcess="BCR"==t.data.bcr)},t=>{this.loadingSpinner=!1,console.log(t)})}getEofficeForDashboard(t){this._serviceCall.getEofficeData(t).subscribe(t=>{console.log("----eoffice data----------"),console.log(t),"200"==t.status?this.setEofficedata=t.data:this.setEofficedata=[]},t=>{this.setEofficedata=[],console.log(t)})}printAvailability(t){return"Alteration"==t||"Registration"==t||"Extension"==t||"Alteration-15"==t||"tPProfileChange"==t||"legalProfileChange"==t}printApplication(t){let e=t.application,r=t.wfoId,a=t.viewProcessId,i=t.ackNo;console.log(t),sessionStorage.setItem("wfoId",r),"Registration"==e?this._router.navigate(["registration/print-project"]):"Alteration"==e?(sessionStorage.setItem("projectAckNO",i),sessionStorage.setItem("projectAltrId",a),this._router.navigate(["alteration/project-print"])):"Extension"==e?(sessionStorage.setItem("projectAckNO",i),sessionStorage.setItem("extId",a),this._router.navigate(["extension-p/print-extension"])):"Alteration-15"==e?(sessionStorage.setItem("projectAltrId",a),sessionStorage.setItem("projectAckNO",i),this._router.navigate(["alterationsec15stageone/project-print"])):"legalProfileChange"==e?(sessionStorage.setItem("legalId",a),sessionStorage.setItem("profileId",a),sessionStorage.setItem("printSummary","printSummary"),sessionStorage.setItem("pfView","authority"),sessionStorage.setItem("printAcklegal",i),this._router.navigate(["legal-detail/legal-detail-print"])):"tPProfileChange"==e&&(sessionStorage.setItem("printSummary","printSummary"),sessionStorage.setItem("profileId",a),sessionStorage.setItem("Projectname",t.submittedOn),sessionStorage.setItem("Authsign",t.initiatedOn),sessionStorage.setItem("pfView","authority"),sessionStorage.setItem("printAcklegal",i),this._router.navigate(["tp-detail/tp-detail-print"]))}getCurrentInProgressData(t){this.loadingSpinner=!0,this._serviceCall.getCurrentInProgressData(t).subscribe(t=>{this.loadingSpinner=!1,"201"==t.status&&(Object.keys(t.data).length>0?(this.currentInProgressType=t.data.type,this.currentInStatusType=t.data.status):(this.currentInProgressType="",this.currentInStatusType=""))},t=>{this.loadingSpinner=!1,console.log(t)})}popupOk(){1==this.popupVal?this._router.navigate(["project-alteration/promoter-detail"]):2==this.popupVal?this._router.navigate(["section15/promoter-detail"]):3==this.popupVal&&this._router.navigate(["extension/apply-extension"]),sessionStorage.removeItem("returnFullView"),sessionStorage.removeItem("projectAltrId"),this.applyPopup=!1}popupCheckClose(){this.applyPopup=!1}toDiscardThis(t,e){this.loadingSpinner=!0,this._serviceCall.discardThisProcess(t,e).subscribe(t=>{this.loadingSpinner=!1,this.viewMasterProjectPromoter=[],this.viewMasterProjectAuthority=[],this.viewMasterProjectSummary=[],this.currentInProgressType="",this.currentInStatusType="",this.getRegProjectProfessionalsDetails(),this.getAltProjectProfessionalsDetails(),this.fetchAlterationDetails(),this.getCurrentStatusofProject(),this.getBCR(),this.citySUrvey(this.projectId),this.getRegistrationDetailsOfProject(this.projectId),this.getListOfTotalAlterationOfProjects(this.projectId),this.getListOfTotalExtensionOfProjects(this.projectId),this.getListOfTotalEnquiryOfProjects(this.projectId),this.getListData(this.projectId),this.getFormFive(this.projectId),this.getQuater(this.projectId),this.getListOfProfileChangeOfProjects(this.projectId),this.getListOfProfileChangeOfProjectsAuth(this.projectId),this.getListOfProfileChangeLegalOfProjects(this.projectId),this.getListOfProfileChangeLegalOfProjectsAuth(this.projectId),this.listAlterationSection15OfProjects(this.projectId),this.getWithFeeLockingStatus(this.projectId),this.getQPRenquiriesList(this.projectId),this.getEofficeForDashboard(this.projectId),this.getCurrentInProgressData(this.projectId),console.log(t),this.inputJson.next({popShow:!0,popMsg:"This process has been discarded.",popClass:"alert alert-success",popRoute:""})},t=>{this.loadingSpinner=!1,console.log(t),this.inputJson.next({popShow:!0,popMsg:"Error "+t.status+": Something went Wrong.",popClass:"alert alert-danger",popRoute:""})})}showConfirmation(t,e){console.log(t),t&&(this.returnIdForDisacrd=t,this.processName=e,this.confirmationEventB.next({flag:!0,messageV:"Are you sure want to discard this process? This can not be undone!"}))}confirmationEvent(t){console.log(t),"OK"==t?"BCR"==this.isPopClickedFor?(sessionStorage.removeItem("paymentModeForBCR"),this._router.navigate(["bcr-without-fee/bcr-initiate"])):(this.toDiscardThis(this.returnIdForDisacrd,this.processName),sessionStorage.removeItem("projectAltrId"),sessionStorage.removeItem("extId")):"CANCEL"!=t&&"Cancel"!=t||(console.log("this.isPopClickedFor",this.isPopClickedFor),"BCR"==this.isPopClickedFor&&(sessionStorage.setItem("paymentModeForBCR","WithPayment"),this._router.navigate(["bcr/bcr-request"])))}getAuthSign(t){this._workflowService.authSign(t).subscribe(t=>{console.log(t),sessionStorage.setItem("projectAuthSigId",t.data)},t=>{console.log(t)})}createTicketFunction(t,e,r){sessionStorage.setItem("editDetailsTicket",r),sessionStorage.setItem("ticketProcessId",t),sessionStorage.setItem("ticketProcessType",e),this.tabfir=!0,this.tabsec=!1,this.tabTicket=!1,this.ticketPopUp.next({popUpEnable:!0,porjEdit:!0})}setTotalFetchable(t,e){console.log(e,"valueeee"),sessionStorage.setItem("previousDetailCheck","false"),sessionStorage.setItem("projectHeadCheck","false"),sessionStorage.setItem("reraDetailsCheck","false"),sessionStorage.setItem("associateVendorCheck","false"),sessionStorage.setItem("financialDocscheck","false"),1==e&&(sessionStorage.removeItem("previousDetailCheck"),sessionStorage.setItem("previousDetailCheck","true")),4==e&&(sessionStorage.removeItem("associateVendorCheck"),sessionStorage.setItem("associateVendorCheck","true")),5==e&&(sessionStorage.removeItem("financialDocscheck"),sessionStorage.setItem("financialDocscheck","true")),this._router.navigate(["/project-profile-change/pf-detail-without-fees"])}};h.ctorParameters=()=>[{type:u.a},{type:n.e},{type:c},{type:l.a},{type:d.a},{type:s.e}],h=a.b([Object(i.n)({selector:"app-project-dashboard",template:a.c(r("P9oO")).default,styles:[a.c(r("q9cf")).default]})],h);var m=r("vp6C"),g=r("s7LF");let b=class{constructor(t,e,r,a,i){this.fb=t,this.promoterFormFiveService=e,this.api=r,this.route=a,this._date=i,this.initiateFormData={status:""},this.verifyResponse={firstName:"",emailId:"",mobileNo:""},this.inputJson=new p.a({}),this.dataDisplayCA=[],this.tooltipJson=new p.a({}),this.inq=!1,this.history=!1,this.defaulterFiveData=[],this.confirmationEventB=new p.a({}),this.actionType="",this.tempHolding={},this.rejectByPromoter=()=>{this.initiateFormData.status=null,this.initiateFormData.financialYearStatus="ACTIVE",this.initiateFormData.pdfUId=null,this.initiateFormData.eSignedOn=null,this.initiateFormData.caNumber=null,this.initiateFormData.promoterRemarks=null,this.initiateFormData.caName=null,this.initiateFormData.caMobileNo=null,this.initiateFormData.caEmailId=null,this.initiateFormData.question_1=null,this.initiateFormData.question_1_1=null,this.initiateFormData.formFiveBankList=[],this.initiateFormData.question_3=null,this.initiateFormData.question_4=null,this.initiateFormData.formFiveQ4_1List=[],this.initiateFormData.question_5=null,this.initiateFormData.formFiveQ5_1List=[],this.initiateFormData.question_6=null,this.initiateFormData.question_6_1=null,this.initiateFormData.question_7=null,this.initiateFormData.projectFormFiveQ7_1List=[],this.initiateFormData.question_8=null,this.initiateFormData.question_8_1=null,this.initiateFormData.question_8_2=null,this.initiateFormData.question_9=null,this.initiateFormData.projectFormFiveQ9_1List=[],this.initiateFormData.question_10=null,this.initiateFormData.estimatedCostOfProject=null,this.initiateFormData.question_10_2=null,this.initiateFormData.question_10_3=null,this.initiateFormData.question_11=null,this.initiateFormData.question_12=null,this.initiateFormData.formFiveQ6_2Model=null,this.initiateFormData.projectFormFiveQ11_1List=[],this.initiateFormData.caFrmNo=null,this.initiateFormData.caFrmName=null,this.initiateFormData.caUdinNumber=null,this.initiateFormData.caDesignation=null,this.initiateFormData.projectFormFiveQ10_1List=[],this.initiateFormData.projectFormFiveQ11_1List=[],this.initiateFormData.formFiveDocModel=null,this.initiateFormData.formFiveOtherDocList=[],this.initiateFormData.cWithdrawSepAc=null,console.log(this.initiateFormData),this.showConfirmation("ASSIGN"),this.promoterFormFiveService.rejectedByPromoter(this.initiateFormData).subscribe(t=>{this.verifyResponse=t,this.showConfirmation("ASSIGN"),console.log(this.verifyResponse)},t=>{console.log(t),this.inputJson.next({popShow:!0,popMsg:"Unable to reject form 5 submission.",popClass:"alert alert-danger",popRoute:""})})},this.assignObjectFunction=()=>{console.log("login variable",this.tempHolding),this.initiateFormData.caNumber=this.tempHolding.caNumber,this.initiateFormData.promoterRemarks=this.tempHolding.promoterRemarks,this.initiateFormData.caName=this.tempHolding.caName,this.initiateFormData.caMobileNo=this.tempHolding.caMobileNo,this.initiateFormData.caEmailId=this.tempHolding.caEmailId,this.initiateFormData.status="ASSIGNED",this.initiateFormData.acceptedOn=null,this.initiateFormData.assignedOn=null,this.initiateFormData.defaultActiveCount=null,this.initiateFormData.lastUpdatedOn=null,this.initiateFormData.modifiedOn=null,this.initiateFormData.cumulativeWithdrawalFrom=null,this.initiateFormData.cumulativeWithdrawalLimit=null,this.initiateFormData.suoMotoFlag=null,console.log("final variable",this.initiateFormData),this.promoterFormFiveService.assignCANewService(this.initiateFormData).subscribe(t=>{this.verifyResponse=t,this.route.navigate(["/project-dashboard/project-view/list-view"]),console.log(this.verifyResponse)},t=>{console.error("CA initiation error",t),this.inputJson.next({popShow:!0,popMsg:"Something went wrong.",popClass:"alert alert-danger",popRoute:""})})}}ngOnInit(){this.formFiveId=sessionStorage.getItem("formFiveId"),this.userType=sessionStorage.getItem("userType"),this.getlistData(),this.getFormFiveLog(),this.getDefaulerData(),this.remarkGroup=this.fb.group({remark:["",g.h.required]}),this.formFiveCaVerify=new g.d({caYear:new g.c("",[g.h.required]),caStartDate:new g.c("",[g.h.required]),caEndDate:new g.c("",[g.h.required]),panNumber:new g.c("",[g.h.required])}),this.formFiveCaSend=new g.d({promoterRemarks:new g.c("",g.h.required),caName:new g.c("",[g.h.required]),caEmail:new g.c("",[g.h.required]),caMobile:new g.c("",[g.h.required]),caNumber:new g.c("",[g.h.required])})}getlistData(){this.promoterFormFiveService.formFive(this.formFiveId).subscribe(t=>{let e;e=t.data,this.initiateFormData=t.data,this.tempHolding={caNumber:e.caNumber,promoterRemarks:e.promoterRemarks,caName:e.caName,caMobileNo:e.caMobileNo,caEmailId:e.caEmailId}},t=>{console.log(t)})}onCASubmit(){this.projectId=sessionStorage.getItem("projectId");let t=this.formFiveCaSend.value.caNumber;this.promoterFormFiveService.checkFormThree(t,this.projectId).subscribe(e=>{if(console.log(e),"300"==e.status)this.verifyCa(t);else{let r=0;for(let t=0;t<e.data.length;t++){let a=e.data[t].createdOn.substr(0,10);console.log("date",a);let i=new Date(a);console.log(i);(new Date).getFullYear();let s=this.initiateFormData.certFromDate.substr(6,4),n=new Date(s,3,1),o=this.initiateFormData.certToDate.substr(6,4),l=new Date(o,2,1);i>n&&i<l&&r++}r>0?this.inputJson.next({popShow:!0,popMsg:"This CA has submitted Form 3 in this FY hence Form 5 can not be assigned to the same CA",popClass:"alert alert-danger",popRoute:""}):this.verifyCa(t)}},t=>{console.log(t),this.inputJson.next({popShow:!0,popMsg:"Invalid CA",popClass:"alert alert-danger",popRoute:""})})}verifyCa(t){this.promoterFormFiveService.verifyCaNumber(t).subscribe(t=>{this.verifyResponse=t,console.log(this.verifyResponse)},t=>{console.log(t),this.inputJson.next({popShow:!0,popMsg:"Invalid CA",popClass:"alert alert-danger",popRoute:""})})}onFormSend(){this.onCASubmit(),console.log(this.formFiveCaSend.value),this.initiateFormData.caNumber=this.formFiveCaSend.value.caNumber,this.initiateFormData.promoterRemarks=this.formFiveCaSend.value.promoterRemarks,this.initiateFormData.caName=this.formFiveCaSend.value.caName,this.initiateFormData.caMobileNo=this.formFiveCaSend.value.caMobile,this.initiateFormData.caEmailId=this.formFiveCaSend.value.caEmail,this.initiateFormData.status="ASSIGNED",console.log("befor "),console.log(this.initiateFormData),this.promoterFormFiveService.assigned(this.initiateFormData).subscribe(t=>{this.verifyResponse=t,this.route.navigate(["/project-dashboard/project-view/list-view"]),console.log(this.verifyResponse)},t=>{console.log(t),this.inputJson.next({popShow:!0,popMsg:"CA not Initiate",popClass:"alert alert-danger",popRoute:""})})}reasign(){this.initiateFormData.status=null,this.initiateFormData.financialYearStatus="ACTIVE",this.initiateFormData.caNumber=null,this.initiateFormData.promoterRemarks=null,this.initiateFormData.caName=null,this.initiateFormData.caMobileNo=null,this.initiateFormData.caEmailId=null,this.initiateFormData.question_1=null,this.initiateFormData.question_1_1=null,this.initiateFormData.formFiveBankList=[],this.initiateFormData.question_3=null,this.initiateFormData.question_4=null,this.initiateFormData.formFiveQ4_1List=[],this.initiateFormData.question_5=null,this.initiateFormData.formFiveQ5_1List=[],this.initiateFormData.question_6=null,this.initiateFormData.question_6_1=null,this.initiateFormData.question_7=null,this.initiateFormData.projectFormFiveQ7_1List=[],this.initiateFormData.question_8=null,this.initiateFormData.question_8_1=null,this.initiateFormData.question_8_2=null,this.initiateFormData.question_9=null,this.initiateFormData.projectFormFiveQ9_1List=[],this.initiateFormData.question_10=null,this.initiateFormData.estimatedCostOfProject=null,this.initiateFormData.question_10_2=null,this.initiateFormData.question_10_3=null,this.initiateFormData.question_11=null,this.initiateFormData.question_12=null,this.initiateFormData.formFiveQ6_2Model=null,this.initiateFormData.projectFormFiveQ11_1List=[],this.initiateFormData.caFrmNo=null,this.initiateFormData.caFrmName=null,this.initiateFormData.caUdinNumber=null,this.initiateFormData.caDesignation=null,this.initiateFormData.projectFormFiveQ10_1List=[],this.initiateFormData.projectFormFiveQ11_1List=[],this.initiateFormData.formFiveDocModel=null,this.initiateFormData.formFiveOtherDocList=[],this.initiateFormData.cWithdrawSepAc=null,console.log(this.initiateFormData),this.promoterFormFiveService.assigned(this.initiateFormData).subscribe(t=>{this.verifyResponse=t,this.inputJson.next({popShow:!0,popMsg:"Form 5 has been rejected successfully.",popClass:"alert alert-danger",popRoute:"project-dashboard/project-view/initiate-form-five"}),console.log(this.verifyResponse)},t=>{console.log(t),this.inputJson.next({popShow:!0,popMsg:"Unable to reject form 5 submission.",popClass:"alert alert-danger",popRoute:""})})}prmoterAccept(){this.initiateFormData.promoterStatus="ACCEPTED",console.log(this.initiateFormData),this.promoterFormFiveService.assigned(this.initiateFormData).subscribe(t=>{this.inputJson.next({popShow:!0,popMsg:"Form 5 has been Accepted successfully.",popClass:"alert alert-success",popRoute:"project-dashboard/project-view/initiate-form-five"}),console.log(this.verifyResponse)},t=>{console.log(t),this.inputJson.next({popShow:!0,popMsg:"CA not Initiate",popClass:"alert alert-danger",popRoute:""})})}getFormFiveLog(){this.promoterFormFiveService.getFormFiveLog(this.formFiveId).subscribe(t=>{console.log("history"),console.log(t.data)},t=>{console.log(t)})}searchcaByPAN(t){console.log(t),this.promoterFormFiveService.searchByPanCard(t,"CA_USER").subscribe(t=>{if(console.log(t),"200"==t.status&&t&&"CA_USER"==t.data.type){console.log(t);let e={id:t.data.id,firstName:t.data.firstName,middleName:null!=t.data.middleName?t.data.middleName:"",lastName:t.data.lastName,emailId:t.data.emailId,mobileNo:t.data.mobileNo,caMemberShipNumber:t.data.profNO};this.disableAssignTabCA=!0,this.dataDisplayCA=[e],console.log(this.dataDisplayCA),this.assignCATable=!0,this.loadFromSearchCA=!0,this.errorSetCA=!1}else this.inputJson.next({popShow:!0,popMsg:"Please enter valid CA Membership Number.",popClass:"alert alert-danger",popRoute:""})},t=>{this.errorSetCA=!1,this.dataDisplayCA=[],this.inputJson.next({popShow:!0,popMsg:"Please enter valid CA PAN Number.",popClass:"alert alert-danger",popRoute:""})})}DeleteFromAssignedCA(){this.dataDisplayCA=[],this.disableAssignTabCA=!1,this.assignCATable=!1}openToolTip(t,e){this.tooltipJson.next({pageX:t.pageX,pageY:t.pageY,code:e})}openModal(){this.inq=!0}cancelModal(){this.inq=!1,this.history=!1}onReject(){let t=this.remarkGroup.value.remark.trim();if(""==t||null==t)return void this.inputJson.next({popShow:!0,popMsg:"Please enter remark",popClass:"alert alert-danger",popRoute:""});let e={enqId:this.initiateFormData.enquiryList[this.initiateFormData.enquiryList.length-1].enqId,userRemark:t};console.log(e),this.promoterFormFiveService.replyService(e).subscribe(t=>{console.log(t),this.inq=!1,this.route.navigate(["/project-dashboard/project-view/list-view"])},t=>{console.log(t),this.inputJson.next({popShow:!0,popMsg:"Please try again",popClass:"alert alert-danger",popRoute:""})})}showModal(){this.history=!0,this.getHistory(this.initiateFormData.formFiveId)}getHistory(t){this.promoterFormFiveService.getHistory(t).subscribe(t=>{console.log(t),this.historyData=t.data},t=>{console.log(t),this.inputJson.next({popShow:!0,popMsg:"Please try again",popClass:"alert alert-danger",popRoute:""})})}getDefaulerData(){this.promoterFormFiveService.getFormFiveDefaulterData(this.formFiveId).subscribe(t=>{this.defaulterFiveData=t.data,console.log("new service"),console.log(t)},t=>{console.log(t)})}fORM5AcceptAndReject(t){let e="";console.log("this.initiateFormData",this.initiateFormData),e=this.initiateFormData.formFiveId;let r="";if("ACCEPTED"==t){let t=this._date.transform(new Date,"dd-MM-yyyy H:mm:ss");r="Form 5 has been Accepted successfully on "+t+"."}else r="Form 5 has been Rejected successfully.";this.promoterFormFiveService.statusUpdateData(t,e).subscribe(t=>{this.inputJson.next({popShow:!0,popMsg:r,popClass:"alert alert-success",popRoute:"project-dashboard/project-view/initiate-form-five"}),console.log(this.verifyResponse)},t=>{console.error("error",t),this.inputJson.next({popShow:!0,popMsg:"something went wrong.",popClass:"alert alert-danger",popRoute:""})})}showConfirmation(t){"REJECT"==t?(this.actionType="REJECT",this.confirmationEventB.next({flag:!0,messageV:"Are you sure want to reject this submitted Form-5?"})):"ASSIGN"==t&&(this.actionType="ASSIGN",this.confirmationEventB.next({flag:!0,messageV:"Form 5 has been rejected successfully.<br /> Do you want to re-assign previous CA to fill this Form-5 again?"}))}confirmationEvent(t){"OK"==t?"REJECT"==this.actionType?this.rejectByPromoter():"ASSIGN"==this.actionType&&(console.log("assign login"),this.assignObjectFunction()):"CANCEL"==t&&"ASSIGN"==this.actionType&&this.route.navigate(["project-dashboard/project-view/initiate-form-five"])}};b.ctorParameters=()=>[{type:g.b},{type:m.a},{type:l.a},{type:n.e},{type:s.e}],b=a.b([Object(i.n)({selector:"app-form-five-view",template:a.c(r("QK1p")).default,styles:[a.c(r("bM3u")).default]})],b);let f=class{constructor(t,e,r,a,i){this.fb=t,this.promoterFormFiveService=e,this.api=r,this.route=a,this._apiUrl=i,this.initiateFormData={status:""},this.verifyResponse={firstName:"",emailId:"",mobileNo:""},this.inputJson=new p.a({}),this.dataDisplayCA=[],this.tooltipJson=new p.a({}),this.inq=!1,this.history=!1,this.caNumberForVerify="",this.defaulterFiveData=[],this.sendInBehaviou=new p.a([]),this.showPaymentReceipt=!1,this.checkingBeforeSearch=()=>{this.projectId=sessionStorage.getItem("projectId"),this.promoterFormFiveService.checkFormThree(this.caNumberForVerify,this.projectId).subscribe(t=>{if(console.log(t),"300"==t.status)this.verifyCa();else{this.temp=0;for(let e=0;e<t.data.length;e++){let r=t.data[e].createdOn.substr(0,10);console.log("date",r);let a=new Date(r);console.log(a);let i=this.initiateFormData.certFromDate.substr(6,4),s=new Date(i,3,1),n=this.initiateFormData.certToDate.substr(6,4),o=new Date(n,2,1);a>s&&a<o&&this.temp++}if(this.temp>0)return void this.inputJson.next({popShow:!0,popMsg:"This CA has submitted Form 3 in this FY hence Form 5 can not be assigned to the same CA.",popClass:"alert alert-danger",popRoute:""});this.searchcaByPAN(this.caNumberForVerify)}},t=>{console.log(t),this.inputJson.next({popShow:!0,popMsg:"Invalid CA",popClass:"alert alert-danger",popRoute:""})})},this.amountChange=t=>{if(null!=t)return Number(t).toLocaleString("en-IN")},this.showDetails=t=>{console.log(t),this.showPaymentReceipt=!0,this.getPaymentDetails(t,0)},this.popupClose=()=>{this.showPaymentReceipt=!1},this.getPaymentDetails=(t,e)=>{let r=new Array;this.promoterFormFiveService.getPaymentRefence(t).subscribe(t=>{console.log("aaaaaa"),null!=t.data&&(r[e]=t.data,this.sendInBehaviou.next(r))},t=>{console.log(t)})}}ngOnInit(){this.downloadReciept=this._apiUrl.paymentDownload+"downloadPatmentReciept/",this.formFiveId=sessionStorage.getItem("formFiveId"),this.userType=sessionStorage.getItem("userType"),this.getlistData(),this.getFormFiveLog(),this.getDefaulerData(),this.remarkGroup=this.fb.group({remark:["",g.h.required]}),this.formFiveCaVerify=new g.d({caYear:new g.c("",[g.h.required]),caStartDate:new g.c("",[g.h.required]),caEndDate:new g.c("",[g.h.required]),panNumber:new g.c("",[g.h.required])}),this.formFiveCaSend=new g.d({promoterRemarks:new g.c("",g.h.required),caName:new g.c("",[g.h.required]),caEmail:new g.c("",[g.h.required]),caMobile:new g.c("",[g.h.required]),caNumber:new g.c("",[g.h.required])})}getlistData(){this.promoterFormFiveService.formFive(this.formFiveId).subscribe(t=>{this.initiateFormData=t.data,console.log(this.initiateFormData)},t=>{console.log(t)})}onCASubmit(){this.projectId=sessionStorage.getItem("projectId"),this.promoterFormFiveService.checkFormThree(this.caNumberForVerify,this.projectId).subscribe(t=>{if(console.log(t),"300"==t.status)this.verifyCa();else{this.temp=0;for(let e=0;e<t.data.length;e++){let r=t.data[e].createdOn.substr(0,10);console.log("date",r);let a=new Date(r);console.log(a);let i=this.initiateFormData.certFromDate.substr(6,4),s=new Date(i,3,1),n=this.initiateFormData.certToDate.substr(6,4),o=new Date(n,2,1);a>s&&a<o&&this.temp++}if(this.temp>0)return void this.inputJson.next({popShow:!0,popMsg:"This CA has submitted Form 3 in this FY hence Form 5 can not be assigned to the same CA",popClass:"alert alert-danger",popRoute:""});this.verifyCa()}},t=>{console.log(t),this.inputJson.next({popShow:!0,popMsg:"Invalid CA",popClass:"alert alert-danger",popRoute:""})})}verifyCa(){this.promoterFormFiveService.verifyCaNumber(this.caNumberForVerify).subscribe(t=>{this.verifyResponse=t,this.searchcaByPAN(this.caNumberForVerify),console.log(this.verifyResponse)},t=>{console.log(t),this.inputJson.next({popShow:!0,popMsg:"Invalid CA",popClass:"alert alert-danger",popRoute:""})})}onFormSend(){console.log(this.formFiveCaSend.value),this.initiateFormData.caNumber=this.formFiveCaSend.value.caNumber,this.initiateFormData.promoterRemarks=this.formFiveCaSend.value.promoterRemarks,this.initiateFormData.caName=this.formFiveCaSend.value.caName,this.initiateFormData.caMobileNo=this.formFiveCaSend.value.caMobile,this.initiateFormData.caEmailId=this.formFiveCaSend.value.caEmail,this.initiateFormData.status="ASSIGNED",console.log("befor "),console.log(this.initiateFormData),this.promoterFormFiveService.assignCANewService(this.initiateFormData).subscribe(t=>{this.verifyResponse=t,this.route.navigate(["/project-dashboard/project-view/list-view"]),console.log(this.verifyResponse)},t=>{console.error("CA initiation error",t),this.inputJson.next({popShow:!0,popMsg:"Something went wrong.",popClass:"alert alert-danger",popRoute:""})})}reasign(){this.initiateFormData.status=null,this.initiateFormData.caNumber=null,this.initiateFormData.promoterRemarks=null,this.initiateFormData.caName=null,this.initiateFormData.caMobileNo=null,this.initiateFormData.caEmailId=null,this.initiateFormData.question_1=null,this.initiateFormData.question_1_1=null,this.initiateFormData.formFiveBankList=[],this.initiateFormData.question_3=null,this.initiateFormData.question_4=null,this.initiateFormData.formFiveQ4_1List=[],this.initiateFormData.question_5=null,this.initiateFormData.formFiveQ5_1List=[],this.initiateFormData.question_6=null,this.initiateFormData.question_6_1=null,this.initiateFormData.question_7=null,this.initiateFormData.projectFormFiveQ7_1List=[],this.initiateFormData.question_8=null,this.initiateFormData.question_8_1=null,this.initiateFormData.question_8_2=null,this.initiateFormData.question_9=null,this.initiateFormData.projectFormFiveQ9_1List=[],this.initiateFormData.question_10=null,this.initiateFormData.estimatedCostOfProject=null,this.initiateFormData.question_10_2=null,this.initiateFormData.question_10_3=null,this.initiateFormData.question_11=null,this.initiateFormData.question_12=null,this.initiateFormData.formFiveQ6_2Model=null,this.initiateFormData.projectFormFiveQ11_1List=[],this.initiateFormData.caFrmNo=null,this.initiateFormData.caFrmName=null,this.initiateFormData.caUdinNumber=null,this.initiateFormData.caDesignation=null,this.initiateFormData.projectFormFiveQ10_1List=[],this.initiateFormData.projectFormFiveQ11_1List=[],this.initiateFormData.formFiveDocModel=null,this.initiateFormData.formFiveOtherDocList=[],this.initiateFormData.cWithdrawSepAc=null,console.log(this.initiateFormData),this.promoterFormFiveService.assignCANewService(this.initiateFormData).subscribe(t=>{this.verifyResponse=t,this.getlistData(),console.log(this.verifyResponse)},t=>{console.log(t),this.inputJson.next({popShow:!0,popMsg:"CA not Initiate",popClass:"alert alert-danger",popRoute:""})})}prmoterAccept(){this.initiateFormData.promoterStatus="ACCEPTED",console.log(this.initiateFormData),this.promoterFormFiveService.assigned(this.initiateFormData).subscribe(t=>{this.route.navigate(["/project-dashboard/project-view/list-view"]),console.log(this.verifyResponse)},t=>{console.log(t),this.inputJson.next({popShow:!0,popMsg:"CA not Initiate",popClass:"alert alert-danger",popRoute:""})})}getFormFiveLog(){this.promoterFormFiveService.getFormFiveLog(this.formFiveId).subscribe(t=>{console.log("history"),console.log(t.data)},t=>{console.log(t)})}searchcaByPAN(t){console.log(t),this.promoterFormFiveService.searchByPanCard(t,"CA_USER").subscribe(t=>{if(console.log(t),"200"==t.status&&t&&"CA_USER"==t.data.type){console.log(t);let e={id:t.data.id,firstName:t.data.firstName,middleName:null!=t.data.middleName?t.data.middleName:"",lastName:t.data.lastName,emailId:t.data.emailId,mobileNo:t.data.mobileNo,caMemberShipNumber:t.data.profNO};this.disableAssignTabCA=!0,this.dataDisplayCA=[e],console.log(this.dataDisplayCA),this.assignCATable=!0,this.loadFromSearchCA=!0,this.errorSetCA=!1}else this.inputJson.next({popShow:!0,popMsg:"Please enter valid CA Membership Number.",popClass:"alert alert-danger",popRoute:""})},t=>{this.errorSetCA=!1,this.dataDisplayCA=[],this.inputJson.next({popShow:!0,popMsg:"Please enter valid CA PAN Number.",popClass:"alert alert-danger",popRoute:""})})}DeleteFromAssignedCA(){this.dataDisplayCA=[],this.disableAssignTabCA=!1,this.assignCATable=!1}openToolTip(t,e){this.tooltipJson.next({pageX:t.pageX,pageY:t.pageY,code:e})}openModal(){this.inq=!0}cancelModal(){this.inq=!1,this.history=!1}onReject(){let t=this.remarkGroup.value.remark.trim();if(""==t||null==t)return void this.inputJson.next({popShow:!0,popMsg:"Please enter remark",popClass:"alert alert-danger",popRoute:""});let e={enqId:this.initiateFormData.enquiryList[this.initiateFormData.enquiryList.length-1].enqId,userRemark:t};console.log(e),this.promoterFormFiveService.replyService(e).subscribe(t=>{console.log(t),this.inq=!1,this.route.navigate(["/project-dashboard/project-view/list-view"])},t=>{console.log(t),this.inputJson.next({popShow:!0,popMsg:"Please try again",popClass:"alert alert-danger",popRoute:""})})}showModal(){this.history=!0,this.getHistory(this.initiateFormData.formFiveId)}getHistory(t){this.promoterFormFiveService.getHistory(t).subscribe(t=>{console.log(t),this.historyData=t.data},t=>{console.log(t),this.inputJson.next({popShow:!0,popMsg:"Please try again",popClass:"alert alert-danger",popRoute:""})})}getDefaulerData(){this.promoterFormFiveService.getFormFiveDefaulterData(this.formFiveId).subscribe(t=>{this.defaulterFiveData=t.data,console.log("new service"),console.log(t)},t=>{console.log(t)})}};f.ctorParameters=()=>[{type:g.b},{type:m.a},{type:l.a},{type:n.e},{type:l.a}],f=a.b([Object(i.n)({selector:"app-initiate-form-five",template:a.c(r("IWC0")).default,styles:[a.c(r("8TBm")).default]})],f);let v=class{constructor(t,e,r){this.promoterFormFiveService=t,this.api=e,this._router=r,this.formFiveDetail={formFiveList:[]},this.form5ColorClass=(t="",e="",r="")=>("ACTIVE"==t&&"ACTIVE"==e||"ACTIVE"==t&&"ASSIGNED"==e||"ACTIVE"==t&&"INPROGRESS"==e||"ACTIVE"==t&&null==e)&&"ACTIVE"==r||(("ACTIVE"==t&&"ESIGNED"==e||"SUBMITTED"==t&&"ESIGNED"==e)&&"ESIGNED"==r||("ACTIVE"==t&&"SUBMITTED"==e&&"SUBMITTED"==r||("INACTIVE"==t&&"INACTIVE"==r||("EXEMPT"==t&&"EXEMPT"==r||("DEFAULT"==t&&"DEFAULT"==r||"DEFAULT-ACTIVE"==t&&"DEFAULT-ACTIVE"==r)))))}ngOnInit(){this.getListData()}getListData(){this.projectId=sessionStorage.getItem("projectId"),console.log(this.projectId),this.promoterFormFiveService.getProjectFormFiveDetailAdditional(this.projectId).subscribe(t=>{this.formFiveDetail=t.data,console.log(this.formFiveDetail)},t=>{console.log(t)})}setData(t,e=""){if(sessionStorage.setItem("formFiveId",t),console.log("current fy clicked",e),!["ACTIVE","ESIGNED","DEFAULT-ACTIVE","SUBMITTED"].includes(e))return!1;this._router.navigate(["project-dashboard/project-view/initiate-form-five"])}};v.ctorParameters=()=>[{type:m.a},{type:l.a},{type:n.e}],v=a.b([Object(i.n)({selector:"app-list-view-form-five",template:a.c(r("0n3D")).default,styles:[a.c(r("BD22")).default]})],v);var y=r("yfuv");const P=[{path:"project-view/initiate-form-five",component:f,canActivate:[y.a]},{path:"project-view/list-view",component:v,canActivate:[y.a]},{path:"project-view",component:h},{path:"project-view/form5/view",component:b,canActivate:[y.a]}];let I=class{};I=a.b([Object(i.J)({imports:[n.f.forChild(P)],exports:[n.f]})],I);var D=r("UPf0"),S=r("kdZ/"),R=r("xkgV"),A=r("5c4+"),C=r("T9Jj"),E=r("4nBV"),F=r("NSbh"),j=r("6Lj3"),T=r("JUyF"),_=r("dTlI"),N=r("mE01"),w=r("ybvR"),k=r("C75N"),x=r("KAPe"),O=r("PjcS"),L=r("SBiz"),M=r("L7/k");let q=class{constructor(t,e){this._http=t,this._apiURL=e}getProfileDetails(){return this._http.securepost(this._apiURL.registrationAPI+"secure/profile",null)}getTopic(t){return this._http.secureget(this._apiURL.citizenApi+"secure/project-id"+t)}submitTopic(t){return this._http.securepost(this._apiURL.citizenApi+"secure/allottee/save",t)}getAllLikeService(t){return this._http.secureget(this._apiURL.citizenApi+"secure/likes/all-likes"+t)}submitLikeService(t){return this._http.securepost(this._apiURL.citizenApi+"secure/likes/save",t)}getAllReplyService(t){return this._http.secureget(this._apiURL.citizenApi+"secure/reply/all-reply"+t)}submitReplyService(t){return this._http.securepost(this._apiURL.citizenApi+"secure/reply/save",t)}};q.ctorParameters=()=>[{type:o.a},{type:l.a}],q=a.b([Object(i.B)({providedIn:"root"})],q);var B=r("HDdC");let U=class{constructor(t,e){this.fb=t,this.formService=e,this.project_id=new B.a,this.getAllotieTopic={allotteeTopicList:[]},this.likeObject={topicId:"",likedByEmailId:"",likedByName:"",likedByType:"",likedByMobileNo:""},this.topicIniate={topicName:"",createrEmailId:"",createrName:"",createrType:" ",projectId:"",projectForumId:""},this.replyText=!1,this.replyObject={topicId:"",replierEmail:"",replierName:"",replierType:"",replyedText:""},this.citizenImage=""}ngOnInit(){this.project_id.subscribe(t=>{t&&(this.projectBasicDetail=t.project_id_value,this.getTopic(this.projectBasicDetail))}),this.newTopicGroup=this.fb.group({newTopic:[""]}),this.replyGroup=this.fb.group({replyTopic:[""]})}getTopic(t){this.formService.getTopic(t).subscribe(t=>{console.log(t.data),this.getAllotieTopic=t.data},t=>{console.log(t)})}submitTopic(){console.log(this.newTopicGroup.value),this.formService.getProfileDetails().subscribe(t=>{console.log(t),this.topicIniate.topicName=this.newTopicGroup.value.newTopic,this.topicIniate.createrEmailId=t.emailId,this.topicIniate.createrName=t.name,this.topicIniate.createrType=sessionStorage.getItem("userType"),this.topicIniate.projectId=this.projectBasicDetail,this.topicIniate.projectForumId=this.getAllotieTopic.projectForumId,console.log(this.topicIniate),this.formService.submitTopic(this.topicIniate).subscribe(t=>{console.log(t.data),this.newTopicGroup.reset(),this.getTopic(this.projectBasicDetail)},t=>{console.log(t)})},t=>{console.log(t)})}onLike(t){this.formService.getProfileDetails().subscribe(e=>{console.log(e),this.likeObject.likedByEmailId=e.emailId,this.likeObject.likedById=e.id,this.likeObject.likedByType=sessionStorage.getItem("userType"),this.likeObject.likedByName=e.name,this.likeObject.likedByMobileNo=e.phoneNumber,this.likeObject.topicId=t,this.formService.submitLikeService(this.likeObject).subscribe(t=>{console.log(t.data),this.getTopic(this.projectBasicDetail)},t=>{console.log(t)})},t=>{console.log(t)})}onReplyModal(t){this.replyText=!0,this.replyBoxId=t}replySubmit(t){console.log(this.replyGroup.value),console.log(t),this.formService.getProfileDetails().subscribe(e=>{console.log(e),this.replyObject.replierEmail=e.emailId,this.replyObject.replierType=sessionStorage.getItem("userType"),this.replyObject.replierName=e.name,this.replyObject.topicId=t,this.replyObject.replyedText=this.replyGroup.value.replyTopic,console.log(this.replyObject),this.formService.submitReplyService(this.replyObject).subscribe(t=>{console.log(t.data),this.getTopic(this.projectBasicDetail),this.replyGroup.reset()},t=>{console.log(t)})},t=>{console.log(t)})}};U.ctorParameters=()=>[{type:g.b},{type:q}],a.b([Object(i.E)()],U.prototype,"project_id",void 0),U=a.b([Object(i.n)({selector:"app-forum",template:a.c(r("pXoz")).default,styles:[a.c(r("dF3W")).default]})],U);let G=class{constructor(t,e){this._http=t,this._apiURL=e}getData(t){return this._http.secureget(this._apiURL.reraCompRegistrationAPI+"agent_reg/secure/agent/work/get-agent-work-status-by-prjid/"+t)}vefifyDetails(t,e){return this._http.secureput(this._apiURL.reraCompRegistrationAPI+"agent_reg/secure/agent/work/update-prm-status/"+t+"/"+e,null)}};G.ctorParameters=()=>[{type:o.a},{type:l.a}],G=a.b([Object(i.B)({providedIn:"root"})],G);let V=class{constructor(t,e){this._apiURL=t,this._httpServ=e,this.yearlyDetailsList=[],this.loader=!1,this.errorMsg=!1,this.successMsg=!1,this.popMsg=!1,this.inputJson=new p.a({}),this.allListData=1}ngOnInit(){this.project_id.subscribe(t=>{this.projectId=t.project_id_value}),this.getData(this.projectId)}getData(t){this.yearlyDetailsList=[],this._httpServ.getData(t).subscribe(t=>{this.yearlyDetailsList=t.data,console.log("yearly data"),console.log(this.yearlyDetailsList)})}vefifyDetails(t,e){this._httpServ.vefifyDetails(t,e).subscribe(t=>{console.log(t),this.getData(this.projectId),this.inputJson.next({popShow:!0,popMsg:"Details Verified!",popClass:"alert alert-success",popRoute:""})},t=>{console.log(t),this.loader=!1,this.successMsg=!1,this.errorMsg=!0,this.inputJson.next({popShow:!0,popMsg:t.error.message,popClass:"alert alert-danger",popRoute:""})})}};V.ctorParameters=()=>[{type:l.a},{type:G}],a.b([Object(i.E)()],V.prototype,"project_id",void 0),V=a.b([Object(i.n)({selector:"app-agent-yearly-details",template:a.c(r("f/PK")).default,styles:[a.c(r("sTOc")).default]})],V);var J=r("Sh7B");let Y=class{constructor(t,e){this._apiURL=t,this._http=e}getTotalListOfPaymentFromProject(t){return this._http.secureget(this._apiURL.projectRegAPI+"project-app/alldatabyprojectid/"+t)}getPaymentRefence(t){return this._http.secureget(this._apiURL.payment+"secure/getPaymentByTrxNo/"+t)}getSec15PaymentData(t){return this._http.secureget(this._apiURL.projectAltFtnAPI+"secure/get-payment-dtl-byprojectid/"+t)}getProjectPaymentData(t){return this._http.secureget(this._apiURL.projectRegAPI+"secure/project-payment?project_id="+t)}};Y.ctorParameters=()=>[{type:l.a},{type:o.a}],Y=a.b([Object(i.B)({providedIn:"root"})],Y);var W=r("EUZL");let Q=class{constructor(t,e){this._http=t,this._apiUrl=e,this.loadingSpinner=!1,this.listingResponse=new Array,this.summarizedPaymentList=new Array,this.paymentlistingResponse=[]}ngOnInit(){let t=sessionStorage.getItem("projectId");this.downloadReciept=this._apiUrl.paymentDownload+"downloadPatmentReciept/",this.getPaymentList(t),this.paymentHistoryList(t)}getSec15PaymentData(t,e){this._http.getSec15PaymentData(t).subscribe(t=>{if(console.log(t),"200"==t.status&&t.data){let r=e;t.data.forEach(t=>{null!=t.transactionNo&&""!=t.transactionNo&&"SUCCESS"==t.status&&this.paymentRefrence(t.transactionNo,r),r++})}},t=>{console.log(t)})}getPaymentList(t){this.loadingSpinner=!0,this._http.getTotalListOfPaymentFromProject(t).subscribe(e=>{if(this.loadingSpinner=!1,"200"==e.status){let r=e.data.paymentDetailsModel,a=0;null!=r&&r.paymentDetailsList.forEach(t=>{null!=t.transactionNo&&""!=t.transactionNo?this.paymentRefrence(t.transactionNo,a):this.listingResponse[a]={registraionType:t.feeType,paymentTokenNo:t.tokenNo,transactionNo:t.transactionNo,processName:t.feeType,reqAmount:t.amount,reqPenaltyAmount:t.penaltyAmount,reqTotalAmount:t.totalProjectAmount,createdOn:"",status:t.status},a++}),this.length=a,this.getSec15PaymentData(t,this.length)}},t=>{console.log(t),this.loadingSpinner=!1})}paymentRefrence(t,e){this._http.getPaymentRefence(t).subscribe(t=>{t?null!=t.data&&(this.listingResponse[e]=t.data):this.listingResponse[e]=[]},t=>{console.log(t)})}exportToExcel(){const t=W.utils.table_to_sheet(this.listing.nativeElement),e=W.utils.book_new();W.utils.book_append_sheet(e,t,"Sheet1"),W.writeFile(e,"Payment_List.xlsx")}transformAmount(t){if(t)return Number(t).toLocaleString("en-IN")}paymentHistoryList(t){this._http.getProjectPaymentData(t).subscribe(t=>{this.paymentlistingResponse=t.data,console.log(t)},t=>{this.paymentlistingResponse=[]})}};Q.ctorParameters=()=>[{type:Y},{type:l.a}],a.b([Object(i.kb)("listing",{static:!1})],Q.prototype,"listing",void 0),Q=a.b([Object(i.n)({selector:"app-payment-aggregate",template:a.c(r("NnOs")).default,styles:[a.c(r("fuFu")).default]})],Q);var H=r("Y/lY"),z=r("zUfl");r.d(e,"ProjectDashboardModule",(function(){return X}));let X=class{};X=a.b([Object(i.J)({declarations:[f,v,h,b,U,V,Q],imports:[s.b,I,D.a,S.a,R.a,g.g,g.e,A.a,C.a,E.a,F.a,j.a,T.a,_.a,N.b,w.a,k.a,x.a,O.a,L.a,M.a,J.a,H.a,z.AuthorityFormFivePreviewModule],exports:[V]})],X)},"8TBm":function(t,e,r){"use strict";r.r(e),e.default=""},BD22:function(t,e,r){"use strict";r.r(e),e.default=".active {\n  background-color: #32a761;\n}\n\n.submitted {\n  background-color: #404dad;\n}\n\n.inactive {\n  background-color: #828282;\n}\n\n.exempt {\n  background-color: #ec7b0d;\n}\n\n.defaulter {\n  background-color: #e31e25;\n}\n\n.defaultactive {\n  background-color: #04bdc5;\n}\n\n.essigned {\n  background-color: #b32194;\n}\n\n.active, .submitted, .inactive, .exempt, .defaultactive, .defaulter, .essigned {\n  color: white;\n  padding: 5px 30px 5px 30px;\n  height: 68px;\n}"},IWC0:function(t,e,r){"use strict";r.r(e),e.default='<app-tooltip [tooltipEvent]="tooltipJson"></app-tooltip>\r\n\r\n\r\n<div id="labels" class="card shadow mb-4">\r\n\r\n  <div class="card-header"><b>Initiate Form 5 Audit Request</b></div>\r\n  <div class="card-body asd">\r\n    <div class="row">\r\n      <div class="col-md-12">\r\n\r\n        <form [formGroup]="formFiveCaVerify" id="validateFoem" (ngSubmit)="onCASubmit()">\r\n          <div class="row">\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label">Financial Year<sup>*</sup></label>\r\n              <input type="text" name="financeyear" readonly class="form-control" placeholder=""\r\n                [(ngModel)]="initiateFormData.financialYear" formControlName="caYear">\r\n            </div>\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label">From Date<sup>*</sup></label>\r\n              <input type="text" name="castartdate" class="form-control" placeholder="" readonly\r\n                [(ngModel)]="initiateFormData.certFromDate" formControlName="caStartDate">\r\n            </div>\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label">To Date<sup>*</sup></label>\r\n              <input type="text" name="caenddate" class="form-control" readonly placeholder=""\r\n                [(ngModel)]="initiateFormData.certToDate" formControlName="caEndDate">\r\n            </div>\r\n\r\n\r\n            <div class="alert alert-danger" *ngIf="errorSetCA">\r\n              <strong>Error!</strong> No any CA found on this number.\r\n            </div>\r\n            <div\r\n              *ngIf="initiateFormData.status != \'ASSIGNED\' && initiateFormData.status != \'INPROGRESS\' &&  initiateFormData.status != \'SUBMITTED\' &&  initiateFormData.status != \'ESIGNED\'">\r\n\r\n              <div *ngIf="!disableAssignTabCA">\r\n                <div class="form-group col-md-9"\r\n                  *ngIf="initiateFormData.financialYearStatus !==\'DEFAULT\' && initiateFormData.financialYearStatus !==\'EXEMPT\' && initiateFormData.financialYearStatus !==\'DEFAULT-ACTIVE\'">\r\n                  <label class="control-label">Search CA<sup>*</sup><span class="tooltip-open"\r\n                      (click)="openToolTip($event,\'ASSIGN_PROF_F3_SRCH\')">?</span></label>\r\n                  <input type="text" class="form-control" #caVal placeholder="CA Memebership No."\r\n                    formControlName="panNumber" [(ngModel)]="caNumberForVerify"\r\n                    onKeyPress="if(this.value.length==6) return false;">\r\n\r\n                </div>\r\n                <div class=" col-md-3">\r\n                  <div class="form-group mt-5">\r\n\r\n                    <button type="button" class="btn btn-small btn-primary mt-4"\r\n                      *ngIf="initiateFormData.financialYearStatus !==\'DEFAULT\'&& initiateFormData.financialYearStatus !==\'EXEMPT\' && initiateFormData.financialYearStatus !==\'DEFAULT-ACTIVE\'"\r\n                      (click)="checkingBeforeSearch()">Search</button>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n\r\n\r\n            </div>\r\n          </div>\r\n        \r\n\r\n        </form>\r\n\r\n        <div class="card-header mt-2" *ngIf="dataDisplayCA.length>0"><b>CA Details</b></div>\r\n        <div class="card-body asd "\r\n          *ngIf="initiateFormData.status != \'ASSIGNED\' && initiateFormData.status != \'INPROGRESS\'">\r\n          <form [formGroup]="formFiveCaSend" id="validateFoem" (ngSubmit)="onFormSend()">\r\n            <div class="row" *ngFor="let caDetail of dataDisplayCA">\r\n              <div class="form-group col-md-4">\r\n                <label class="control-label">CA Membership Number<sup>*</sup></label>\r\n                <input type="text" class="form-control" name="caName" placeholder="" readonly\r\n                  [(ngModel)]="caDetail.caMemberShipNumber" formControlName="caNumber">\r\n              </div>\r\n              <div class="form-group col-md-4">\r\n                <label class="control-label">CA Name<sup>*</sup></label>\r\n                <input type="text" class="form-control" name="caName" placeholder="" readonly\r\n                  [(ngModel)]="caDetail.firstName" formControlName="caName">\r\n              </div>\r\n              <div class="form-group col-md-4">\r\n                <label class="control-label">Email ID<sup>*</sup></label>\r\n                <input type="text" class="form-control" name="caemail" placeholder="" readonly\r\n                  [(ngModel)]="caDetail.emailId" formControlName="caEmail">\r\n              </div>\r\n              <div class="form-group col-md-4">\r\n                <label class="control-label">CA Mobile No<sup>*</sup></label>\r\n                <input type="text" class="form-control" name="camobile" readonly placeholder=""\r\n                  [(ngModel)]="caDetail.mobileNo" formControlName="caMobile">\r\n              </div>\r\n              <div class="form-group col-md-4">\r\n                <label class="control-label">Remarks<sup>*</sup> <span class="tooltip-open"\r\n                    (click)="openToolTip($event,\'REMARK_CA_FORM_FIVE\')">?</span></label>\r\n                <textarea class="form-control" name="caRemarks" name="promoterRemarks" formControlName="promoterRemarks"\r\n                  placeholder=""></textarea>\r\n              </div>\r\n\r\n\r\n            </div>\r\n\r\n            <div class="text-center">\r\n              <button type="submit" class="btn btn-primary" *ngIf="dataDisplayCA.length>0"\r\n                [disabled]="formFiveCaSend.invalid"> Submit</button>\r\n\r\n              <button type="button" class="btn btn-primary" *ngIf="dataDisplayCA.length>0"\r\n                (click)="DeleteFromAssignedCA()"> Remove</button>\r\n\r\n            </div>\r\n\r\n\r\n          </form>\r\n        </div>\r\n\r\n        <div class=""\r\n          *ngIf="initiateFormData.status == \'ASSIGNED\' || initiateFormData.status == \'INPROGRESS\' || initiateFormData.status == \'SUBMITTED\'  || initiateFormData.status == \'ESIGNED\'">\r\n          <form>\r\n            <div class="row">\r\n              <div class="form-group col-md-4">\r\n                <label class="control-label">CA Membership Number <sup>*</sup></label>\r\n                <input type="text" class="form-control" name="caName1" placeholder="" readonly\r\n                  [value]="initiateFormData.caNumber">\r\n              </div>\r\n              <div class="form-group col-md-4">\r\n                <label class="control-label">CA Name<sup>*</sup></label>\r\n                <input type="text" class="form-control" name="caName1" placeholder="" readonly\r\n                  [value]="initiateFormData.caName">\r\n              </div>\r\n              <div class="form-group col-md-4">\r\n                <label class="control-label">Email ID<sup>*</sup></label>\r\n                <input type="text" class="form-control" name="caemail1" placeholder="" readonly\r\n                  [value]="initiateFormData.caEmailId">\r\n              </div>\r\n              <div class="form-group col-md-4">\r\n                <label class="control-label">CA Mobile No<sup>*</sup></label>\r\n                <input type="text" class="form-control" name="camobile1" readonly placeholder=""\r\n                  [value]="initiateFormData.caMobileNo">\r\n              </div>\r\n              <div class="form-group col-md-4">\r\n                <label class="control-label">Remarks<sup>*</sup></label>\r\n                <textarea class="form-control" name="caRemarks1" readonly [(ngModel)]="initiateFormData.promoterRemarks"\r\n                  placeholder=""></textarea>\r\n              </div>\r\n\r\n\r\n            </div>\r\n\r\n            <div class="text-center" *ngIf="((initiateFormData.status == \'ASSIGNED\' || initiateFormData.status == \'INPROGRESS\'))">\r\n              <button (click)="reasign()" class="btn btn-primary">Re-assign</button>\r\n            </div>\r\n\r\n          </form>\r\n        </div>\r\n\r\n\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div *ngIf="(initiateFormData.status == \'ESIGNED\')">\r\n  \x3c!-- <app-form-five-preview></app-form-five-preview> --\x3e\r\n\r\n\r\n\r\n   <b> View Submitted Form </b> <button  class="btn bg-primary mr-2 btn-small text-white ml-4"  type="button" routerLink=\'../form5/view\'>View</button>\r\n  </div>\r\n\r\n\r\n\x3c!-- <div *ngIf="initiateFormData.status == \'SUBMITTED\'">\r\n    <div class="row">\r\n      <div class="col-md-12">\r\n        <div class="text-center">\r\n          <button  type="button"  class="btn btn-danger"  (click)="reasign()" *ngIf="initiateFormData.promoterStatus != \'ACCEPTED\'" > Reject</button>\r\n          <button  type="button" [disabled]="initiateFormData.promoterStatus == \'ACCEPTED\'"  class="btn btn-success ml-3"  (click)="prmoterAccept()" > Accept</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</div> --\x3e\r\n\r\n\r\n\r\n\x3c!--- modalPopupShowClauseHistory---\x3e\r\n\r\n<div class="modal show" *ngIf="history">\r\n  <div class="modal-dialog modal-lg modal-dialog-centered">\r\n    <div class="modal-content">\r\n\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n        <h3 class="modal-title"><b>Show History</b></h3>\r\n        <button type="button" class="close" (click)="cancelModal()">&times;</button>\r\n      </div>\r\n      \x3c!-- Modal body --\x3e\r\n      <div class="modal-body">\r\n        <table class="table table-bordered text-center">\r\n\r\n          <thead>\r\n            <tr class="bg-gray text-dark">\r\n              <th class="w-20">Authority Status</th>\r\n              <th class="w-20">Authority Remark</th>\r\n              <th class="w-20">Promoter Remark</th>\r\n\r\n\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr *ngFor="let data of  historyData">\r\n              <td>{{data.authStatus}}</td>\r\n              <td>{{data.authRemark}}</td>\r\n              <td>{{data.userRemark}}</td>\r\n            </tr>\r\n\r\n\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      \x3c!-- Modal footer --\x3e\r\n\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\x3c!--- modalPopupShowClauseHistory---\x3e\r\n\r\n\r\n\x3c!--- modalPopupshowPromoterDetail---\x3e\r\n<div class="modal show" *ngIf="inq">\r\n  <div class="modal-dialog modal-xl modal-dialog-centered">\r\n    <div class="modal-content">\r\n\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n        <h4 class="modal-title"><b>Add Reply for Enquiry</b> </h4>\r\n        \x3c!-- <button type="button" class="close" data-dismiss="modal">&times;</button> --\x3e\r\n      </div>\r\n\r\n      \x3c!-- Modal body --\x3e\r\n      <form [formGroup]="remarkGroup" id="validateFoem">\r\n        <div class="modal-body ">\r\n\r\n\r\n\r\n\r\n          <div class="col-md-12">\r\n            \x3c!-- <img alt="#" src="assets/images/top_bar.png" class="w-75"> --\x3e\r\n            <textarea rows="5" cols="1" class="form-control" placeholder="Please Enter Remarks" name="remark"\r\n              formControlName="remark"></textarea>\r\n            <div class="error-box"><small class="error">Please enter remarks</small>\r\n            </div>\r\n          </div>\r\n          <div class="col-md-12 text-center mt-3 mb-2"><button class="btn btn-small bg-success text-white"\r\n              [disabled]="remarkGroup.invalid" (click)="onReject()">Submit</button> <button\r\n              class="btn btn-small bg-danger text-white " id="cancel" (click)="cancelModal()">Cancel</button> </div>\r\n\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\x3c!--- modalPopupshowPromoterDetail---\x3e\r\n\r\n\r\n<div class="card-body">\r\n  <div class="card-header"><b>Form 5 Default List</b></div>\r\n  <div class="row">\r\n    <div class=" col-md-12 table-responsive mb-4">\r\n      <table class="table table-bordered">\r\n        <thead>\r\n          <tr class="text-center bg-light  text-size-small">\r\n\r\n            <td>Sr.No.</td>\r\n            <td>Defaulter Id</td>\r\n            <td>Authority Remark</td>\r\n            <td>Extended Date</td>\r\n            <td>Additional Amount</td>\r\n            <td>Date of Opening</td>\r\n            <td>Status</td>\r\n            <td>Payment</td>\r\n            <td>Transaction No</td>\r\n\r\n\r\n          </tr>\r\n        </thead>\r\n        <ng-container *ngIf="defaulterFiveData.length > 0;else defaulterFiveData_na">\r\n          <tbody>\r\n            <tr class="text-center" *ngFor=" let defaultData of defaulterFiveData; let i=  index">\r\n\r\n              <td>\r\n\r\n                {{i+1}}\r\n              </td>\r\n              <td>{{defaultData.defaulterId}}</td>\r\n              <td>{{defaultData.authRemark}}</td>\r\n              <td class="text-nowrap">{{defaultData.extendedDate | date:\'dd-MM-yyyy\' }}</td>\r\n              <td>{{amountChange(defaultData.penaltyAmount)}}</td>\r\n              <td class="text-nowrap">{{defaultData.dateOfOpening| date : \'dd-MM-yyyy\'}}</td>\r\n              <td>{{defaultData.status}}</td>\r\n              <td>\r\n                \r\n                <span *ngIf="(defaultData.paymentStatus != \'SUCCESS\' && defaultData.penaltyAmount != 0 && initiateFormData.status != \'ESIGNED\' && defaultData.status != \'DISCARDED\'); else _DonePayment">\r\n                  <button class="btn btn-primary" type="button" [routerLink]="\'/form-five/challan/payment\'">Pay Now</button>\r\n                </span>\r\n                \r\n                <ng-template #_DonePayment>\r\n                  <ng-container  *ngIf="defaultData.penaltyAmount != 0; else _withoutPayment">\r\n                  Done</ng-container>\r\n                </ng-template>\r\n\r\n                <ng-template #_withoutPayment> \r\n                  Without Processing Fee\r\n                </ng-template>\r\n\r\n              </td>\r\n\r\n\r\n              <td>\r\n                <span *ngIf="defaultData.paymentStatus == \'SUCCESS\'; else _notDonePaymentLink">\r\n                  <u>\r\n                    <a href="javascript:void(0)" class="link-text"\r\n                      (click)="showDetails(defaultData.trxNo)">{{defaultData.trxNo}}</a>\r\n                  </u>\r\n                  &nbsp;&nbsp;\r\n                  <u>\r\n                    <a href="{{downloadReciept}}{{defaultData.trxNo}}" title="Download Payment Receipt"><i\r\n                        class="icon icon-download red"></i>\r\n                    </a>\r\n                  </u>\r\n                </span>\r\n                <ng-template #_notDonePaymentLink>\r\n                  --\r\n                </ng-template>\r\n              </td>\r\n\r\n\r\n            </tr>\r\n          </tbody>\r\n        </ng-container>\r\n        <ng-template #defaulterFiveData_na>\r\n          <tbody>\r\n            <tr class="text-center">\r\n              <td colspan="9">Data Not Available</td>\r\n            </tr>\r\n          </tbody>\r\n        </ng-template>\r\n      </table>\r\n\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n\r\n<app-tooltip [tooltipEvent]="tooltipJson"></app-tooltip>\r\n\r\n\r\n\r\n\r\n\r\n<div class="modal show" id="myModal" *ngIf="showPaymentReceipt">\r\n  <div class="modal-dialog modal-lg">\r\n    <div class="modal-content">\r\n\r\n\r\n      <div class="modal-header">\r\n        <h4 class="modal-title">Payment</h4>\r\n        <button type="button" class="close" (click)="popupClose()">&times;</button>\r\n      </div>\r\n\r\n\r\n\r\n\r\n      <div class="modal-body">\r\n\r\n        <div class="row mt-4">\r\n          <div class="col-md-12">\r\n            <app-payment-view [paymentDataArray]="sendInBehaviou"></app-payment-view>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n'},NnOs:function(t,e,r){"use strict";r.r(e),e.default='\x3c!-- <h2>{{requestListCategoryLabel}}- ({{listingResponse?.length}})</h2> --\x3e\r\n<div class="row">\r\n  <div class=" col-md-12 table-responsive">\r\n    <div #listing class="text-right">\r\n      <button (click)="exportToExcel()" class="mb-2 btn btn-success">Export To Excel</button>\r\n      <table class="table table-bordered text-left misDashTable text-left">\r\n        <thead>\r\n          <tr class="bg-light  text-size-small">\r\n            <th>Sr.No.</th>\r\n            <th>Heads</th>\r\n            <th>Token No.</th>\r\n            <th>Transaction No.</th>\r\n            <th>Registration Type</th>\r\n            <th>Amount (INR)</th>\r\n            <th>Additional Amount (INR)</th>\r\n            <th>Total Amount (INR)</th>\r\n            <th>Payment Date</th>\r\n            <th>Status</th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor="let data of paymentlistingResponse; let i = index">\r\n            <td>{{i+1}}</td>\r\n            <td>{{data?.paymentHead}}</td>\r\n            <td>{{data?.tokenNo}}</td>\r\n            <td>{{data?.onlineTransactionNo}}</td>\r\n            <td>{{data?.processName}}</td>\r\n            <td>{{transformAmount(data?.amount)}}</td>\r\n            <td>{{transformAmount(data?.penaltyAmount)}}</td>\r\n            <td>{{transformAmount(data?.totalAmount)}}</td>\r\n            <td>{{data?.paymentDate | date: "dd-MM-yyyy"}}</td>\r\n            <td>{{data?.payment_status}}</td>\r\n            <td>\r\n              <u>\r\n               <a href="{{downloadReciept}}{{data?.onlineTransactionNo}}" title="Download Payment Receipt"><i class="icon icon-download red"></i></a>\r\n             </u>\r\n\r\n             \x3c!-- <a href="javascript:void(0)" (click)="takeActionOnData(data)"> <img alt="#" src="/assets/images/673585-200.png"> </a> --\x3e\r\n           </td>\r\n          </tr>\r\n          <tr *ngIf="paymentlistingResponse.length==0">\r\n            <td> Data Not Availble.</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\x3c!-- <div class="row">\r\n    <div class="col-md-12 text-center"> <a href="{{\'#/mis/payment-dashboard\'}}" title="Back"><button class="btn btn-primary"> Back</button></a></div>\r\n</div> --\x3e'},P9oO:function(t,e,r){"use strict";r.r(e),e.default='<div class="row">\r\n\r\n\r\n\r\n\r\n  <div class="container-fluid">\r\n\r\n    <div class="col-md-12 ">\r\n      <nav aria-label="Page navigation example">\r\n        <nav aria-label="Page navigation example">\r\n          <div class="breadcrumb flat">\r\n            <a routerLink="/dashboard/promoter" class="active">Dashboard</a>\r\n            <a routerLink="/project-dashboard/project-view" class="active">Project Summary</a>\r\n          </div>\r\n        </nav>\r\n      </nav>\r\n    </div>\r\n    <div class="col-md-12 mb-1 ">\r\n      <ul class="nav nav-tabs" style="padding:14px; background:#fff; border-radius: 5px;">\r\n        <li class="active ">\r\n          <a data-toggle="tab" href="javascript:void(0)"\r\n            class=" bg-dark text-black  pr-3 pb-2 pt-2 pl-3  m-1">{{ projectName }}\r\n            \x3c!-- <span class="badge bg-dark text-white font-weight-bold ml-2">{{ status }}</span> --\x3e\r\n            <span class="badge bg-dark text-white font-weight-bold ml-2 cursor-pointer"\r\n              (click)="ViewCurrentFormStatusInnerSide()">\r\n              <u>(View)</u>\r\n            </span>\r\n          </a>\r\n        </li>\r\n        &nbsp;\r\n        <li class="active ">\r\n          <a download href="{{recieptDownload}}"\r\n            class=" bg-dark text-black  pr-3 pb-2 pt-2 pl-3  m-1 cursor-pointer">Project Certificate <i\r\n              class="icon icon-download"></i>\r\n          </a>\r\n        </li>\r\n        <li class="">\r\n          <span class="badge bg-dark text-white font-weight-bold ml-2">Registration No - {{ registrationNo }}</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class="col-md-12">\r\n      <div>\r\n        \x3c!-- .card-body --\x3e\r\n\r\n        <div class="tab-content">\r\n\r\n          <div>\r\n            <div *ngIf="noActive" class="customizer slideNav" id="slideNav"> <a href="javascript:void(0);" class="service-panel-toggle" (click)="slideNav($event)"> Apply </a>\r\n              <div class="customizer-body ps-container ps-theme-default"\r\n                data-ps-id="ca360c72-0fcd-5255-8197-ce41a6d409ad">\r\n                <div class="tab-content" id="pills-tabContent">\r\n                  \x3c!-- Tab 1 --\x3e\r\n                  <div class="tab-pane fade show active" id="pills-home" role="tabpanel">\r\n                    <div class="p-3 border-bottom">\r\n                      \x3c!-- Sidebar --\x3e\r\n                      <div class="title bg-dark btn-small btn-block text-white"> {{ projectName }}</div>\r\n                      <a href="javascript:void(0)" (click)="alterationAction(\'Section-14\')"\r\n                        class=" bg-dark-50 text-dark btn-small btn-block">\r\n                        &bull; Section 14 (Alteration)</a>\r\n                        <a href="javascript:void(0)" (click)="alterationAction(\'Mini Alteration\')"\r\n                        class=" bg-dark-50 text-dark btn-small btn-block">\r\n                        &bull; Data Correction</a>\r\n                      <a href="javascript:void(0)" (click)="alterationSec15Action()"\r\n                        class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Section\r\n                        15</a> \r\n                        <a href="javascript:void(0)" (click)="applyForExtension()"\r\n                        class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Project Extension </a>\r\n                      \r\n                      \r\n                      \r\n                        <a href="javascript:void(0)" (click)="openBcr()"\r\n                        class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Bank Change Request </a>\r\n\r\n                        <a href="javascript:void(0)" (click)="getListingOfBankCorrection()"\r\n                        class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Bank Change Request (Correction) </a>\r\n\r\n\r\n                      <div class="dropdown profChange mt-2" >\r\n                      <div class="title bg-dark btn-small btn-block text-white dropdown-toggle mb-0"  (click)="prChangeMenu($event)"> Profile Change Request</div>\r\n                      <div class="downMenu border" id="prChangeMenu">\r\n                      <a href="javascript:void(0)" (click)="profileChangeRedirect(1, \'TP_PCWF\')"\r\n                        class=" bg-dark-50 text-dark btn-small btn-block"> &bull; TP </a>\r\n                        <a href="javascript:void(0)" (click)="profileChangeRedirect(2, \'LEGAL_PCWF\')"\r\n                          class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Legal </a>\r\n                          <a href="javascript:void(0)" (click)="profileChangeRedirect(3, \'TP_LEGAL_PCWF\')"\r\n                          class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Both (TP and Legal) </a>\r\n                        </div>\r\n                      </div>\r\n                      <div class="dropdown profChange mt-2" >\r\n                        <div class="title bg-dark btn-small btn-block text-white dropdown-toggle mb-0"  (click)="prChangeMenuWF($event)"> Profile Change Without Fees Request</div>\r\n                        <div class="downMenu border" id="prChangeMenuWF">\r\n                        <a href="javascript:void(0)" (click)="setTotalFetchable($event,1)"\r\n                          class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Previous Project Details </a>\r\n                            <a href="javascript:void(0)" (click)="setTotalFetchable($event,4)"\r\n                            class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Associated Vendor Details </a>\r\n                            <a href="javascript:void(0)" (click)="setTotalFetchable($event,5)"\r\n                            class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Financial Documents </a>\r\n                          </div>\r\n                        </div>\r\n                      <a [routerLink]="[\'list-view\']" class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Form 5\r\n                      </a>\r\n                      <a href="javascript:void(0)" (click)="openQPR()" class=" bg-dark-50 text-dark btn-small btn-block"> &bull; QPR </a>\r\n                      \x3c!-- <a href="#/seal-trust-promoter" class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Seal For\r\n                        Trust </a>\r\n                      <a href="#/execute-afs" class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Execute Seal For\r\n                        Trust </a> --\x3e\r\n                      \x3c!-- <a href="javascript:void(0)" (click)="createTicketFunction()" class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Create Ticket </a> --\x3e\r\n\r\n                    </div>\r\n                  </div>\r\n                  \x3c!-- End Tab 1 --\x3e\r\n\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <hr class="mb-3 mt-3">\r\n            <div class="col-md-12 mb-3  progressShow">\r\n              <ul class="nav nav-tabs mt-4">\r\n                <li class="active">\r\n                  <a   href="#pendingPrm"\r\n                    class="bg-dark text-black btn btn-primary "><span class="text">Pending on Promoter</span>&nbsp;<span class="badge badge-light">{{viewMasterProjectPromoter.length}}</span></a>&nbsp;&nbsp;\r\n                    <a    href="#pendingAuth"\r\n                      class="bg-dark text-black btn btn-primary  "><span class="text">Pending on Authority</span>&nbsp;<span class="badge badge-light">{{viewMasterProjectAuthority.length}}</span></a>&nbsp;&nbsp;\r\n                      <a    href="#summary"\r\n                        class="bg-dark text-black btn btn-primary  "><span class="text">Summary</span>&nbsp;<span class="badge badge-light">{{viewMasterProjectSummary.length}}</span></a>&nbsp;&nbsp;\r\n                          <a    href="#penOnProf"\r\n                            class="bg-dark text-black btn btn-primary  "><span class="text">Pending on Professional</span>&nbsp;<span class="badge badge-light">{{regArray.length}}</span></a>&nbsp;&nbsp;\r\n                            <a    href="#bankReq"\r\n                              class="bg-dark text-black btn btn-primary  "><span class="text">Bank Change Request</span>&nbsp;<span class="badge badge-light">{{bcrData.length}}</span></a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n\r\n\r\n            <hr class="mb-3 mt-3">\r\n            <div class="col-md-12 mb-3" *ngIf="showCurrentBankAccount">\r\n              \r\n                <div class="active text-center">\r\n\r\n                 \r\n                   <h3>Current Bank Details for the project is : Account No - {{currentBankAccount.accountNumber}} and Bank Name - {{currentBankAccount.bankName}}. In case this is not your current bank detail, <a href="javascript:void(0)" (click)="clickToRedirectOnDC()" class="link-text">Click Here </a>\r\n                  </h3>                 \r\n                </div>\r\n              \r\n            </div>\r\n\r\n\r\n\r\n            <div class="mt-3">\r\n              <div class="row mb-4">\r\n                <div class="col-md-6">\r\n                  <div class="card ">\r\n                    <div class="card-header text-center" id="pendingPrm"><b>Pending on Promoter</b></div>\r\n                    <div class="card-body card_body_fix_height">\r\n                      <div class="table-responsive pb-2">\r\n                        <table class="table table-bordered text-center">\r\n                          <thead>\r\n                            <tr class="bg-gray text-dark">\r\n                              <td>Application</td>\r\n                              <td>Project Name</td>\r\n                              <td>Type</td>\r\n                              <td>Ack. No. </td>\r\n                              <td>Status</td>\r\n                              <td colspan="2">Action</td>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody *ngIf="noActive && viewMasterProjectPromoter?.length > 0; else noRecordFoundPromoter">\r\n                            <tr *ngFor="let promPending of viewMasterProjectPromoter">\r\n                              <td>\r\n                                <span> {{showProcessType(promPending?.application, promPending?.profileType)}}</span>\r\n                                \x3c!-- <span *ngIf="promPending?.application == \'tPProfileChange\'">\r\n                                  TP Profile Change\r\n                                </span>\r\n\r\n                                <span *ngIf="promPending?.application == \'legalProfileChange\'"> Legal Profile\r\n                                  Change</span>\r\n\r\n                                <span\r\n                                  *ngIf="promPending?.application == \'Alteration\' || promPending?.application == \'Extension\' || promPending?.application == \'Alteration-15\' || promPending?.application == \'QPR\'">\r\n                                  {{ promPending?.application }}\r\n                                </span>\r\n                                <span *ngIf="promPending?.application == \'sealForTrust\'"> Seal For Trust\r\n                                </span> --\x3e\r\n                              </td>\r\n\r\n\r\n                              <td>\r\n                                <u>\r\n                                  <span\r\n                                    *ngIf="promPending?.application == \'Alteration\' || promPending?.application == \'Extension\' || promPending?.application == \'tPProfileChange\' || promPending?.application == \'legalProfileChange\' || promPending?.application == \'Alteration-15\' || promPending?.application ==\'QPR\'">\r\n                                    <a href="javascript:void(0)"\r\n                                      (click)="navigationManagment(promPending?.viewProcessId,promPending?.viewProjectId,promPending?.application,\'oldRedirect\',promPending?.wfoId,promPending?.alterationType,promPending?.profileType)">{{ promPending?.projectName }}</a>\r\n                                  </span>\r\n                                </u>\r\n\r\n                                <span\r\n                                  *ngIf="promPending?.application != \'Alteration\' && promPending?.application != \'Extension\' && promPending?.application != \'tPProfileChange\' && promPending?.application != \'legalProfileChange\' && promPending?.application !=\'Alteration-15\' && promPending?.application !=\'QPR\'">\r\n                                  {{ promPending?.projectName }}</span>\r\n\r\n                              </td>\r\n\r\n\r\n                              <td>{{ promPending?.projectType }}</td>\r\n                              <td><span class="badge badge-dark">{{ promPending?.ackNo }}</span></td>\r\n                              <td>\r\n                                <span class="badge badge-dark">\r\n\r\n                                  {{showStatusForPromoter(promPending?.status, promPending?.application)}}\r\n                                \r\n                                </span>\r\n                              </td>\r\n\r\n\r\n\r\n                              <td\r\n                                *ngIf="(promPending?.application == \'Alteration\' || promPending?.application == \'Extension\' || promPending?.application == \'tPProfileChange\' || promPending?.application == \'legalProfileChange\' || promPending?.application ==\'Alteration-15\' || promPending?.application ==\'QPR\')  && promPending?.stateCode == \'AWAITIGCOMP\'">\r\n                                <a href="javascript:void(0)" class="btn btn-small bg-warning"\r\n                                  (click)="projectEnquiries(promPending?.application,promPending?.viewProcessId)">Reply</a>\r\n                              </td>\r\n\r\n                              <td\r\n                                *ngIf="promPending?.status != \'Saved As Draft\' && (promPending?.application == \'Alteration\' || promPending?.application == \'Extension\') && promPending?.status != \'REVIEW\'">\r\n                                <a href="javascript:void(0)" class="btn btn-small btn-warning"\r\n                                  (click)="ProjectWithdraw(null,promPending?.application,promPending?.viewProjectId,promPending?.viewProcessId)">Withdraw</a>\r\n                              </td>\r\n\r\n\r\n                              \x3c!-- <td *ngIf="promPending?.status == \'Saved As Draft\' || promPending?.application == \'BCR\'">--\r\n                              </td> --\x3e\r\n                              <td *ngIf="promPending?.status == \'REVIEW\'">\r\n                                <a href="javascript:void(0)" class="btn btn-small btn-warning"\r\n                                  (click)="ProjectSurvey()">Open</a>\r\n                              </td>\r\n\r\n\r\n                              <td\r\n                                *ngIf="promPending?.cahngeLandAreaFlag == \'Yes\' && promPending?.application==\'Alteration\'">\r\n                                <a href="javascript:void(0)" class="btn btn-small btn-info"\r\n                                  (click)="payChangeLandArea(promPending?.viewProcessId,\'PROJECT_ALT\')">Pay</a>\r\n                              </td>\r\n                              \x3c!-- <td *ngIf="promPending?.cahngeLandAreaFlag == \'No\'">--</td> --\x3e\r\n                              <td>\r\n\r\n                                    <u>\r\n                                      <a href="javascript:void(0);" *ngIf="((promPending.status==\'Saved As Draft\' && (promPending?.application == \'Alteration\' || promPending?.application == \'Extension\' || promPending?.application == \'Alteration-15\')) || (promPending.status==\'INPROGRESS\' && (promPending?.application  == \'tPProfileChange\' || promPending?.application  == \'legalProfileChange\')));" (click)="showConfirmation(promPending?.viewProcessId,promPending?.application)">Discard\r\n                                      </a>\r\n                                    </u>\r\n\r\n                              </td>\r\n                            </tr>\r\n                          </tbody>\r\n\r\n                          <ng-template #noRecordFoundPromoter>\r\n                            <tbody>\r\n                              <tr>\r\n\r\n                                <td colspan="8"><span class="error">No record found!</span></td>\r\n\r\n\r\n                              </tr>\r\n                            </tbody>\r\n                          </ng-template>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                    <div class="card-footer text-right"></div>\r\n                  </div>\r\n                </div>\r\n\r\n\r\n\r\n\r\n\r\n                <div class="col-md-6">\r\n                  <div class="card ">\r\n                    <div class="card-header text-center" id="pendingAuth"><b>Pending on Authority </b></div>\r\n                    <div class="card-body card_body_fix_height">\r\n                      <div class="table-responsive pb-2">\r\n                        <table class="table table-bordered text-center">\r\n                          <thead>\r\n                            <tr class="bg-gray text-dark">\r\n                              <td>Application</td>\r\n                              <td>Project Name</td>\r\n                              \x3c!-- <td>Alteration Type</td> --\x3e\r\n                              <td>Type</td>\r\n                              <td>Ack. No. </td>\r\n                              <td>Status</td>\r\n                              \x3c!-- <td>Submited On</td>\r\n                              <td>Initiated On</td> --\x3e\r\n                              <td colspan="2">Action</td>\r\n                              \x3c!-- <td>Discard</td> --\x3e\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody *ngIf="noActive && viewMasterProjectAuthority?.length > 0; else noRecordFoundAuthority">\r\n                            <tr *ngFor="let authPending of viewMasterProjectAuthority">\r\n                              <td>\r\n                                <span *ngIf="authPending?.application == \'tPProfileChange\'"> TP Profile Change</span>\r\n\r\n                                <span *ngIf="authPending?.application == \'legalProfileChange\'"> Legal Profile Change\r\n                                </span>\r\n\r\n                                <span\r\n                                  *ngIf="authPending?.application == \'Alteration\' || authPending?.application == \'Extension\' || authPending?.application ==\'Alteration-15\'">\r\n                                  {{ authPending?.application }}\r\n                                </span>\r\n                                <span *ngIf="authPending?.application == \'sealForTrust\'"> Seal For Trust\r\n                                </span>\r\n                              </td>\r\n\r\n                              <td\r\n                                *ngIf="authPending?.application == \'Alteration\' || authPending?.application == \'Extension\' || authPending?.application == \'tPProfileChange\' || authPending?.application == \'legalProfileChange\' || authPending?.application ==\'Alteration-15\'">\r\n                                <u>\r\n                                  <a href="javascript:void(0)"\r\n                                    (click)="navigationManagment(authPending?.viewProcessId,authPending?.viewProjectId,authPending?.application,\'oldRedirect\',authPending?.wfoId,\'Authority\',\'\')">{{ authPending?.projectName }}</a>\r\n                                </u>\r\n                              </td>\r\n\x3c!-- promPending?.viewProcessId,promPending?.viewProjectId,promPending?.application,\'oldRedirect\',promPending?.wfoId,promPending?.alterationType --\x3e\r\n                              <td\r\n                                *ngIf="authPending?.application != \'Alteration\' && authPending?.application != \'Extension\' && authPending?.application != \'tPProfileChange\' && authPending?.application != \'legalProfileChange\' && authPending?.application !=\'Alteration-15\'">\r\n                                {{ authPending?.projectName }}\r\n                              </td>\r\n\r\n\r\n                              \x3c!-- <td\r\n                               *ngIf="(authPending?.alterationType == \'SECTION-15\' &&  authPending?.application== \'Alteration\')">\r\n                               <span class="badge badge-dark">Alt-Sec-15</span></td>\r\n                             <td\r\n                               *ngIf="(authPending?.alterationType != \'SECTION-15\' &&  authPending?.application== \'Alteration\')">\r\n                               <span class="badge badge-dark">Alt-Sec-14</span></td> --\x3e\r\n                              \x3c!-- <td *ngIf="(authPending?.application!= \'Alteration\')">--</td> --\x3e\r\n                              <td>{{ authPending?.projectType }}</td>\r\n                              <td><span class="badge badge-dark">{{ authPending?.ackNo }}</span></td>\r\n                              <td>\r\n\r\n                                <span class="badge badge-dark"\r\n                                *ngIf="authPending?.status != \'SECRETRY\' ; else _otherStatus">{{ authPending?.status }}\r\n                              </span>\r\n\r\n                              <ng-template #_otherStatus>\r\n                                <span class="badge badge-dark" *ngIf="authPending?.status == \'SECRETRY\'">\r\n                                  SECRETARY\r\n                                </span>\r\n                              </ng-template>\r\n\r\n \r\n\r\n\r\n                              </td>\r\n\r\n\r\n\r\n                              <td\r\n                                *ngIf="authPending?.status != \'Saved As Draft\' && authPending?.application != \'tPProfileChange\' && authPending?.application != \'legalProfileChange\' && authPending?.status != \'PENDING_WITH_AUTH\'">\r\n                                <a href="javascript:void(0)" class="btn btn-small btn-warning"\r\n                                  (click)="ProjectWithdraw(null,authPending?.application,authPending?.viewProjectId,authPending?.viewProcessId)">Withdraw</a>&nbsp;&nbsp;\r\n\r\n                                  <span  *ngIf="authPending?.application == \'Alteration\' ">\r\n                                    <a href="javascript:void(0)" class="btn btn-small btn-warning"\r\n                                    (click)="createTicketFunction(authPending?.viewProcessId, \'PROJECT_ALT\', \'YES\')">Create Ticket</a>\r\n                                  </span>\r\n                                  <span *ngIf="authPending?.application == \'Extension\' ">\r\n                                    <a href="javascript:void(0)"  class="btn btn-small btn-warning"\r\n                                    (click)="createTicketFunction(authPending?.viewProcessId, \'PROJECT_EXT\', \'YES\')">Create Ticket</a>\r\n                                  </span>\r\n                                  <span *ngIf="authPending?.application == \'Alteration-15\' ">\r\n                                    <a href="javascript:void(0)"  class="btn btn-small btn-warning"\r\n                                    (click)="createTicketFunction(authPending?.viewProcessId, \'PROJECT_ALT_15\', \'YES\')">Create Ticket</a>\r\n                                  </span>\r\n                              </td>\r\n                              <td\r\n                                *ngIf="authPending?.status == \'Saved As Draft\' || authPending?.application == \'tPProfileChange\' || authPending?.application == \'legalProfileChange\' || authPending?.application ==\'Alteration-15\'">\r\n                                --</td>\r\n                              <td *ngIf="authPending?.status == \'PENDING_WITH_AUTH\'">\r\n                                <a href="javascript:void(0)" class="btn btn-small btn-warning"\r\n                                  (click)="ProjectSurvey()">Open</a>\r\n                              </td>\r\n\r\n\r\n\r\n                              \x3c!-- <td>\r\n\r\n                                    <u>\r\n                                      <a href="javascript:void(0);" *ngIf="(authPending.status!=\'DISCARDED\' && (authPending?.application == \'Alteration\' || authPending?.application == \'Extension\')); else _no_found" (click)="showConfirmation(authPending?.viewProcessId,authPending?.application)">Discard\r\n                                      </a>\r\n                                    </u>\r\n                                    <ng-template #_no_found>--</ng-template>\r\n\r\n                              </td> --\x3e\r\n                            </tr>\r\n                          </tbody>\r\n\r\n                          <ng-template #noRecordFoundAuthority>\r\n                            <tbody>\r\n                              <tr>\r\n                                <td colspan="6"><span class="error">No record found!</span></td>\r\n                              </tr>\r\n                            </tbody>\r\n                          </ng-template>\r\n\r\n\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                    <div class="card-footer text-right">\r\n                      \x3c!-- <a href="javascript:void(0)" class="badge  text-dark" ><i class="icon icon-calendar"></i> Communication</a> | <a href="javascript:void(0)" class="badge  text-dark"><i class="icon icon-folder-open-empty"></i> History</a>  --\x3e\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class="row mb-4">\r\n                <div class="col-md-6">\r\n                  <div class="card ">\r\n                    <div class="card-header text-center" id="summary"><b>Summary</b></div>\r\n                    <div class="card-body card_body_fix_height">\r\n                      <div class="table-responsive pb-2">\r\n                        <table class="table table-bordered text-center">\r\n                          <thead>\r\n                            <tr class="bg-gray text-dark">\r\n                              <td>Application</td>\r\n                              <td>Project Name</td>\r\n                              <td>Type</td>\r\n                              <td>Ack. No. </td>\r\n                              <td>Status</td>\r\n                              \x3c!-- <td>Submited On</td>\r\n                              <td>Initiated On</td> --\x3e\r\n                              <td>Certificate</td>\r\n                              <td>Action</td>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody *ngIf="viewMasterProjectSummary?.length > 0; else noRecordFoundsUMMARY">\r\n                            <tr *ngFor="let projSummary of viewMasterProjectSummary">\r\n\r\n                              <td *ngIf="projSummary?.application == \'Enquiry\'; else notEnquiry">\r\n                                {{ projSummary?.application }} - {{ projSummary?.processName }}</td>\r\n\r\n                              <ng-template #notEnquiry>\r\n                                <td>\r\n                                  <span *ngIf="projSummary?.application == \'tPProfileChange\'"> TP Profile Change </span>\r\n\r\n                                  <span *ngIf="projSummary?.application == \'legalProfileChange\'"> Legal Profile Change\r\n                                  </span>\r\n\r\n                                  <span\r\n                                    *ngIf="projSummary?.application == \'Alteration\' || projSummary?.application == \'Extension\' || projSummary?.application ==\'Alteration-15\' || projSummary?.application ==\'Registration\'">\r\n                                    {{ projSummary?.application }}\r\n                                  </span>\r\n                                </td>\r\n                              </ng-template>\r\n\r\n\r\n                              <td>{{ projSummary?.projectName }}</td>\r\n\r\n                              <td>{{ projSummary?.projectType }}</td>\r\n\r\n\r\n\r\n                              <td\r\n                                *ngIf="projSummary?.application == \'Alteration\' || projSummary?.application == \'Extension\' || projSummary?.application == \'tPProfileChange\' || projSummary?.application == \'legalProfileChange\' || projSummary?.application ==\'Alteration-15\' || projSummary?.application ==\'Registration\'">\r\n                                <u><a href="javascript:void(0)" (click)="navigationManagment(projSummary?.viewProcessId,projSummary?.viewProjectId,projSummary?.application,\'newRedirect\',projSummary?.wfoId,\'Authority\',\'\')">{{ projSummary?.ackNo }}</a></u>\r\n                              </td>\r\n\r\n                              <td *ngIf="projSummary?.stateCode == \'EnquiryView\'">\r\n                                <u><a href="javascript:void(0)"\r\n                                    (click)="projectEnquiriesView(projSummary?.processName,projSummary?.viewProcessId)">{{ projSummary?.ackNo }}</a></u>\r\n                              </td>\r\n\r\n\r\n                              <td *ngIf="projSummary?.stateCode!=\'WITHDRAWAL\'">\r\n                                <span class="badge badge-dark textUpperCase">{{ projSummary?.status }}</span>\r\n                              </td>\r\n\r\n                                <td  *ngIf="projSummary?.stateCode==\'WITHDRAWAL\'">\r\n                                  <a href="javascript:void(0)" class=""\r\n                                  (click)="ProjectWithdraw(null,projSummary?.application,projSummary?.viewProjectId,projSummary?.viewProcessId)"><span class="badge badge-dark">WITHDRAWN</span></a>\r\n                                </td>\r\n                              <td>\r\n                                <a href="{{fileDownlod}}{{projSummary?.certificate}}" download target="_blank" title="Download Certificate"\r\n                                    *ngIf="((projSummary?.application == \'Alteration\' || projSummary?.application == \'Extension\' || projSummary?.application ==\'Alteration-15\' || projSummary?.application ==\'Registration\') && projSummary?.stateCode!=\'WITHDRAWAL\'); else noCertificate">\r\n                                    <i class="icon icon-download red"></i>\r\n                              </a>\r\n                              <ng-template #noCertificate>\r\n                                  <span >--</span>\r\n                                </ng-template>\r\n                              </td>\r\n                              <td>\r\n\r\n                                <a *ngIf="printAvailability(projSummary?.application); else _notAvailable" href="javascript:void(0);" (click)="printApplication(projSummary)" title="Print Application"><i class="icon icon-download red"></i></a>\r\n\r\n                                <ng-template #_notAvailable>--</ng-template>\r\n\r\n                                \x3c!-- |\r\n                                <span *ngIf="printAvailability(projSummary?.application);" (click)="printApplication(projSummary?.application,projSummary?.wfoId)">\r\n                                  <i class="fa fa-file-pdf-o" aria-hidden="true"></i>\r\n                                </span> --\x3e\r\n\r\n\r\n                              </td>\r\n\r\n                            </tr>\r\n                          </tbody>\r\n\r\n                          <ng-template #noRecordFoundsUMMARY>\r\n                            <tbody>\r\n                              <tr>\r\n                                <td colspan="6"><span class="error">No record found!</span></td>\r\n                              </tr>\r\n                            </tbody>\r\n                          </ng-template>\r\n\r\n\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                    <div class="card-footer text-right p-3">\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n\r\n\r\n\r\n                <div class="col-md-6">\r\n                  <div class="card ">\r\n                    <div class="card-header text-center" id="forms5"><b>Form 5</b></div>\r\n                    <div class="card-body card_body_fix_height">\r\n\r\n\r\n                      <div class="">\r\n\r\n                        <div class="row">\r\n                          <div class=" col-md-12 table-responsive mb-4">\r\n                            <table class="table table-bordered">\r\n                              <thead>\r\n                                <tr class="text-center bg-light  text-size-small">\r\n                                  <td>Project Name</td>\r\n                                  <td>Promoter name</td>\r\n                                  <td>Promoter Email</td>\r\n                                </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                                <tr class="text-center">\r\n                                  <td>{{formFiveDetail.projectName}}</td>\r\n                                  <td>{{formFiveDetail.promoterName}}</td>\r\n                                  <td>{{formFiveDetail.promoterEmailId}}</td>\r\n                                </tr>\r\n                              </tbody>\r\n                            </table>\r\n\r\n\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class="row text_class">\r\n                        <div class ="col-md-12">\r\n                        <div class="d-flex justify-content-between mt-4">\r\n                            <div class="water-box d-flex align-items-center level9"><span></span>  ACTIVE</div>\r\n                            <div class="water-box d-flex align-items-center level10"><span></span> SUBMITTED</div>\r\n                            <div class="water-box d-flex align-items-center level0"><span></span> ESIGNED</div>\r\n                            <div class="water-box d-flex align-items-center level11"><span></span> INACTIVE</div>\r\n                            <div class="water-box d-flex align-items-center level12"><span></span> EXEMPT</div>\r\n                            <div class="water-box d-flex align-items-center level13"><span></span> DEFAULTER</div>\r\n                            <div class="water-box d-flex align-items-center level14"><span></span> DEFAULT-ACTIVE</div>\r\n                          </div>\r\n                          </div>\r\n                    </div>\r\n                      <div class="card-header mt-4"><b> Financial Year</b></div>\r\n                      <div class="card-body" *ngIf="noActive">\r\n                        <div class="row">\r\n\r\n                          <div class="form-group col-md-3" class="button-box"\r\n                            *ngFor="let financeYear of formFiveDetail.formFiveListSorted; let last = last">\r\n                            \r\n                              <div class="">\r\n                                <button type="button"   (click)="setData(financeYear.formFiveId, financeYear.financialYearStatus)" \r\n                                [ngClass]="{\r\n                                \'active\':form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'ACTIVE\'),\r\n                                 \'submitted\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'SUBMITTED\'),\r\n                                \'essigned\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'ESIGNED\'),\r\n                                \r\n                                \'inactive\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'INACTIVE\'), \r\n                                \'exempt\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'EXEMPT\'), \r\n                                \'defaulter\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'DEFAULT\'), \r\n                                \'defaultactive\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'DEFAULT-ACTIVE\')\r\n                              }" [disabled]="financeYear.financialYearStatus == \'INACTIVE\'">{{financeYear.financialYear}}<strong *ngIf="last"> Q-E</strong></button>\r\n                            </div>\r\n\r\n\r\n\r\n\r\n\r\n                          </div>\r\n\r\n                        </div>\r\n                      </div>\r\n\r\n\r\n                    </div>\r\n                    <div class="card-footer text-right p-3">\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n\r\n\r\n              <div class="row mb-4 d-none">\r\n                <div class="col-md-12">\r\n                  <div class="card ">\r\n                    <div class="card-header text-center" id="penOnProf"><b>Pending on Professional</b></div>\r\n                    <div class="card-body card_body_fix_height">\r\n                      <div class="table-responsive pb-2">\r\n                        <table class="table table-bordered text-center">\r\n                          <thead>\r\n                            <tr class="bg-gray text-dark">\r\n                              <td>Document</td>\r\n                              <td>Name Of Professional </td>\r\n                              <td> Type</td>\r\n                              <td>Date of Allocation</td>\r\n\r\n                              <td>Status</td>\r\n                              \x3c!-- <td>Date of Submission</td> --\x3e\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <tr *ngFor="let data of regArray">\r\n                              <td>{{data.documentType}}</td>\r\n                              <td>{{data.professionlName}}</td>\r\n                              <td>{{data.applicationOn}}</td>\r\n                              <td>{{data.dateofAllocation  | date : \'dd-MM-yyyy\'}}</td>\r\n                              <td\r\n                                [ngClass]="data.status == \'ASSIGNED\' ? \'badge badge-danger text-white\' : data.status == \'UPLOADED\' ? \'badge badge-success text-white\'  : \'badge badge-primary text-white\'">\r\n                                {{data.status}}</td>\r\n                            </tr>\r\n                            <tr *ngFor="let data of formFiveArray">\r\n                              <td>{{data.documentType}}</td>\r\n                              <td>{{data.professionlName}}</td>\r\n                              <td>{{data.applicationOn}}</td>\r\n                              <td>{{data.dateofAllocation  | date : \'dd-MM-yyyy\'}}</td>\r\n                              <td\r\n                                [ngClass]="data.status == \'ASSIGNED\' ? \'badge badge-danger text-white\' : data.status == \'UPLOADED\' ? \'badge badge-success text-white\'  : \'badge badge-primary text-white\'">\r\n                                {{data.status}}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class="row mb-4">\r\n\r\n                <div class="col-md-12">\r\n                  <div class="card ">\r\n                    <div class="card-header text-center" id="bankReq"><b>Bank Change Request</b></div>\r\n                    <div class="card-body card_body_fix_height">\r\n                      <div class="table-responsive pb-2">\r\n                        <table class="table table-bordered text-center">\r\n                          <thead>\r\n                            <tr class="bg-gray text-dark">\r\n                              <th>Ack No.</th>\r\n                              <th>Account Holder Name</th>\r\n                              <th>Bank Name</th>\r\n                              <th>Account Number </th>\r\n                              <th>Account Type</th>\r\n                              \x3c!-- <th>IFSC Code</th> --\x3e\r\n                              <th>Type</th>\r\n                              <th> Status</th>\r\n                              <th> Approved On</th>\r\n                              <th>Action</th>\r\n                              <th>Discard</th>\r\n                              <th>View</th>\r\n                              \x3c!-- <td>Current Status</td> --\x3e\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody *ngIf="noActive && bcrData?.length > 0; else bcrNorecordFound">\r\n                            <tr *ngFor="let bcrData of bcrData">\r\n                              <td>\r\n                                <span *ngIf="this.bcrData.status == \'INPROGRESS\'; else showAck">\r\n                                  --\r\n                                </span>\r\n\r\n                                <ng-template #showAck>\r\n                                  <span>\r\n                                    {{bcrData?.changeReqNum}}\r\n                                  </span>\r\n                                </ng-template>\r\n\r\n\r\n\r\n                              </td>\r\n                              <td>{{bcrData?.bcrRa1Ra2IdFk?.accountHolderName}}</td>\r\n                              <td>{{bcrData?.bcrRa1Ra2IdFk?.bankName}}</td>\r\n                              <td> {{bcrData?.bcrRa1Ra2IdFk?.accountNumber }}</td>\r\n                              <td>{{bcrData?.bcrRa1Ra2IdFk?.accountType}}</td>\r\n                              \x3c!-- <td>{{bcrData?.bcrRa1Ra2IdFk?.ifscCode}}</td> --\x3e\r\n                              <td>\r\n                                <p\r\n                                  *ngIf="this.bcrData.status == \'INPROGRESS\' || this.bcrData.status == \'PENDING_FINANCE_RA1_RA2\' || this.bcrData.status == \'PENDING_CONTROLLER_RA1_RA2\' || this.bcrData.status == \'APPROVED_CONTROLLER_RA1_RA2\' || this.bcrData.bcrRa3Ra4IdFk == null ">\r\n                                  <span class="badge badge-dark">RA1RA2 </span></p>\r\n\r\n                                <p\r\n                                  *ngIf="this.bcrData.status == \'PENDING_FINANCE_RA3_RA4\' || this.bcrData.status == \'PENDING_CONTROLLER_RA3_RA4\' || this.bcrData.status == \'APPROVED_CONTROLLER_RA3_RA4\' || this.bcrData.bcrRa3Ra4IdFk != null || (this.bcrData.status == \'APPROVED\' && this.bcrData.paymentMode != \'WithoutPayment\')">\r\n                                  <span class="badge badge-dark">RA3RA4</span></p>\r\n                              </td>\r\n\r\n                              <td>\r\n                                <p *ngIf="this.bcrData.status == \'PENDING_FINANCE_RA1_RA2\' || this.bcrData.status == \'PENDING_FINANCE_RA3_RA4\'">\r\n                                  <span class="badge badge-dark">Pending Scrutiny</span></p>\r\n                                <p *ngIf="this.bcrData.status == \'PENDING_CONTROLLER_RA1_RA2\' || this.bcrData.status == \'PENDING_CONTROLLER_RA3_RA4\'">\r\n                                  <span class="badge badge-dark">Pending Scrutiny</span></p>\r\n                                <p *ngIf="this.bcrData.status == \'APPROVED_CONTROLLER_RA1_RA2\'"><span\r\n                                    class="badge badge-dark">Approved RA1RA2</span></p>\r\n                                <p *ngIf="this.bcrData.status == \'APPROVED_CONTROLLER_RA3_RA4\' || this.bcrData.status == \'APPROVED\'">\r\n                                  <span class="badge badge-dark">Approved</span></p>\r\n\r\n                                <p *ngIf="this.bcrData.status == \'REJECTED\'"><span\r\n                                    class="badge badge-danger">Rejected</span></p>\r\n                                <p *ngIf="this.bcrData.status == \'INPROGRESS\'"><span class="badge badge-dark">SAVE AS DRAFT</span></p>\r\n                                <p *ngIf="this.bcrData.status == \'BCR_ENQUIRY\'"><span\r\n                                    class="badge badge-dark">Raised Inquiry</span></p>\r\n                                <p *ngIf="this.bcrData.status == \'DISCARDED\'">\r\n                                  <span class="badge badge-dark">DISCARDED</span>\r\n                                </p>\r\n                              </td>\r\n\r\n\r\n\r\n\r\n                              <td>\r\n                                <ng-container *ngIf="bcrData.status == \'APPROVED_CONTROLLER_RA3_RA4\'; else _otherDatashow">\r\n                                  {{bcrData.updatedOn | date : \'dd-MM-yyyy h:mm:ss\'}}\r\n                                </ng-container>\r\n                                <ng-template #_otherDatashow>\r\n                                  --\r\n                                </ng-template>\r\n                              </td>\r\n\r\n\r\n\r\n\r\n                              <td *ngIf="bcrData?.status == \'INPROGRESS\'|| bcrData?.status == \'PENDING_FINANCE_RA1_RA2\' || bcrData?.status == \'PENDING_CONTROLLER_RA1_RA2\'"\r\n                                (click)="getFullBCRData(bcrData?.id,1)"> <a href="javascript:void(0)"\r\n                                  class="badge badge-success mr-2">View</a>\r\n                              </td>\r\n\r\n                              <td *ngIf="bcrData?.status == \'BCR_ENQUIRY\' && bcrData?.bcrRa3Ra4IdFk != null">\r\n                                <a href="javascript:void(0)" class="badge badge-warning mr-2"\r\n                                  (click)="getFullBCRData(bcrData?.id,2)">Reply</a>\r\n                              </td>\r\n\r\n                              <td *ngIf="bcrData?.status == \'BCR_ENQUIRY\' && bcrData?.bcrRa3Ra4IdFk == null && (bcrData?.paymentMode==\'WithPayment\' || bcrData?.paymentMode==null  || bcrData?.paymentMode==\'null\')">\r\n                                <a href="javascript:void(0)" class="badge badge-warning mr-2"\r\n                                  (click)="getFullBCRData(bcrData?.id,1)">Reply</a>\r\n                              </td>\r\n\r\n                              <td *ngIf="bcrData?.status == \'BCR_ENQUIRY\' && bcrData?.bcrRa3Ra4IdFk == null && (bcrData?.paymentMode==\'WithoutPayment\')">\r\n                                <a href="javascript:void(0)" class="badge badge-warning mr-2"\r\n                                  (click)="getFullBCRData(bcrData?.id,4)">Reply</a>\r\n                              </td>\r\n\r\n                              <td *ngIf="bcrData?.status == \'APPROVED_CONTROLLER_RA1_RA2\' || bcrData?.status == \'PENDING_FINANCE_RA3_RA4\' || bcrData?.status == \'PENDING_CONTROLLER_RA3_RA4\'"\r\n                                (click)="getFullBCRData(bcrData?.id,2)">\r\n                                <a href="javascript:void(0)" class="badge badge-success mr-2">View</a>\r\n                              </td>\r\n\r\n                              <td *ngIf="bcrData?.status == \'APPROVED_CONTROLLER_RA3_RA4\' || bcrData?.status == \'REJECTED\' || bcrData?.status == \'APPROVED\' || bcrData?.status == \'DISCARDED\'" (click)="getFullBCRData(bcrData?.id,3)">\r\n                                <a href="javascript:void(0)" class="badge badge-success mr-2">View</a>\r\n                              </td>\r\n\r\n\r\n                              <td>\r\n\r\n                                <u>\r\n                                  <a href="javascript:void(0);" *ngIf="(bcrData.status!=\'DISCARDED\' && bcrData.status!=\'REJECTED\' && ( bcrData.status==\'Saved As Draft\' || bcrData.status == \'INPROGRESS\')); else _no_found" (click)="showConfirmation(bcrData?.id,\'BCR\')">Discard\r\n                                  </a>\r\n                                </u>\r\n                                <ng-template #_no_found>--</ng-template>\r\n\r\n                              </td>\r\n\r\n                              <td>\r\n\r\n                                <u>\r\n                                  <a href="javascript:void(0);" *ngIf="(bcrData.status!=\'DISCARDED\' &&  bcrData.status!=\'Saved As Draft\' && bcrData.status != \'INPROGRESS\'); else _no_found_pay" title="Print Application" (click)="getFullBCRData(bcrData?.id,3)">Print\r\n                                  </a>\r\n                                </u>\r\n                                <ng-template #_no_found_pay>--</ng-template>\r\n                                |\r\n                                <a href="{{downloadReciept}}{{bcrData?.paymentDetailsFk?.transactionNo}}" class="cursor-pointer" title="Download Payment Receipt" *ngIf="bcrData?.paymentDetailsFk?.transactionNo; else _no_trx">\r\n                                  <i class="icon icon-download green" aria-hidden="true"></i>\r\n                                </a>\r\n                                <ng-template #_no_trx>--</ng-template>\r\n\r\n\r\n                              </td>\r\n\r\n\r\n\r\n\r\n                            </tr>\r\n                          </tbody>\r\n\r\n                          <ng-template #bcrNorecordFound>\r\n                            <tbody>\r\n                              <tr>\r\n                                <td colspan="11"><span class="error">No record found!</span></td>\r\n                              </tr>\r\n                            </tbody>\r\n                          </ng-template>\r\n\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class="col-md-6 d-none">\r\n                  <app-forum [project_id]="projectIdValue"></app-forum>\r\n\r\n                  \x3c!-- <div class="card ">\r\n<div class="card-header text-center"><b>Forum</b></div>\r\n<div class="card-body card_body_fix_height">\r\n<div class="table-responsive pb-2">\r\n\r\n</div>\r\n</div>\r\n</div> --\x3e\r\n                </div>\r\n              </div>\r\n              <div class="row mb-4">\r\n                <div class="col-md-6">\r\n                  <app-agent-yearly-details [project_id]="projectIdValue"></app-agent-yearly-details>\r\n                </div>\r\n\r\n\r\n\r\n                <div class="col-md-6">\r\n                  <div class="card ">\r\n                    <div class="card-header text-center"><b>E-Office </b></div>\r\n                    <div class="card-body card_body_fix_height">\r\n                      <div class="table-responsive pb-2">\r\n                        <table class="table table-bordered text-center">\r\n                          <thead>\r\n                            <tr class="bg-gray text-dark">\r\n                              <td>Sr.No</td>\r\n                              <td>Outward No.</td>\r\n                              <td>E-Office Document</td>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody  *ngIf="noActive && setEofficedata?.length>0 else noEoffice">\r\n                            <tr *ngFor="let data of setEofficedata; let i=index">\r\n                              <td>{{i+1}}</td>\r\n                              <td>{{data.outwordNo}}</td>\r\n                              <td>\r\n                                <span *ngFor="let doclistFile of data?.docAssociateLists">\r\n                                  <app-multi-file-view [Uid]="doclistFile?.docUID"></app-multi-file-view>\r\n                               </span></td>\r\n\r\n\r\n                            </tr>\r\n\r\n                          </tbody>\r\n                          <ng-template #noEoffice>\r\n                            <tbody>\r\n                              <tr>\r\n                                <td colspan="3"><span class="error">No record Found.</span></td>\r\n                              </tr>\r\n                            </tbody>  \r\n                          </ng-template>\r\n                        </table>\r\n                        \r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n\r\n\r\n              <div class="row mb-4">\r\n                <div class="col-md-12">\r\n                  <div class="card ">\r\n                    <div class="card-header text-center"><b>Payments </b></div>\r\n                    <div class="card-body card_body_fix_height">\r\n\r\n\r\n                      <app-payment-aggregate></app-payment-aggregate>\r\n\r\n\r\n\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n\r\n\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n\r\n<div class="popup-overlay" *ngIf="modalPopup"></div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\x3c!-- Withdraw Start --\x3e\r\n<div class="popup-overlay" *ngIf="WithdrawPopup"></div>\r\n<div class="modal show" *ngIf="WithdrawPopup">\r\n  <div class="modal-dialog modal-xl">\r\n    <div class="modal-content">\r\n\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n        <h4 class="modal-title">Withdraw Project</h4>\r\n        <button type="button" class="close" (click)="closePopupWithdraw()">&times;</button>\r\n      </div>\r\n\r\n      \x3c!-- Modal body --\x3e\r\n      <div class="modal-body">\r\n\r\n\r\n        <app-project-withdraw [projectRegId]="projectRegIdForSelector"  (myOutput) ="GetChildData($event)"></app-project-withdraw>\r\n\r\n\r\n\r\n        \x3c!-- Modal footer --\x3e\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div> \r\n\x3c!-- Withdraw End --\x3e\r\n\r\n<div class="modal show" *ngIf="applyPopup">\r\n  <div class="modal-dialog modal-lg">\r\n    <div class="modal-content">\r\n      <div class="modal-header">\r\n        <h4 class="modal-title">Checklist</h4>\r\n        <button type="button" class="close" (click)="popupCheckClose()">&times;</button>\r\n      </div>\r\n      <div class="modal-body">\r\n        <p class="mb-3">To ensure quick application submission, please go through below checklist and keep them ready before filling application online</p>\r\n        <p>A. Checklist of Key Information Required - <a class="link-color" href="/resources/staticpage/checklistDoc1.pdf" download>Download</a></p>\r\n        <p>B. Checklist of Key Documents Required - <a class="link-color" href="/resources/staticpage/checklistDoc2.pdf" download>Download</a></p>\r\n        <p>C. Project Document Index - <a class="link-color" href="/resources/staticpage/checklistDoc3.pdf" download>Download</a></p>\r\n        <p class="errorMsg text-center mt-3">(Please bring hard copy of Affidavits at the time of hard copy submission of your application)</p>\r\n      </div>\r\n      <div class="modal-footer">\r\n        <button value="Submit"  class="btn btn-primary" (click)="popupOk()">OK</button>\r\n          </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="popup-overlay" *ngIf="applyPopup"></div>\r\n<div id="alt_int_f" *ngIf="tabTicket" class=" tab-pane active">\r\n\r\n\r\n  <div class="card-body card_body_fix_height">\r\n    <div class="table-responsive pb-2">\r\n      \x3c!-- <app-ticket-view [callableTicket]="callBackTicket"></app-ticket-view> --\x3e\r\n    </div>\r\n  </div>\r\n  \x3c!-- <div class="card-footer text-right"><a href="#" class="badge  text-dark"><i\r\n        class="icon icon-calendar"></i> Communication</a> | <a href="#" class="badge  text-dark"><i\r\n        class="icon icon-folder-open-empty"></i> History</a> </div> --\x3e\r\n\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n<div class="modal show" *ngIf="applyForBCRNotificationPop">\r\n  <div class="modal-dialog modal-lg">\r\n    <div class="modal-content">\r\n      <div class="modal-header">\r\n        <h4 class="modal-title">Bank Change Request</h4>\r\n        <button type="button" class="close" (click)="bcrPopupClose()">&times;</button>\r\n      </div>\r\n      <div class="modal-body">\r\n        <span>\r\n          Is your bank account as per RERA banking directions, 2018?\r\n        </span>\r\n        \r\n      </div>\r\n      <div class="modal-footer">\r\n        <button value="Submit"  class="btn btn-primary" (click)="bcrPopupOk(\'YES\')">Yes</button>\r\n        <button value="Submit"  class="btn btn-primary" (click)="bcrPopupOk(\'NO\')">No</button>\r\n          </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="popup-overlay" *ngIf="applyForBCRNotificationPop"></div>\r\n\r\n\r\n\r\n\r\n<div class="modal show" *ngIf="applyForBCRNotificationPopSecond">\r\n  <div class="modal-dialog modal-lg">\r\n    <div class="modal-content">\r\n      <div class="modal-header">\r\n        <h4 class="modal-title">Bank Change Request</h4>\r\n        <button type="button" class="close" (click)="bcrPopupClose2()">&times;</button>\r\n      </div>\r\n      <div class="modal-body">\r\n        <span>\r\n          Do you want to proceed with BCR or Data Correction?\r\n        </span>\r\n        \r\n      </div>\r\n      <div class="modal-footer">\r\n        <button value="Submit"  class="btn btn-primary" (click)="bcrPopupOk2(\'YES\')">BCR</button>\r\n        <button value="Submit"  class="btn btn-primary" (click)="bcrPopupOk2(\'NO\')">Data Correction</button>\r\n          </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="popup-overlay" *ngIf="applyForBCRNotificationPopSecond"></div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n<app-create-ticket [createTicket]="ticketPopUp"></app-create-ticket>\r\n<app-change-land-detail></app-change-land-detail>\r\n<app-loader *ngIf="loadingSpinner"></app-loader>\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n<app-confirmation-box (outEm)="confirmationEvent($event)" [showMessage]="confirmationEventB"></app-confirmation-box>'},QK1p:function(t,e,r){"use strict";r.r(e),e.default='\x3c!-- <app-form-five-preview></app-form-five-preview> --\x3e\r\n<app-authority-form-five-preview></app-authority-form-five-preview>\r\n\r\n<div>\r\n    <div class="row">\r\n      <div class="col-md-12">\r\n        <div class="text-center">\r\n\r\n          \x3c!-- <button  type="button" [disabled]="initiateFormData.promoterStatus == \'ACCEPTED\'"  class="btn btn-success ml-4"  (click)="prmoterAccept()" > Accept</button>\r\n          <button  type="button"  class="btn btn-danger ml-4"  (click)="reasign()" *ngIf="initiateFormData.promoterStatus != \'ACCEPTED\'" > Reject</button> --\x3e\r\n\r\n\r\n\r\n          <button  type="button" *ngIf="(initiateFormData.financialYearStatus == \'ACTIVE\' && initiateFormData.status == \'ESIGNED\')" class="btn btn-success ml-4"  (click)="fORM5AcceptAndReject(\'ACCEPTED\')" > Accept</button>\r\n          \x3c!-- <button  type="button"  class="btn btn-danger ml-4"  (click)="rejectByPromoter()" *ngIf="(initiateFormData.financialYearStatus == \'ACTIVE\' && initiateFormData.status == \'ESIGNED\')" > Reject</button> --\x3e\r\n\r\n          <button  type="button"  class="btn btn-danger ml-4"  (click)="showConfirmation(\'REJECT\')" *ngIf="(initiateFormData.financialYearStatus == \'ACTIVE\' && initiateFormData.status == \'ESIGNED\')" > Reject</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</div>\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n<app-confirmation-box (outEm)="confirmationEvent($event)" [showMessage]="confirmationEventB"></app-confirmation-box>'},bM3u:function(t,e,r){"use strict";r.r(e),e.default=""},dF3W:function(t,e,r){"use strict";r.r(e),e.default=""},"f/PK":function(t,e,r){"use strict";r.r(e),e.default='<div class="card ">\r\n  <div class="card-header text-center"><b>Agent yearly Details</b></div>\r\n  <div class="card-body card_body_fix_height">\r\n    <div class="table-responsive pb-2">\r\n      <table class="table table-bordered text-center">\r\n        <thead>\r\n          <tr class="bg-gray text-dark">\r\n            <th>Sr. No.</th>\r\n            <th>Agent Name</th>\r\n            <th>Agent Type</th>\r\n            <th>Registration No.</th>\r\n            <th>Unit List</th>\r\n            \x3c!-- <th>Status/Action</th> --\x3e\r\n          </tr>\r\n        </thead>\r\n        <tbody *ngIf="yearlyDetailsList?.length > 0; else noyearlydata">\r\n          <tr *ngFor="let data of yearlyDetailsList, let ip = index">\r\n            <td>{{ip+1}}</td>\r\n            <td>{{data?.agentName}}</td>\r\n            <td>{{data?.agentType}}</td>\r\n            <td>{{data?.agentRegNo}}</td>\r\n            <td>\r\n              <span class="mr-2 pr-1" *ngFor="let unit of data?.unitsList">{{unit?.flatNo}} - {{unit.blockName}}</span>\r\n            </td>\r\n            \x3c!-- <td>\r\n              <ng-container *ngIf="data?.promoterStatus === \'VERIFIED\' || data?.promoterStatus === \'REJECTED\';else verifyit">{{data?.promoterStatus}}</ng-container>\r\n              <ng-template #verifyit>\r\n                <p><button class="btn btn-small bg-warning mr-1" (click)="vefifyDetails(data?.workStatusId, \'VERIFIED\')">Verify</button></p>\r\n                <p><button class="btn btn-small bg-warning mr-1" (click)="vefifyDetails(data?.workStatusId, \'REJECTED\')">Reject</button></p>\r\n              </ng-template>\r\n            </td> --\x3e\r\n          </tr>\r\n        </tbody>\r\n\r\n        <ng-template #noyearlydata>\r\n          <tbody>\r\n            <tr>\r\n              <td colspan="5"><span class="error">No record Found.</span></td>\r\n            </tr>\r\n          </tbody>\r\n        </ng-template>\r\n\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n'},fuFu:function(t,e,r){"use strict";r.r(e),e.default=""},pXoz:function(t,e,r){"use strict";r.r(e),e.default='<div class="card shadow ">\r\n    <div class="card-header text-center"><b>Allotee Interaction Forum </b></div>\r\n    <div class=" card_body_fix_height p-4 ">\r\n<div class="productPage projectDashBox">\r\n    <div class="prodtabContent">\r\n        <div class="aif">\r\n            <div class="aifBox">\r\n                <div class="qaWrap w-100">\r\n                    <div *ngFor="let data of getAllotieTopic.allotteeTopicList">\r\n                        \x3c!-- <div class="com_img"><img alt="#" src="http://i.imgur.com/alhW9dj.png"> </div> --\x3e\r\n                        <div class="que">\r\n                            <div class="img"><img class="img-fluid" src="{{citizenImage}}" alt=""></div>\r\n                            <div class="text">\r\n                              <p class="msg"> {{data.topicName}} </p>\r\n                              <p class="name">{{data.createrName}} \x3c!--<span>13:11:39</span>--\x3e</p>\r\n                            </div>\r\n                          </div>\r\n\r\n                        \x3c!-- <div class="com_text"> <span\r\n                                class="badge bg-warning text-dark">{{data.createrName}} -\r\n                            </span> {{data.topicName}} </div> --\x3e\r\n                        <div class="com_btn"><button type="button"\r\n                                (click)="onLike(data.allotteeForumId)"><i\r\n                                    class="icon icon-thumbs-up mr-2"></i>Like\r\n                                {{data.topicLikesList?.length}}</button> &nbsp;\r\n                            <button type="button" (click)="onReplyModal(data.allotteeForumId)"><i\r\n                                    class="icon icon-paper-plane mr-2"></i>Reply</button>\r\n                        </div>\r\n                        <div *ngIf="data.topicReplyList.length != 0">\r\n                           \r\n                                <div class="mb-4"\r\n                                    *ngFor="let abc of data.topicReplyList ">\r\n                                    <div class="ans">\r\n                                        <div class="text">\r\n                                          <p class="msg">{{abc.replyedText}}</p>\r\n                                            <p class="name">{{abc.replierName}} \x3c!--<span>13:11:39</span>--\x3e</p>\r\n                                        </div>\r\n                                        \x3c!-- <div class="img"><img class="img-fluid" src="{{fileDownlod}}{{twitterResponse?.individualPhotoDocUId}}" alt=""></div> --\x3e\r\n                                      </div>\r\n\r\n                                    \x3c!-- <div class="comment_reply">\r\n                                        <div class="com_img_reply"> </div>\r\n                                        <div class="com_text_reply"> <span\r\n                                                class="badge bg_blue">{{abc.replierName}}</span>\r\n                                            {{abc.replyedText}}\r\n\r\n                                        </div>\r\n\r\n                                    </div> --\x3e\r\n\r\n\r\n                                </div>\r\n\r\n                           \r\n\r\n                        </div>\r\n\r\n\r\n\r\n\r\n                        <div class="com_input"\r\n                            *ngIf="replyText && data.allotteeForumId === replyBoxId">\r\n                            <div class="input-group input-group-sm ">\r\n                                <form [formGroup]="replyGroup"\r\n                                    (submit)="replySubmit(data.allotteeForumId)" class="form-inline replayArea">\r\n                                    <input type="text" class="form-control"\r\n                                        formControlName="replyTopic" name="replyTopic">\r\n                                    <div class="input-group-append"> <span class="input-group-text">\r\n                                            <button type="submit" class="btn sprite"> send</button> </span> </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n    </div>\r\n</div>\r\n\r\n<div class="input-group input-group-sm mt-4 bg-white">\r\n    <form [formGroup]="newTopicGroup" (submit)="submitTopic()" class="form-inline replayArea">\r\n        <div class="input-group-append"> </div>\r\n        <input type="text" class="form-control" formControlName="newTopic" name="newTopic"> &nbsp;\r\n        <button  type="submit" class="input-group-append btn sprite">\r\n            Send</button>\r\n    </form>\r\n</div>\r\n</div>\r\n</div>\r\n\r\n\r\n    </div>\r\n\r\n\r\n</div>\r\n'},q9cf:function(t,e,r){"use strict";r.r(e),e.default=".button-box button {\n  font-size: 12px;\n  padding: 6px;\n  margin: 6px;\n}\n\n.text_class div {\n  font-size: 10px;\n  margin-left: 4px;\n}\n\n.button-box .active {\n  background-color: #32a761;\n}\n\n.button-box .submitted {\n  background-color: #404dad;\n}\n\n.button-box .inactive {\n  background-color: #828282;\n}\n\n.button-box .exempt {\n  background-color: #ec7b0d;\n}\n\n.button-box .defaulter {\n  background-color: #e31e25;\n}\n\n.button-box .defaultactive {\n  background-color: #04bdc5;\n}\n\n.button-box .essigned {\n  background-color: #b32194;\n}\n\n.button-box .active, .button-box .submitted, .button-box .inactive, .button-box .exempt, .button-box .defaultactive, .button-box .defaulter {\n  color: white;\n}"},sTOc:function(t,e,r){"use strict";r.r(e),e.default=""},vp6C:function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var a=r("mrSG"),i=r("8Y7J"),s=r("vTBr"),n=r("FvaC"),o=r("2Vo4");let l=class{constructor(t,e){this._http=t,this._apiURL=e,this.shareData=new o.a(null),this.paymentFaild=new o.a({}),this.rejectedByPromoter=t=>this._http.securepost(this._apiURL.formFiveApi+"secure/form-five/rejectFormFive",t)}getProjectFormFiveDetailAdditional(t){return this._http.secureget(this._apiURL.formFiveApi+"secure/financial-year/list"+t)}getProjectFormFiveDetail(t){return this.data=this._http.secureget(this._apiURL.formFiveApi+"secure/form-five/get-qe-dtl"+t),this.data}verifyCaNumber(t){return this._http.get(this._apiURL.registrationAPI+"ca/ca-detail/no/"+t)}formFive(t){return this._http.secureget(this._apiURL.formFiveApi+"secure/form-five/getFormFiveById"+t)}assigned(t){return this._http.securepost(this._apiURL.formFiveApi+"secure/form-five/updateFormFive",t)}assignCANewService(t){return this._http.securepost(this._apiURL.formFiveApi+"secure/form-five/asignedFormFive-to-ca",t)}getParentDetail(t){return this._http.secureget(this._apiURL.formFiveApi+"secure/project-dtl"+t)}checkFormThree(t,e){return this._http.secureget(this._apiURL.formThreeApi+"secure/getform-three-by-ca-number/"+t+"/"+e)}getFormFiveLog(t){return this._http.secureget(this._apiURL.formFiveApi+"secure/log/get-log-by-form-five-id"+t)}searchByPanCard(t,e){return this._http.secureget(this._apiURL.registrationAPI+"secure/user_details_by_pan_and_type/"+t+"/"+e)}replyService(t){return this._http.securepost(this._apiURL.formFiveApi+"secure/enquiry/promoter-reply",t)}getHistory(t){return this._http.secureget(this._apiURL.formFiveApi+"secure/enquiry/get-by-form-five-id/"+t)}getChallanDetails(t){return this._http.secureget(this._apiURL.formFiveApi+"secure/challan/payment/details/challan/"+t)}postPaymentDetailsService(t){return this._http.securepost(this._apiURL.payment+"secure/savePaymentDetail",t)}postPaymentDetailResultService(t){return this._http.securepost(this._apiURL.formFiveApi+"secure/challan/payment/modify",t)}getFormFiveChallanService(t){return this._http.secureget(this._apiURL.formFiveApi+"secure/challan/get-challans-by-project-id/"+t)}getFormFiveDefaulterData(t){return this._http.secureget(this._apiURL.formFiveApi+"secure/defaulter-log/get-by-form-five-id/"+t)}getPaymentRefence(t){return this._http.secureget(this._apiURL.payment+"secure/getPaymentByTrxNo/"+t)}statusUpdateData(t,e){return this._http.securepost(this._apiURL.formFiveApi+"secure/form-five/update-statusById/"+e+"/"+t,null)}encPaymentDetailsService(t){return this._http.post(this._apiURL.payment+"encDataForSecurePay",t)}};l.ctorParameters=()=>[{type:s.a},{type:n.a}],l=a.b([Object(i.B)({providedIn:"root"})],l)}}]);