(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{FUz8:function(s,r,o){"use strict";o.r(r),r.default='\r\n\r\n<div id="labels" class="card shadow mb-4"> \r\n    \x3c!-- .card-body --\x3e\r\n    <div class="card-header"><b>Change Password</b></div>\r\n    <div class="card-body asd">\r\n    <div class="row">\r\n      <div class="col-md-12 mb-3">\r\n        <p>1. Password should be of minimum 8 characters and maximum of 20 characters in length.</p>\r\n        <p>2. Password should contain at least 1 Upper Case, 1 Lower Case and 1 numeral value from 0 to 9</p>\r\n        <p>3. Password should contain at least 1 special character from the allowed !, @, #, $, %, ^, &, *.</p>\r\n      </div>\r\n    <div class="col-md-12">\r\n      <form autocomplete="off" [formGroup]="passForm" id="validateFoem">\r\n          <div class="row">\r\n           \r\n        <div class="form-group col-md-4">\r\n          <label class="control-label"><strong> Old Password<sup>*</sup> </strong></label>\r\n          <input type="hidden" [(ngModel)]="profileId" class="form-control" formControlName="profileId" >\r\n          <input type="hidden" [(ngModel)]="userType" class="form-control" formControlName="userType" >\r\n          <input type="hidden" [(ngModel)]="userId" class="form-control" formControlName="userId" >\r\n          <input autocomplete="off" onKeyPress="if(this.value.length==20) return false;" type="password" class="form-control" formControlName="oldPassword" placeholder="Old Password">\r\n          <div class="error-box"><small class="error"> Old Password required</small></div>\r\n        </div>\r\n        <div class="form-group col-md-4">\r\n          <label class="control-label"><strong> New Password </strong><sup>*</sup></label>\r\n          <input autocomplete="off" type="password"onKeyPress="if(this.value.length==20) return false;" class="form-control" #newPass formControlName="newPassword" placeholder="New Password" (focusout)="matchPassword()">\r\n          <div class="error-box"><small class="error"> The entered New Password is not matching with the policy mentioned above.</small></div>\r\n        </div> \r\n        <div class="form-group col-md-4">\r\n          <label class="control-label"><strong>Confirm New Password </strong><sup>*</sup></label>\r\n          <input autocomplete="off" onKeyPress="if(this.value.length==20) return false;" type="password" class="form-control"  #confrimNewPass  formControlName="confirmPassword" placeholder="Confirm New Password" (focusout)="matchPassword()" >\r\n          <div class="error-box"><small class="error"> {{confirmPasswordMsg}}</small></div>\r\n\r\n        </div> \r\n      </div>\r\n      <div class="text-center">\r\n        <button type="submit" [disabled]="this.passForm.invalid" class="btn btn-primary" (click)="submitPass()"><i class="fa fa-spinner fa-spin text-white" *ngIf="loader" aria-hidden="true"></i> Change Password</button>\r\n       \r\n      </div>\r\n      </form>\r\n      </div>\r\n      </div>\r\n      </div>\r\n      </div>\r\n      <app-validation-message [message]="inputJson"></app-validation-message>'},JamI:function(s,r,o){"use strict";o.r(r),r.default=""},n9Ye:function(s,r,o){"use strict";o.r(r);var e=o("mrSG"),a=o("8Y7J"),n=o("SVse"),t=o("iInd"),l=o("s7LF"),i=o("FvaC"),d=o("p87Y"),c=o("FoHH"),p=o("2Vo4");let m=class{constructor(s,r,o){this._apiURL=s,this._regex=r,this._change=o,this.confirmPasswordMsg="The entered Confirm New Password is not matching with the policy mentioned above.",this.inputJson=new p.a({})}ngOnInit(){this.passForm=new l.d({profileId:new l.c(null),userId:new l.c(null),userType:new l.c(null),oldPassword:new l.c(null,[l.h.required]),newPassword:new l.c(null,[l.h.required,l.h.minLength(8),l.h.pattern(this._regex.passwordRegex)]),confirmPassword:new l.c(null,[l.h.required,l.h.minLength(8),l.h.pattern(this._regex.passwordRegex)])}),this.profileId=sessionStorage.getItem("userProfileId"),this.userType=sessionStorage.getItem("userType"),this.userId=sessionStorage.getItem("userId")}submitPass(){console.log("passwordJson"),this.loader=!0,this.passForm.value.oldPassword=window.btoa(this.passForm.controls.oldPassword.value),this.passForm.value.newPassword=window.btoa(this.passForm.controls.newPassword.value),this.passForm.value.confirmPassword=window.btoa(this.passForm.controls.confirmPassword.value),console.log(this.passForm.value),this._change.updatePassword(this.passForm.value).subscribe(s=>{console.log(s),"200"==s.status?(this.inputJson.next({popShow:!0,popMsg:"Your password changed successfully.",popClass:"alert alert-success",popRoute:"logout"}),this.loginModal=!1,this.loader=!1,this.forget=!1):(this.inputJson.next({popShow:!0,popMsg:s.message,popClass:"alert alert-danger",popRoute:""}),this.errorMsg=!0,this.loader=!1,this.errorMsgText=s.message)},s=>{this.loader=!1,console.log(s),this.inputJson.next({popShow:!0,popMsg:s.message,popClass:"alert alert-danger",popRoute:""})})}matchPassword(){let s=this.passForm.get("newPassword"),r=this.passForm.get("confirmPassword");s.value!==r.value&&(r.setErrors({incorrect:!0}),this.confirmPasswordMsg="The entered New Password and Confirm New Password are not matching.")}};m.ctorParameters=()=>[{type:i.a},{type:d.a},{type:c.a}],m=e.b([Object(a.n)({selector:"app-changepassword",template:e.c(o("FUz8")).default,styles:[e.c(o("JamI")).default]})],m);const u=[{path:"change-password",component:m}];let h=class{};h=e.b([Object(a.J)({imports:[t.f.forChild(u)],exports:[t.f]})],h);var w=o("UPf0"),f=o("4nBV");o.d(r,"ChangePasswordModule",(function(){return g}));let g=class{};g=e.b([Object(a.J)({declarations:[m],imports:[n.b,h,l.g,w.a,f.a]})],g)}}]);