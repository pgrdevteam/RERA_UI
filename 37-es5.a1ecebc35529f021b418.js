function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{"0n3D":function(t,e,a){"use strict";a.r(e),e.default='<div class="card-header"><b>Initiate Form 5 Audit Request</b></div>\r\n<div class="card-body">\r\n    \r\n    <div class="row">\r\n        <div class=" col-md-12 table-responsive mb-4">\r\n            <table class="table table-bordered">\r\n                <thead>\r\n                    <tr class="text-center bg-light  text-size-small">\r\n\r\n                      \r\n                        <td>Project Name</td>\r\n                        <td>Promoter Name</td>\r\n                        <td>Promoter Email</td>\r\n\r\n\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr class="text-center">\r\n\r\n                        \r\n                        <td>{{formFiveDetail.projectName}}</td>\r\n\r\n\r\n                        <td>{{formFiveDetail.promoterName}}</td>\r\n                        <td>{{formFiveDetail.promoterEmailId}}</td>\r\n\r\n\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="card-header" *ngIf="defaultFormDetails"><b>VCS 2024 Payment</b></div>\r\n<div class="card-body" *ngIf="defaultFormDetails">\r\n\r\n    <div class="row">\r\n        <div class=" col-md-12 table-responsive mb-4">\r\n            <table class="table table-bordered">\r\n                <thead>\r\n                    <tr class="text-center bg-light  text-size-small">\r\n                        <td>Project Name</td>\r\n                        <td>Promoter Name</td>\r\n                        <td>Financial Year</td>\r\n                        <td *ngIf="defaultFormDetails.financialYearStatus ==\'ACTIVE\'">Remarks</td>\r\n                        <td>Action</td>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr class="text-center">\r\n                        <td>{{defaultFormDetails.projectName}}</td>\r\n                        <td>{{defaultFormDetails.promoterName}}</td>\r\n                        <td>{{defaultFormDetails.financialYear}}</td>\r\n                        <td *ngIf="defaultFormDetails.financialYearStatus ==\'ACTIVE\'">\r\n                            <ng-container\r\n                            *ngIf="defaultFormDetails.status==\'ESIGNED\'; else notVcsPaidAvail">\r\n                            Kindly Pay and Accept Form Five\r\n                        </ng-container>\r\n                        <ng-template #notVcsPaidAvail>\r\n                            In Progress\r\n                        </ng-template>\r\n                        </td>\r\n                        <td>\r\n                            <button class="btn btn-small btn-success" (click)="goto(defaultFormDetails.formFiveId)">Proceed</button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="row">\r\n    <div class ="col-md-9">\r\n    <div class="d-flex justify-content-between mt-4">\r\n        <div class="water-box d-flex align-items-center level9"><span></span>  ACTIVE</div>\r\n        <div *ngIf="defaultFormDetails" class="water-box d-flex align-items-center level15"><span></span>  VCS-ACTIVE 24</div>\r\n        <div class="water-box d-flex align-items-center level10"><span></span> SUBMITTED</div>\r\n        <div class="water-box d-flex align-items-center level0"><span></span> ESIGNED</div>\r\n        <div class="water-box d-flex align-items-center level11"><span></span> INACTIVE</div>\r\n        <div class="water-box d-flex align-items-center level12"><span></span> EXEMPT</div>\r\n        <div class="water-box d-flex align-items-center level13"><span></span> DEFAULTER</div>\r\n        <div class="water-box d-flex align-items-center level14"><span></span> DEFAULT-ACTIVE</div>\r\n      </div>\r\n      </div>\r\n</div>\r\n<div class="card-header"><b>Financial Year</b></div>\r\n<div class="card-body threeBtn">\r\n     <div class="row"  >\r\n\r\n        <div class="form-group col-md-1" *ngFor ="let financeYear of formFiveDetail.formFiveList; let last = last">\r\n          <div class="">\r\n            <button type="button"   (click)="setData(financeYear.formFiveId, financeYear.financialYearStatus)" [ngClass]="{\r\n                \'active\':form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'ACTIVE\'),\r\n                 \'submitted\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'SUBMITTED\'),\r\n                \'essigned\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'ESIGNED\'),\r\n                \r\n                \'inactive\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'INACTIVE\'), \r\n                \'exempt\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'EXEMPT\'), \r\n                \'defaulter\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'DEFAULT\'), \r\n                \'defaultactive\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'DEFAULT-ACTIVE\'),\r\n                \'vcsActive\': form5ColorClass(financeYear.financialYearStatus,financeYear.vcsStatus,\'VCS_INITIATED\')\r\n              }" [disabled]="financeYear.financialYearStatus == \'INACTIVE\'">{{financeYear.financialYear}}<strong *ngIf="last"> Q-E</strong></button>\r\n        </div>\r\n    </div>\r\n     \r\n    </div> \r\n\r\n</div>\r\n<app-validation-message [message]="inputJson"></app-validation-message>'},"5mh4":function(t,e,a){"use strict";a.r(e);var r=a("mrSG"),n=a("8Y7J"),i=a("SVse"),o=a("iInd"),s=a("vTBr"),l=a("FvaC"),c=function(){function t(e,a){var r=this;_classCallCheck(this,t),this._http=e,this._apiURL=a,this.getUpdatedBCR=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r._http.secureget(r._apiURL.bcrAPI+"/secure/bcr-update-bank-details/all-locking-bcr-by-projectId/"+t)}}return _createClass(t,[{key:"getStatusOfAssignmentREG",value:function(t){return this._http.get(this._apiURL.projectRegAPI+"professional-assignment-status/project-id/"+t)}},{key:"getStatusOfAssignmentALT",value:function(t){return this._http.get(this._apiURL.projectAlteration+"professional-assignment-status/project-id/"+t)}},{key:"getPendingProjectReg",value:function(){return this._http.secureget(this._apiURL.projectRegAPI+"secure/project-summaryPending")}},{key:"getPendingProjectAlt",value:function(){return this._http.secureget(this._apiURL.projectAlteration+"secure/project-summaryPending")}},{key:"getPendingProjectExt",value:function(){return this._http.secureget(this._apiURL.projectExtensionApi+"secure/project-summaryPending")}},{key:"getPendingProjectQarter",value:function(){return this._http.secureget(this._apiURL.projectExtensionApi+"secure/project-summaryPending")}},{key:"getAlterationDetails",value:function(t){return this._http.secureget(this._apiURL.projectAlteration+"secure/project-summary"+t)}},{key:"getCurrentStatus",value:function(t,e){return this._http.secureget(this._apiURL.promoterOnlineEnquiry+"secure/trx/getby-processId-processType/"+t+"/"+e)}},{key:"getBCRData",value:function(t){return this._http.secureget(this._apiURL.bcr+"secure/getbcr-details-by-project-id"+t)}},{key:"getListOfEnquiriesData",value:function(t){return this._http.secureget(this._apiURL.promoterOnlineEnquiry+"secure/trx/getby-projectId/"+t)}},{key:"getEofficeData",value:function(t){return console.log(this._apiURL.efileHirearchy+"secure/docassociate/getproject/"+t),this._http.secureget(this._apiURL.efileHirearchy+"secure/docassociate/getproject/"+t)}},{key:"viewAlterationProjects",value:function(t){return this._http.secureget(this._apiURL.projectAlteration+"secure/getByproject/"+t)}},{key:"viewExtensionProjects",value:function(t){return this._http.secureget(this._apiURL.projectExtensionApi+"secure/getproject-ext-details/"+t)}},{key:"viewQuarterProjects",value:function(t){return this._http.secureget(this._apiURL.qpr+"secure/"+t)}},{key:"viewEnquiriesProjects",value:function(t){return this._http.secureget(this._apiURL.promoterOnlineEnquiry+"secure/trx/getby-projectId-status/"+t+"/SUBMITTED")}},{key:"getProjectFormFiveDetail",value:function(t){return this.data=this._http.secureget(this._apiURL.formFiveApi+"secure/financial-year/list"+t),this.data}},{key:"getBCRLatestInformation",value:function(t){return this._http.secureget(this._apiURL.bcr+"secure/getbcr-details-by-project-id-desc"+t)}},{key:"getProffesional",value:function(t){return this._http.secureget(this._apiURL.dashboardAPI+"secure/main/project-assign-dtl-by-prj-id/"+t)}},{key:"getFormFiveData",value:function(t){return this._http.secureget(this._apiURL.formFiveApi+"secure/form-five/get-assigned-dtl/"+t)}},{key:"getQuaterData",value:function(t){return this._http.secureget(this._apiURL.qpr+"secure/get-project-quarter-enquiry-list/"+t)}},{key:"getTotalProjectProfilePcwf",value:function(t){return this._http.secureget(this._apiURL.bcr+"secure/profilechange/get-all-by-projectId/"+t)}},{key:"getTotalProjectProfileLegalPcwf",value:function(t){return this._http.secureget(this._apiURL.bcr+"secure/profilechange/get-all-by-projectId/"+t)}},{key:"getTotalProjectProfile",value:function(t){return this._http.secureget(this._apiURL.bcr+"secure/tp/get-all-tp-by-projectId/"+t)}},{key:"getTotalProjectProfileLegal",value:function(t){return this._http.secureget(this._apiURL.bcr+"secure/legal/get-all-legal-by-projectId/"+t)}},{key:"getCitySurveyProject",value:function(t){return this._http.secureget(this._apiURL.citizenSurveyApi+"secure/project-clause/get-project-afs-list/"+t)}},{key:"getTotalSection15Response",value:function(t){return this._http.secureget(this._apiURL.projectAltFtnAPI+"secure/get-list-by-project-id/"+t)}},{key:"getCertificate",value:function(t){return this._http.secureget(this._apiURL.projectRegAPI+"secure/project-app/getproject-certdetails/"+t)}},{key:"lockingWithFee",value:function(t){return this._http.get(this._apiURL.bcr+"public/get-pfc-by-projectId/"+t)}},{key:"qprEnquiries",value:function(t){return this._http.secureget(this._apiURL.qpr+"secure/get-pending-quarter-enquiry-list/"+t)}},{key:"getTotalProjectDetailsByProjectId",value:function(t){return this._http.secureget(this._apiURL.projectRegAPI+"project-app/alldatabyprojectid/"+t)}},{key:"getCurrentInProgressData",value:function(t){return this._http.secureget(this._apiURL.projectRegAPI+"secure/prm/pendingapp-list/"+t)}},{key:"discardThisProcess",value:function(t,e){return console.log("clickOn",e),"Extension"==e?this._http.secureget(this._apiURL.projectExtensionApi+"secure/discard-project-ext/"+t):"Alteration"==e?this._http.secureget(this._apiURL.projectAltAPI+"secure/discard-alteration-app/"+t):"BCR"==e?this._http.secureget(this._apiURL.bcr+"secure/discard-bcr-details/"+t):"Alteration-15"==e?(console.log("alteration servicesVersion","secure/update-status-section-15-by-id/"+t+"/DISCARDED"),this._http.securepost(this._apiURL.projectAltFtnAPI+"secure/update-status-section-15-by-id/"+t+"/DISCARDED",{})):"tPProfileChange"==e||"legalProfileChange"==e?this._http.secureget(this._apiURL.bcr+"secure/profilechange/discard-pcwf-details/"+t):void 0}},{key:"getLastSubmittedQpr",value:function(t){return this._http.secureget(this._apiURL.qpr+"secure/getlast-submitedqtr-by-prjid/"+t)}},{key:"getWithdrawStatus",value:function(t,e){return this._http.get(this._apiURL.projectWithdrawl+"public/process/"+t+"/type/"+e)}},{key:"getProjectBankService",value:function(t){return this._http.secureget(this._apiURL.projectRegAPI+"secure/project-app/getproject-banks-alter/"+t)}}]),t}();c.ctorParameters=function(){return[{type:s.a},{type:l.a}]},c=r.b([Object(n.B)({providedIn:"root"})],c);var p=a("2Vo4"),d=a("6Ea5"),u=a("2cek"),m=function(){function t(e,a,r,n,i,o){var s=this;_classCallCheck(this,t),this._workflowService=e,this._router=a,this._serviceCall=r,this._apiURL=n,this._changeLandArea=i,this._datePipe=o,this.formFiveDetail={formFiveList:[]},this.bcrData=new Array,this.isPendingOnPromoter=!1,this.projectInfoArr=new Array,this.setEnquiryList=new Array,this.projectIdValue=new p.a({}),this.viewMasterProject=new Array,this.projectStatusResind=!1,this.viewMasterProjectPromoter=new Array,this.viewMasterProjectAuthority=new Array,this.viewMasterProjectSummary=new Array,this.modalPopup=!1,this.ticketPopUp=new p.a({}),this.projectIdForSelector=new p.a({}),this.projectRegIdForSelector=new p.a({}),this.WithdrawPopup=!1,this.extPaymentStatus=!1,this.regArray=[],this.formFiveArray=[],this.getassignProffesional=[],this.getFormFiveProfessional=[],this.loadingSpinner=!1,this.isBCRInProcess=!1,this.isLegalInProcess=!1,this.isTpInProcess=!1,this.inputJson=new p.a({}),this.docUID=new p.a(0),this.currentInProgressType="",this.currentInStatusType="",this.processName="",this.confirmationEventB=new p.a({}),this.tabfir=!0,this.tabsec=!1,this.tabTicket=!1,this.noActive=!0,this.isQEfilled="",this.isPopClickedFor="",this.applyForBCRNotificationPop=!1,this.applyForBCRNotificationPopSecond=!1,this.currentBankAccount={},this.showCurrentBankAccount=!1,this.previousDetailCheck=!1,this.projectHeadCheck=!1,this.reraDetailsCheck=!1,this.associateVendorCheck=!1,this.financialDocscheck=!1,this.tpModelArray=[],this.showProcessType=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"tPProfileChange"==t&&"TP_LEGAL_PCWF"==e?"Both (TP and Legal)":"tPProfileChange"==t?"TP Profile Change":"legalProfileChange"==t?"Legal Profile Change":"Alteration"==t||"Extension"==t||"Alteration-15"==t||"QPR"==t?t:"sealForTrust"==t?"Seal For Trust":t},this.showStatusForPromoter=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"legalProfileChange"!=e&&"tPProfileChange"!=e||"INPROGRESS"!=t?t:"SAVE AS DRAFT"},this.form5ColorClass=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return("ACTIVE"==t&&"ACTIVE"==e||"ACTIVE"==t&&"ASSIGNED"==e||"ACTIVE"==t&&"INPROGRESS"==e||"ACTIVE"==t&&null==e)&&"ACTIVE"==a||("ACTIVE"==t&&"ESIGNED"==e||"SUBMITTED"==t&&"ESIGNED"==e)&&"ESIGNED"==a||"ACTIVE"==t&&"SUBMITTED"==e&&"SUBMITTED"==a||"INACTIVE"==t&&"INACTIVE"==a||"EXEMPT"==t&&"EXEMPT"==a||"DEFAULT"==t&&"DEFAULT"==a||"DEFAULT-ACTIVE"==t&&"DEFAULT-ACTIVE"==a},this.getLastSubmittedQPR=function(t){s._serviceCall.getLastSubmittedQpr(t).subscribe((function(t){console.log("log for the last submitted qpr ",t),"200"==t.status&&(s.isQEfilled=t.data.qname)}),(function(t){console.log("error",t)}))},this.showMessageWorkForBCR=function(){s.isPopClickedFor="BCR",s.confirmationEventB.next({flag:!0,messageV:"Are you applying for RERA Bank Change due to Bank Merger?"})},this.bcrPopupCheckClose=function(){s.applyForBCRNotificationPop=!0},this.bcrPopupClose=function(){s.applyForBCRNotificationPop=!1},this.bcrPopupClose2=function(){s.applyForBCRNotificationPopSecond=!1},this.bcrPopupOk=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("NO"==t)if(sessionStorage.removeItem("paymentModeForBCR"),s.applyForBCRNotificationPop=!1,0==s._apiURL.bcrDateWithoutFeeAllowedTill)s.showMessageWorkForBCR();else if(0!=s._apiURL.bcrDateWithoutFeeAllowedTill){var e=new Date(s._apiURL.bcrDateWithoutFeeAllowedTill).getTime(),a=(new Date).getTime();console.log("dateDiff",e,a),console.log("checking",e>=a),e>=a?s.showMessageWorkForBCR():(sessionStorage.setItem("paymentModeForBCR","WithPayment"),s._router.navigate(["bcr/bcr-request"]))}else console.log("checking2"),sessionStorage.setItem("paymentModeForBCR","WithPayment"),s._router.navigate(["bcr/bcr-request"]);else s.applyForBCRNotificationPop=!1,s.applyForBCRNotificationPopSecond=!0},this.bcrPopupOk2=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";"YES"==t?(s.applyForBCRNotificationPopSecond=!1,sessionStorage.setItem("paymentModeForBCR","WithPayment"),s._router.navigate(["bcr/bcr-request"])):(s.applyForBCRNotificationPopSecond=!1,s._router.navigate(["bcr-without-fee/apply-for-changes"]))},this.getListingOfBankCorrection=function(){s._router.navigate(["bcr-without-fee/view-submission-list"])},this.checkAlreadyApprovedData=function(t){s.loadingSpinner=!0,s._serviceCall.getUpdatedBCR(t).subscribe((function(t){"200"==t.status?(s.loadingSpinner=!1,console.log("enable for BCR old"),sessionStorage.removeItem("paymentModeForBCR"),sessionStorage.setItem("paymentModeForBCR","WithPayment"),s._router.navigate(["bcr/bcr-request"])):(s.loadingSpinner=!1,console.log("default Behaviour"),s.bcrPopupCheckClose())}),(function(t){s.loadingSpinner=!1,console.log("default Behaviour"),s.bcrPopupCheckClose()}))},this.getCUrrentBankAccount=function(t){s._serviceCall.getProjectBankService(t).subscribe((function(t){"200"==t.status?(s.showCurrentBankAccount=!0,s.currentBankAccount=t.data):(s.showCurrentBankAccount=!1,s.currentBankAccount={})}),(function(t){s.showCurrentBankAccount=!1,console.error("bank account error",t)}))},this.clickToRedirectOnDC=function(){s._router.navigate(["bcr-without-fee/view-submission-list"])}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;sessionStorage.removeItem("paymentModeForBCR"),sessionStorage.removeItem("projectAckNO"),sessionStorage.removeItem("profileStatus"),sessionStorage.removeItem("printAcklegal"),sessionStorage.removeItem("printAcktp"),sessionStorage.removeItem("profileId"),sessionStorage.removeItem("tp_main_id"),sessionStorage.removeItem("printDtlTp"),sessionStorage.removeItem("legalId"),sessionStorage.removeItem("pfView"),sessionStorage.removeItem("printSummary"),sessionStorage.removeItem("returnFullView"),sessionStorage.removeItem("extPaymentStatus"),this.viewMasterProjectPromoter=[],this.viewMasterProjectAuthority=[],this.viewMasterProjectSummary=[],this.downloadReciept=this._apiURL.paymentDownload+"downloadPatmentReciept/",this.fileDownlod=this._apiURL.fileDownloadAPI+"download/",this.projectId=sessionStorage.getItem("projectId"),this.projectAltrId=sessionStorage.getItem("projectAltrId"),this.projectName=sessionStorage.getItem("projectName"),this.ackNo=sessionStorage.getItem("ackNo"),this.status=sessionStorage.getItem("status"),this.registrationNo=sessionStorage.getItem("registrationNo"),"REVOKED"!=this.status&&"RESCIND"!=this.status||(this.noActive=!1),this.projectIdValue.next({project_id_value:this.projectId}),this.getRegProjectProfessionalsDetails(),this.getAltProjectProfessionalsDetails(),this.fetchAlterationDetails(),this.getCurrentStatusofProject(),this.getBCR(),this.citySUrvey(this.projectId),this.getRegistrationDetailsOfProject(this.projectId),this.getListOfTotalAlterationOfProjects(this.projectId),this.getListOfTotalExtensionOfProjects(this.projectId),this.getListOfTotalEnquiryOfProjects(this.projectId),this.getListData(this.projectId),this.getFormFive(this.projectId),this.getQuater(this.projectId),this.getListOfProfileChangeOfProjects(this.projectId),this.getListOfProfileChangeOfProjectsAuth(this.projectId),this.getListOfProfileChangeLegalOfProjects(this.projectId),this.getListOfProfileChangeLegalOfProjectsAuth(this.projectId),this.listAlterationSection15OfProjects(this.projectId),this.getWithFeeLockingStatus(this.projectId),this.getQPRenquiriesList(this.projectId),this.getEofficeForDashboard(this.projectId),this.getCurrentInProgressData(this.projectId),this.getAuthSign(this.projectId),this._serviceCall.getCertificate(this.projectId).subscribe((function(e){console.log(e),t.recieptDownload=t.fileDownlod+e.data.certificateUid}),(function(t){console.log(t)})),this.getLastSubmittedQPR(this.projectId),this.getCUrrentBankAccount(this.projectId)}},{key:"getCurrentStatusofProject",value:function(){var t=this;this._serviceCall.getCurrentStatus(this.projectId,"PROJECT_REG_ONLINE").subscribe((function(e){"200"==e.status?(console.log(e),t.isPendingOnPromoter=!0,console.log(t.isPendingOnPromoter),console.log(1)):t.isPendingOnPromoter=!1}),(function(e){console.log(e),console.log(2),console.log(t.isPendingOnPromoter),t.isPendingOnPromoter=!1}))}},{key:"getRegProjectProfessionalsDetails",value:function(){var t=this;this._serviceCall.getStatusOfAssignmentREG(this.projectId).subscribe((function(e){console.log(e),"200"==e.status?t.regProfessionalDetails=e.data:t.regProfessionalDetails={}}),(function(e){t.regProfessionalDetails={},console.log(e)}))}},{key:"getAltProjectProfessionalsDetails",value:function(){var t=this;this._serviceCall.getStatusOfAssignmentALT(this.projectId).subscribe((function(e){console.log(e),"200"==e.status?t.altProfessionalDetails=e.data:t.altProfessionalDetails={}}),(function(e){t.altProfessionalDetails={},console.log(e)}))}},{key:"getBCR",value:function(){var t=this;this._serviceCall.getBCRData(this.projectId).subscribe((function(e){"200"==e.code?(t.bcrData=e.data,console.log(t.bcrData)):t.bcrData=[]}),(function(e){t.bcrData=[],console.log(e)}))}},{key:"getFullBCRData",value:function(t,e){sessionStorage.setItem("BCR_MAIN_PARENT",t),"1"==e?this._router.navigate(["bcr/bcr-request"]):"2"==e?this._router.navigate(["bcr/r3-r4-submission"]):"3"==e?this._router.navigate(["bcr/bcr-view"]):"4"==e&&this._router.navigate(["bcr-without-fee/bcr-initiate"])}},{key:"applyForExtension",value:function(){return this.applyPopup=!0,this.popupVal=3,!1}},{key:"openQPR",value:function(){this._router.navigate(["qpr/dashboard"])}},{key:"openBcr",value:function(){var t,e=this;if(sessionStorage.removeItem("paymentModeForBCR"),"QUARTER_RET"==this.currentInProgressType.split(" ")[0]&&("SAVED"==this.currentInStatusType||"INPROGRESS"==this.currentInStatusType))return this.inputJson.next({popShow:!0,popMsg:"QPR filling is in progress, once you complete to file QPR, you can apply for Alteration, Extension, Section 15, BCR. Otherwise, please Cancel/ Delete the QPR Form allocation/submission and retry.",popClass:"alert alert-danger",popRoute:""}),!1;if("BCR_ALT"==this.currentInProgressType&&("INPROGRESS"==this.currentInStatusType||"INPROGRESS_REJECTED"==this.currentInStatusType||"REJECTED_FOR_BCR"==this.currentInStatusType)){var a,r="";if("INPROGRESS_REJECTED"==this.currentInStatusType)a="Your Bank A/c correction request process is rejected by authority. Please check authority remarks and submit the form accordingly for further processing.",r="bcr-without-fee/apply-for-changes";else{if("REJECTED_FOR_BCR"==this.currentInStatusType)return sessionStorage.setItem("paymentModeForBCR","WithPayment"),!1;a="Bank A/c correction request process is pending from authority. You can not apply further process until approval.",r=""}return this.inputJson.next({popShow:!0,popMsg:a,popClass:"alert alert-danger",popRoute:r}),!1}if("ALTERATION"!=this.currentInProgressType&&"EXTENSION"!=this.currentInProgressType&&"BCR"!=this.currentInProgressType&&("SAVED"==this.currentInStatusType||"INPROGRESS"==this.currentInStatusType)||"BCR"==this.currentInProgressType&&"INPROGRESS"==this.currentInStatusType)return t="QUARTER_DEF"==this.currentInProgressType.substring(0,this.currentInProgressType.indexOf(" "))?" process is default. You can not apply BCR application before completion of pending process.":" process is still in progress. You can not apply BCR application before completion / discard of pending process.",this.inputJson.next({popShow:!0,popMsg:this.currentInProgressType+t,popClass:"alert alert-danger",popRoute:""}),!1;this.isLegalInProcess||this.isTpInProcess?this.inputJson.next({popShow:!0,popMsg:"Other process are in progress so you can not initiate Bank Change Request. After completion of other process you can start again.",popClass:"alert alert-success",popRoute:""}):(sessionStorage.removeItem("BCR_MAIN_PARENT"),this._serviceCall.getBCRLatestInformation(this.projectId).subscribe((function(t){console.log(t),console.log(t.status),null!=t.data?"INPROGRESS"==t.data.status||"PENDING_FINANCE_RA1_RA2"==t.data.status||"PENDING_CONTROLLER_RA1_RA2"==t.data.status?(console.log(1e3),e.getFullBCRData(t.data.id,1)):"BCR_ENQUIRY"==t.data.status&&null!=t.data.bcrRa3Ra4IdFk?(console.log(2e3),e.getFullBCRData(t.data.id,2)):"BCR_ENQUIRY"==t.data.status&&null==t.data.bcrRa3Ra4IdFk?(console.log(3e3),e.getFullBCRData(t.data.id,1)):"APPROVED_CONTROLLER_RA1_RA2"==t.data.status||"PENDING_FINANCE_RA3_RA4"==t.data.status||"PENDING_CONTROLLER_RA3_RA4"==t.data.status?(console.log(4e3),e.getFullBCRData(t.data.id,2)):(console.log(5e3),e.checkAlreadyApprovedData(e.projectId)):e.checkAlreadyApprovedData(e.projectId)}),(function(t){e.checkAlreadyApprovedData(e.projectId)})))}},{key:"getPendingProjectInformation",value:function(){var t=this;this._serviceCall.getPendingProjectReg().subscribe((function(e){t.projectRegResponse=e}),(function(e){t.projectRegResponse=[]})),this._serviceCall.getPendingProjectAlt().subscribe((function(e){t.projectAltResponse=e}),(function(e){t.projectAltResponse=[]}))}},{key:"projectEnquiries",value:function(t,e){if("tPProfileChange"!=t&&"legalProfileChange"!=t&&"QPR"!=t)"PROJECT_REG"==t||"Registration"==t?t="PROJECT_REG_ONLINE":"Alteration"==t||"Alteration"==t?t="PROJECT_ALT_ONLINE":"Extension"==t?t="PROJECT_EXT_ONLINE":"QPR"==t?t="PROJECT_QTR_ONLINE":"Alteration-15"==t&&(t="PROJECT_ALT_15_ONLINE"),sessionStorage.setItem("OEviewStatus","0"),sessionStorage.setItem("OEprocessId",e),sessionStorage.setItem("OEprocessType",t),this._router.navigate(["online-enquiry/project-view/view-enquiry"]);else if("QPR"==t){console.log(e);var a=e.split("-"),r=a[0],n=a[1];sessionStorage.setItem("quaterId",r),sessionStorage.setItem("OEquarterId",n),sessionStorage.setItem("OEprocessType","PROJECT_QTR_ONLINE"),this._router.navigate(["qpr/quarter-summary"])}else sessionStorage.setItem("profileId",e),sessionStorage.setItem("pfView","authority"),"tPProfileChange"==t?this._router.navigate(["project-profile-change/Tpchange"]):this._router.navigate(["project-profile-change/legal-profile-select"])}},{key:"fetchAlterationDetails",value:function(){var t=this,e=sessionStorage.getItem("projectId");this._serviceCall.getAlterationDetails(e).subscribe((function(e){"200"==e.status?(t.alterationAvailable=!0,t.alterationDataSummary=e.data):(t.alterationAvailable=!1,t.alterationDataSummary=[])}),(function(e){t.alterationAvailable=!1}))}},{key:"ViewCurrentFormStatusInnerSide",value:function(){sessionStorage.setItem("wfoId",sessionStorage.getItem("wfoIdPR")),this._router.navigate(["workflow"])}},{key:"getListOfEnquiriesForDashboard",value:function(t){var e=this;this._serviceCall.getListOfEnquiriesData(t).subscribe((function(t){console.log(t),"200"==t.status?e.setEnquiryList=t.data:e.setEnquiryList=[]}),(function(t){e.setEnquiryList=[],console.log(t)}))}},{key:"getRegistrationDetailsOfProject",value:function(t){var e=this;this.loadingSpinner=!0,this._serviceCall.getTotalProjectDetailsByProjectId(t).subscribe((function(t){if(e.loadingSpinner=!1,console.log("project reg summary"),console.log(t),"200"==t.status){var a=[t.data];"RESCIND"===t.data.status&&(e.projectStatusResind=!0),e.viewMasterProject=[],a.forEach((function(t){var a=[];a.application="Registration",a.wfoId=t.wfoId,a.ackNo=t.projectAckNo,a.projectName=t.projectDetailsModel.projectName,a.projectType=null!=t.projectDetailsModel.projectType?t.projectDetailsModel.projectType:"--",a.submittedOn=t.lastUpdatedOn,a.initiatedOn=t.createdOn,a.viewProcessId=t.projRegId,a.viewProjectId=t.projRegId,a.cahngeLandAreaFlag="No",a.alterationType=t.alterationType,"Yes"==t.cahngeLandAreaFlag?(a.status="Land Area Change",e.viewMasterProjectPromoter.push(a)):"PENDING"==t.status&&"AWAITIGCOMP"!=t.stateCode&&"APPROVED"!=t.stateCode&&"WITHDRAWAL"!=t.stateCode?(a.status=t.stateName,a.stateCode=t.stateCode,e.viewMasterProjectAuthority.push(a)):"PENDING"!=t.status&&"LEVELONE"!=t.status&&"PENDING_HEADOFFICE"!=t.status||"AWAITIGCOMP"!=t.stateCode?"SAVEASDRAFT"==t.status?(a.status=t.status,a.alterationType=t.alterationType,e.viewMasterProjectPromoter.push(a)):"APPROVED"!=t.stateCode&&"WITHDRAWAL"!=t.stateCode||(a.status=t.stateName,a.stateCode=t.stateCode,a.processName="Registration",a.certificate=t.certificateUid,e.viewMasterProjectSummary.push(a)):(a.status=t.stateName,a.stateCode=t.stateCode,e.viewMasterProjectPromoter.push(a))}))}else e.viewMasterProject=[]}),(function(t){e.loadingSpinner=!1,console.log(t)}))}},{key:"getListOfTotalAlterationOfProjects",value:function(t){var e=this;this.loadingSpinner=!0,this._serviceCall.viewAlterationProjects(t).subscribe((function(t){if(e.loadingSpinner=!1,console.log("project"),console.log(t),"200"==t.status){var a=t.data;e.viewMasterProject=[],a.forEach((function(t){var a=[];a.application="Alteration",a.wfoId=t.wfoId,a.ackNo=t.projectAltAckNo,a.projectName=t.projectName,a.projectType=t.projectType,a.submittedOn=t.lastUpdatedOn,a.initiatedOn=t.createdOn,a.viewProcessId=t.projectAltrId,a.viewProjectId=t.projectRegId,a.cahngeLandAreaFlag=t.cahngeLandAreaFlag,a.alterationType=t.alterationType,"Yes"==t.cahngeLandAreaFlag?(a.status="Land Area Change",e.viewMasterProjectPromoter.push(a)):t.status.startsWith("PENDING")&&"AWAITIGCOMP"!=t.stateCode&&"APPROVED"!=t.stateCode&&"WITHDRAWAL"!=t.stateCode?(a.status=t.stateName,a.stateCode=t.stateCode,e.viewMasterProjectAuthority.push(a)):"PENDING"!=t.status&&"LEVELONE"!=t.status&&"PENDING_HEADOFFICE"!=t.status||"AWAITIGCOMP"!=t.stateCode?"SAVEASDRAFT"==t.status?(a.status="Saved As Draft",a.alterationType=t.alterationType,e.viewMasterProjectPromoter.push(a)):"APPROVED"==t.stateCode||"WITHDRAWAL"==t.stateCode||"REJECTED"==t.stateCode?(a.status=t.stateName,a.stateCode=t.stateCode,a.processName="Alteration",a.certificate=t.projectCertUId,e.viewMasterProjectSummary.push(a)):"STAGE2"==t.stateCode&&(a.status=t.stateName,a.stateCode=t.stateCode,a.alterationType=t.alterationType,a.projectAltrId=t.projectAltrId,a.processName="Alteration",e.viewMasterProjectPromoter.push(a)):(a.status=t.stateName,a.stateCode=t.stateCode,e.viewMasterProjectPromoter.push(a))}))}else e.viewMasterProject=[]}),(function(t){e.loadingSpinner=!1,console.log(t)}))}},{key:"getListOfTotalExtensionOfProjects",value:function(t){var e=this;this.loadingSpinner=!0,this._serviceCall.viewExtensionProjects(t).subscribe((function(t){e.loadingSpinner=!1,console.log("sssss"),console.log(t),console.log("sssss222"),t&&t.forEach((function(t){var a=[];a.application="Extension",a.wfoId=t.wfoId,a.projectName=t.projectName,a.projectType=null!=t.projectType?t.projectType:"--",a.ackNo=t.projectExtAckNo,a.status=t.status,a.submittedOn=t.lastUpdatedOn,a.initiatedOn=t.appSubmissionDate,a.viewProcessId=t.id,a.viewProjectId=t.projectId,a.cahngeLandAreaFlag=t.cahngeLandAreaFlag,t.status.startsWith("PENDING")&&"AWAITIGCOMP"!=t.stateCode&&"APPROVED"!=t.stateCode&&"WITHDRAWAL"!=t.stateCode?(a.status=t.stateName,a.stateCode=t.stateCode,e.viewMasterProjectAuthority.push(a)):"PENDING"!=t.status&&"LEVELONE"!=t.status&&"PENDING_HEADOFFICE"!=t.status||"AWAITIGCOMP"!=t.stateCode?"SAVEASDRAFT"==t.status||"INPROGRESS"==t.status?(a.status="Saved As Draft",e.viewMasterProjectPromoter.push(a),sessionStorage.setItem("extId",t.id)):"APPROVED"!=t.stateCode&&"WITHDRAWAL"!=t.stateCode||(a.status=t.stateName,a.stateCode=t.stateCode,a.processName="Extension",a.profileType="",a.certificate=t.certificateUid,e.viewMasterProjectSummary.push(a)):(a.status=t.stateName,a.stateCode=t.stateCode,e.viewMasterProjectPromoter.push(a))}))}),(function(t){e.loadingSpinner=!1,console.log(t)}))}},{key:"stage2Data",value:function(t){sessionStorage.setItem("projectAltrId",t),this._router.navigate(["section15/stage2-document"])}},{key:"getListOfTotalEnquiryOfProjects",value:function(t){var e=this;this.loadingSpinner=!0,this._serviceCall.viewEnquiriesProjects(t).subscribe((function(t){e.loadingSpinner=!1,console.log(t),"200"==t.status&&(t.data.forEach((function(t){var a=[];a.application="Enquiry",a.projectName=t.projectName,a.wfoId=t.wfoId,a.projectType=t.projectType?t.projectType:"--",a.ackNo=t.equiryNo,a.status=t.status,a.submittedOn=t.updatedOn,a.initiatedOn=t.createdOn,a.viewProcessId=t.onlineEnquiryid,a.viewProjectId=t.projectId,a.stateCode="EnquiryView",a.cahngeLandAreaFlag="No","PROJECT_REG_ONLINE"==t.processType?a.processName="Registration":"PROJECT_ALT_ONLINE"==t.processType?a.processName="Alteration":"PROJECT_ALT_15_ONLINE"==t.processType?a.processName="Alteration-15":"PROJECT_EXT_ONLINE"==t.processType?a.processName="Extension":"PROJECT_QTR_ONLINE"==t.processType&&(a.processName="Quarter"),a.profileType="",e.viewMasterProjectSummary.push(a)})),console.log(e.viewMasterProjectSummary))}),(function(t){e.loadingSpinner=!1,console.log(t)}))}},{key:"citySUrvey",value:function(t){var e=this;this._serviceCall.getCitySurveyProject(this.projectId).subscribe((function(t){if(console.log(t),console.log("qqqqqqqqqqqqqqqqqq"),"200"==t.status){var a=t.data,r=t.data;a.forEach((function(t){var a=[];a.application="sealForTrust",a.projectName=t.projectName,a.promoterName=t.promoterName,a.projectType=t.projectType?t.projectType:"--",a.ackNo=t.ackNo,a.status=t.statusName,a.viewProjectId=t.projectId,"PENDING_WITH_AUTH"==t.statusName&&e.viewMasterProjectAuthority.push(a)})),r.forEach((function(t){var a=[];a.application="sealForTrust",a.projectName=t.projectName,a.promoterName=t.promoterName,a.projectType=t.projectType?t.projectType:"--",a.ackNo=t.ackNo,a.status=t.statusName,a.viewProjectId=t.projectId,"REVIEW"==t.statusName&&e.viewMasterProjectPromoter.push(a)}))}}))}},{key:"getListOfProfileChangeOfProjectsAuth",value:function(t){var e=this;this.loadingSpinner=!0,this._serviceCall.getTotalProjectProfile(t).subscribe((function(t){e.loadingSpinner=!1,console.log(t),"200"==t.status&&(t.data.forEach((function(t){if("DISCARDED"!=t.status){var a=[];"Approved"!=t.status&&"REJECTED"!=t.status&&(e.currentInProgressType="TP Profile Change",e.currentInStatusType="INPROGRESS"),a.application="tPProfileChange",a.projectName=t.displayProjectName,a.wfoId=t.pcwfId,a.projectType=t.projectType,a.ackNo=t.tpAckNo,a.status=t.status,a.submittedOn=t.projectNameF,a.initiatedOn=t.authorizeSign,a.viewProcessId=t.pcwfId,a.viewProjectId=t.projectId,a.stateCode="ProfileView",a.cahngeLandAreaFlag="No",a.processName="TP Profile",a.profileType="","INPROGRESS"==t.status&&(a.ackNo=""),"INPROGRESS"!=t.status&&"Enquiry"!=t.status&&"APPROVED"!=t.status&&"Approved"!=t.status&&"Rejected"!=t.status&&"REJECTED"!=t.status?e.viewMasterProjectAuthority.push(a):"Approved"==t.status||"APPROVED"==t.status||"Rejected"==t.status||"REJECTED"==t.status?e.viewMasterProjectSummary.push(a):"Enquiry"==t.status&&(a.stateCode="AWAITIGCOMP",e.viewMasterProjectPromoter.push(a),sessionStorage.setItem("pfView","authority"))}})),console.log(e.viewMasterProjectSummary))}),(function(t){e.loadingSpinner=!1,console.log(t)}))}},{key:"getListOfProfileChangeOfProjects",value:function(t){var e=this;this.loadingSpinner=!0;this._serviceCall.getTotalProjectProfilePcwf(t).subscribe((function(t){var a;e.loadingSpinner=!1,console.log(t),"200"==t.status&&(a=[],t.data.forEach((function(t){"DISCARDED"!=t.status&&t.tpModel&&(t.tpModel.profileType=t.pfcType,t.tpModel.mainId=t.id,a.push(t.tpModel))})),a.length>0&&(console.log(a),a.forEach((function(t){var a=[];"Approved"!=t.status&&"REJECTED"!=t.status&&(e.currentInProgressType="TP Profile Change",e.currentInStatusType="INPROGRESS"),a.application="tPProfileChange",a.projectName=t.displayProjectName,a.wfoId=t.mainId,a.projectType=t.projectType,a.ackNo=t.tpAckNo,a.status=t.status,a.submittedOn=t.projectNameF,a.initiatedOn=t.authorizeSign,a.viewProcessId=t.mainId,a.viewProjectId=t.projectId,a.stateCode="ProfileView",a.cahngeLandAreaFlag="No",a.processName="TP Profile",a.profileType=t.profileType,"INPROGRESS"==t.status&&(a.ackNo=""),"TP_LEGAL_PCWF"==t.profileType&&e.currentInProgressType&&(a.processName="Both (TP and Legal)",e.currentInProgressType="Both (TP and Legal)"),"INPROGRESS"!=t.status&&"Enquiry"!=t.status&&"APPROVED"!=t.status&&"Approved"!=t.status&&"Rejected"!=t.status&&"REJECTED"!=t.status?e.viewMasterProjectAuthority.push(a):"Enquiry"==t.status?(a.stateCode="AWAITIGCOMP",e.viewMasterProjectPromoter.push(a),sessionStorage.setItem("pfView","authority")):"INPROGRESS"==t.status?e.viewMasterProjectPromoter.push(a):"Approved"!=t.status&&"APPROVED"!=t.status&&"Rejected"!=t.status&&"REJECTED"!=t.status||e.viewMasterProjectSummary.push(a)}))),console.log(e.viewMasterProjectSummary,e.viewMasterProjectPromoter))}),(function(t){e.loadingSpinner=!1,console.log(t)}))}},{key:"getListOfProfileChangeLegalOfProjectsAuth",value:function(t){var e=this;this.loadingSpinner=!0,this._serviceCall.getTotalProjectProfileLegal(t).subscribe((function(t){e.loadingSpinner=!1,"200"==t.status&&(t.data.forEach((function(t){if("DISCARDED"!=t.status){var a=[];"Approved"!=t.status&&"REJECTED"!=t.status&&(e.currentInProgressType="Legal Profile Change",e.currentInStatusType="INPROGRESS"),a.application="legalProfileChange",a.projectName=t.projectName,a.wfoId=t.legalId,a.projectType=t.projectType,a.ackNo=t.legalAckNo,a.status=t.status,a.submittedOn=t.submitedOn,a.initiatedOn=t.createdOn,a.viewProcessId=t.legalId,a.viewProjectId=t.projectId,a.stateCode="ProfileView",a.cahngeLandAreaFlag="No",a.processName="Legal Profile",a.profileType="","INPROGRESS"==t.status&&(a.ackNo=""),"INPROGRESS"!=t.status&&"Enquiry"!=t.status&&"APPROVED"!=t.status&&"Approved"!=t.status&&"Rejected"!=t.status&&"REJECTED"!=t.status?e.viewMasterProjectAuthority.push(a):"Approved"==t.status||"APPROVED"==t.status||"Rejected"==t.status||"REJECTED"==t.status?e.viewMasterProjectSummary.push(a):"Enquiry"==t.status&&(a.stateCode="AWAITIGCOMP",e.viewMasterProjectPromoter.push(a),sessionStorage.setItem("pfView","authority"))}})),console.log(e.viewMasterProjectSummary))}),(function(t){e.loadingSpinner=!1,console.log(t)}))}},{key:"getListOfProfileChangeLegalOfProjects",value:function(t){var e=this;this.loadingSpinner=!0,console.log("calling a"),this._serviceCall.getTotalProjectProfileLegalPcwf(t).subscribe((function(t){var a;e.loadingSpinner=!1,console.log("data-check",t.data),"200"==t.status&&(a=[],t.data.forEach((function(t){"DISCARDED"!=t.status&&t.legalModel&&"TP_LEGAL_PCWF"!=t.pfcType&&(t.legalModel.mainId=t.id,a.push(t.legalModel))})),console.log("legal data",a),a.length>0&&a.forEach((function(t){var a=[];"Approved"!=t.status&&"REJECTED"!=t.status&&"DISCARDED"!=t.status&&(e.currentInProgressType="Legal Profile Change",e.currentInStatusType="INPROGRESS"),a.application="legalProfileChange",a.projectName=t.projectName,a.wfoId=t.mainId,a.projectType=t.projectType,a.ackNo=t.legalAckNo,a.status=t.status,a.submittedOn=t.submitedOn,a.initiatedOn=t.createdOn,a.viewProcessId=t.mainId,a.viewProjectId=t.projectId,a.stateCode="ProfileView",a.cahngeLandAreaFlag="No",a.processName="Legal Profile",a.profileType="","INPROGRESS"==t.status&&(a.ackNo=""),"INPROGRESS"!=t.status&&"Enquiry"!=t.status&&"APPROVED"!=t.status&&"Approved"!=t.status&&"Rejected"!=t.status&&"REJECTED"!=t.status?e.viewMasterProjectAuthority.push(a):"Enquiry"==t.status?(a.stateCode="AWAITIGCOMP",e.viewMasterProjectPromoter.push(a),sessionStorage.setItem("pfView","authority")):"INPROGRESS"==t.status?e.viewMasterProjectPromoter.push(a):"Approved"!=t.status&&"APPROVED"!=t.status&&"Rejected"!=t.status&&"REJECTED"!=t.status||e.viewMasterProjectSummary.push(a)})),console.log(e.viewMasterProjectSummary,e.viewMasterProjectPromoter))}),(function(t){e.loadingSpinner=!1,console.log(t)}))}},{key:"getQPRenquiriesList",value:function(t){var e=this;this.loadingSpinner=!0,this._serviceCall.qprEnquiries(t).subscribe((function(t){e.loadingSpinner=!1,console.log("qpr access",t),"200"==t.status&&(t.data.forEach((function(t){var a=[];a.application="QPR",a.projectName=t.projectName,a.wfoId=t.qtrId,a.projectType=t.quarterName,a.ackNo="--",a.status=t.status,a.submittedOn=t.raisedOn,a.initiatedOn=t.raisedOn,a.viewProcessId=t.qtrId+"-"+t.enqId,a.viewProjectId="",a.stateCode="",a.cahngeLandAreaFlag="No",a.processName="QPR",a.profileType="","INPROGRESS"!=t.status&&"ENQUIRY"!=t.status&&"APPROVED"!=t.status&&"Approved"!=t.status&&"Rejected"!=t.status&&"REJECTED"!=t.status?e.viewMasterProjectAuthority.push(a):"ENQUIRY"==t.status?(a.stateCode="AWAITIGCOMP",e.viewMasterProjectPromoter.push(a)):"INPROGRESS"==t.status?e.viewMasterProjectPromoter.push(a):"Approved"!=t.status&&"APPROVED"!=t.status&&"Rejected"!=t.status&&"REJECTED"!=t.status||e.viewMasterProjectSummary.push(a)})),console.log(e.viewMasterProjectSummary))}),(function(t){e.loadingSpinner=!1,console.log(t)}))}},{key:"listAlterationSection15OfProjects",value:function(t){var e=this;this.loadingSpinner=!0,this._serviceCall.getTotalSection15Response(t).subscribe((function(t){if(e.loadingSpinner=!1,console.log("project"),console.log(t),"200"==t.status){var a=t.data;e.viewMasterProject=[],a.forEach((function(t){var a=[];a.application="Alteration-15",a.wfoId=t.wfoId,a.ackNo=t.projectAltAckNo,a.projectName=t.projectName,a.projectType=null!=t.projectType?t.projectType:"--",a.submittedOn=t.lastUpdatedOn,a.initiatedOn=t.createdOn,a.viewProcessId=t.projectAltrId,a.viewProjectId=t.projectRegId,a.cahngeLandAreaFlag="No",a.alterationType=t.alterationType,a.stage=t.stageOneStatus,"Yes"==t.cahngeLandAreaFlag?(a.status="Land Area Change",e.viewMasterProjectPromoter.push(a)):"PENDING"==t.status&&"AWAITIGCOMP"!=t.stateCode&&"APPROVED"!=t.stateCode&&"COMPLETED"!=t.stageOneStatus?(a.status=t.stateName,a.stateCode=t.stateCode,e._serviceCall.getWithdrawStatus(t.projectAltrId,"PROJECT_ALT_15").subscribe((function(t){"200"==t.status&&"REFUNDED"==t.data.wfStateCode?e.viewMasterProjectSummary.push(a):e.viewMasterProjectAuthority.push(a)}),(function(t){e.viewMasterProjectAuthority.push(a)}))):"PENDING"==t.status&&"AWAITIGCOMP"==t.stateCode?(a.status=t.stateName,a.stateCode=t.stateCode,e.viewMasterProjectPromoter.push(a)):"SAVEASDRAFT"==t.status?(a.status="Saved As Draft",a.alterationType=t.alterationType,e.viewMasterProjectPromoter.push(a)):"APPROVED"==t.stateCode||"COMPLETED"==t.stageOneStatus?(a.status=t.stateName,a.stateCode=t.stateCode,a.processName="Alteration",a.certificate=t.projectCertUId,a.stageTwoStatus=t.stageTwoStatus,e.viewMasterProjectSummary.push(a)):"STAGE2"==t.stateCode&&"COMPLETED"!=t.stageOneStatus&&(a.status=t.stateName,a.stateCode=t.stateCode,a.alterationType=t.alterationType,a.projectAltrId=t.projectAltrId,a.processName="Alteration",e.viewMasterProjectPromoter.push(a))})),console.log(e.viewMasterProjectPromoter)}else e.viewMasterProject=[]}),(function(t){e.loadingSpinner=!1,console.log(t)}))}},{key:"ProjectSurvey",value:function(){this._router.navigate(["seal-trust-promoter"])}},{key:"navigationManagment",value:function(t,e,a,r,n,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";console.log("redirectionType",r),console.log("wfoId",n),sessionStorage.setItem("outSideAccess","outSideAccess"),"tPProfileChange"!=a&&"legalProfileChange"!=a?"newRedirect"==r?"Alteration"==a?(sessionStorage.setItem("wfoId",n),sessionStorage.setItem("projectAltrId",t),sessionStorage.setItem("returnFullView","Alteration"),this._router.navigate(["project-alteration/promoter-detail"])):"Alteration-15"==a?(sessionStorage.setItem("wfoId",n),sessionStorage.setItem("projectAltrId",t),sessionStorage.setItem("stageOneOpen","stageOne"),sessionStorage.setItem("returnFullView","Alteration"),this._router.navigate(["section15/promoter-detail"])):"Extension"==a?(sessionStorage.setItem("wfoId",n),sessionStorage.setItem("extId",t),sessionStorage.setItem("extPaymentStatus","true"),this._router.navigate(["extension/apply-extension"])):"Registration"==a&&(sessionStorage.setItem("wfoId",n),this._router.navigate(["project-registration/promotor-detail"])):(console.log(t+"   ---- "+e+" ----- "+a),"Alteration"==a?(sessionStorage.setItem("returnFullView","Alteration"),sessionStorage.setItem("projectAltrId",t),this._router.navigate(["project-alteration/promoter-detail"])):"Alteration-15"==a?(sessionStorage.setItem("returnFullView","Alteration"),sessionStorage.setItem("projectAltrId",t),this._router.navigate(["section15/promoter-detail"])):"Extension"==a?(sessionStorage.setItem("extId",t),this._router.navigate(["extension/apply-extension"])):("EnquiryView"==a||"BCR"==a)&&this._router.navigate(["bcr/bcr-request"])):("Authority"==i&&sessionStorage.setItem("pfView","authority"),sessionStorage.setItem("profileId",n),"TP_LEGAL_PCWF"==o?(sessionStorage.setItem("pfcType","TP_LEGAL_PCWF"),this._router.navigate(["project-profile-change/Tpchange"])):"tPProfileChange"==a?(this._router.navigate(["project-profile-change/Tpchange"]),sessionStorage.setItem("pfcType","TP_PCWF")):(this._router.navigate(["project-profile-change/legal-profile-select"]),sessionStorage.setItem("pfcType","LEGAL_PCWF"))),sessionStorage.setItem("summaryDetails","true")}},{key:"alterationAction",value:function(t){if(sessionStorage.setItem("alterationType",t),"QUARTER_RET"==this.currentInProgressType.split(" ")[0]&&("SAVED"==this.currentInStatusType||"INPROGRESS"==this.currentInStatusType))return this.inputJson.next({popShow:!0,popMsg:"QPR filling is in progress, once you complete to file QPR, you can apply for Alteration, Extension, Section 15, BCR. Otherwise, please Cancel/ Delete the QPR Form allocation/submission and retry.",popClass:"alert alert-danger",popRoute:""}),!1;if("BCR_ALT"==this.currentInProgressType&&("INPROGRESS"==this.currentInStatusType||"INPROGRESS_REJECTED"==this.currentInStatusType||"REJECTED_FOR_BCR"==this.currentInStatusType)){var e,a="";if("INPROGRESS_REJECTED"==this.currentInStatusType)e="Your Bank A/c correction request process is rejected by authority. Please check authority remarks and submit the form accordingly for further processing.",a="bcr-without-fee/apply-for-changes";else{if("REJECTED_FOR_BCR"==this.currentInStatusType)return sessionStorage.setItem("paymentModeForBCR","WithPayment"),!1;e="Bank A/c correction request process is pending from authority. You can not apply further process until approval.",a=""}return this.inputJson.next({popShow:!0,popMsg:e,popClass:"alert alert-danger",popRoute:a}),!1}var r;return"ALTERATION"!=this.currentInProgressType&&("SAVED"==this.currentInStatusType||"INPROGRESS"==this.currentInStatusType)||"ALTERATION"==this.currentInProgressType&&"INPROGRESS"==this.currentInStatusType?(r="QUARTER_DEF"==this.currentInProgressType.substring(0,this.currentInProgressType.indexOf(" "))?" process is default. You can not apply Alteration application before completion of pending process.":" process is still in progress. You can not apply Alteration application before completion / discard of pending process.",this.inputJson.next({popShow:!0,popMsg:this.currentInProgressType+r,popClass:"alert alert-danger",popRoute:""}),!1):"ALTERATION"!=this.currentInProgressType&&"DEFAULT"==this.currentInStatusType?(this.inputJson.next({popShow:!0,popMsg:this.currentInProgressType+" is default and hence you can not apply for Alteration/ Extension/ Section 15 till the Defaulted\xa0Quarter is not submitted.",popClass:"alert alert-danger",popRoute:""}),!1):(this.applyPopup=!0,void(this.popupVal=1))}},{key:"alterationSec15Action",value:function(){if("QUARTER_RET"==this.currentInProgressType.split(" ")[0]&&("SAVED"==this.currentInStatusType||"INPROGRESS"==this.currentInStatusType))return this.inputJson.next({popShow:!0,popMsg:"QPR filling is in progress, once you complete to file QPR, you can apply for Alteration, Extension, Section 15, BCR. Otherwise, please Cancel/ Delete the QPR Form allocation/submission and retry.",popClass:"alert alert-danger",popRoute:""}),!1;if("BCR_ALT"==this.currentInProgressType&&("INPROGRESS"==this.currentInStatusType||"INPROGRESS_REJECTED"==this.currentInStatusType||"REJECTED_FOR_BCR"==this.currentInStatusType)){var t,e="";if("INPROGRESS_REJECTED"==this.currentInStatusType)t="Your Bank A/c correction request process is rejected by authority. Please check authority remarks and submit the form accordingly for further processing.",e="bcr-without-fee/apply-for-changes";else{if("REJECTED_FOR_BCR"==this.currentInStatusType)return sessionStorage.setItem("paymentModeForBCR","WithPayment"),!1;t="Bank A/c correction request process is pending from authority. You can not apply further process until approval.",e=""}return this.inputJson.next({popShow:!0,popMsg:t,popClass:"alert alert-danger",popRoute:e}),!1}var a;return"ALT_SEC-15"!=this.currentInProgressType&&("SAVED"==this.currentInStatusType||"INPROGRESS"==this.currentInStatusType)||"ALT_SEC-15"==this.currentInProgressType&&"INPROGRESS"==this.currentInStatusType?(a="QUARTER_DEF"==this.currentInProgressType.substring(0,this.currentInProgressType.indexOf(" "))?" process is default. You can not apply Alteration Section 15 application before completion of pending process.":" process is still in progress. You can not apply Alteration Section 15 application  before completion / discard of pending process.",this.inputJson.next({popShow:!0,popMsg:this.currentInProgressType+a,popClass:"alert alert-danger",popRoute:""}),!1):"ALT_SEC-15"!=this.currentInProgressType&&"DEFAULT"==this.currentInStatusType?(this.inputJson.next({popShow:!0,popMsg:this.currentInProgressType+" is default and hence you can not apply for Alteration/ Extension/ Section 15 till the Defaulted\xa0Quarter is not submitted.",popClass:"alert alert-danger",popRoute:""}),!1):(this.applyPopup=!0,void(this.popupVal=2))}},{key:"projectEnquiriesView",value:function(t,e){console.log(t+"    "+e),"PROJECT_REG"==t||"Registration"==t?t="PROJECT_REG_ONLINE":"Alteration"==t||"PROJECT_ALT"==t?t="PROJECT_ALT_ONLINE":"Extension"==t||"PROJECT_EXT"==t?t="PROJECT_EXT_ONLINE":"QPR"!=t&&"PROJECT_QTR"!=t||(t="PROJECT_QTR_ONLINE"),sessionStorage.setItem("OEviewStatus","1"),sessionStorage.setItem("OEprocessId",e),sessionStorage.setItem("OEprocessType",t),this._router.navigate(["online-enquiry/project-view/view-enquiry"])}},{key:"getListData",value:function(t){var e=this;console.log(this.projectId),this._serviceCall.getProjectFormFiveDetail(t).subscribe((function(t){e.formFiveDetail=t.data,console.log(e.formFiveDetail)}),(function(t){console.log(t)}))}},{key:"setData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this.filterData=this.formFiveDetail.formFiveList.filter((function(t){return"ACTIVE"==t.financialYearStatus})),sessionStorage.setItem("formFiveId",t),console.log("current fy clicked",e),!["ACTIVE","ESIGNED","DEFAULT-ACTIVE","SUBMITTED"].includes(e))return!1;this._router.navigate(["project-dashboard/project-view/initiate-form-five"])}},{key:"ProjectWithdraw",value:function(t,e,a,r){this.projectRegIdForSelector.next({workflowId:t,projectId:a,processType:e,processId:r}),this.WithdrawPopup=!0}},{key:"closePopupWithdraw",value:function(){this.WithdrawPopup=!1}},{key:"GetChildData",value:function(t){console.log("childdata"),console.log(t),this.WithdrawPopup=!1,this.inputJson.next({popShow:!0,popMsg:"Your Withdrawal Request has been submitted successfully.",popClass:"alert alert-success",popRoute:""}),this.ngOnInit()}},{key:"payChangeLandArea",value:function(t,e){console.log(t),this._changeLandArea.ChangeLandArea.next({projectId:t,showPopUp:!0,processType:e,showDetails:!0})}},{key:"assignProffesional",value:function(t){var e=this;this.loadingSpinner=!0,this._serviceCall.getProffesional(this.projectId).subscribe((function(t){if(e.loadingSpinner=!1,console.log(t,"uppi"),"200"==t.status){e.getassignProffesional=t.data;for(var a=0;a<e.getassignProffesional.length;a++){var r;r="PROJECT_REG"==e.getassignProffesional[a].process_type?"Registration":"PROJECT_ALT"==e.getassignProffesional[a].process_type?" Alteration":"PROJECT_EXT"==e.getassignProffesional[a].process_type?"Extension":"PROJECT_REG_ONLINE"==e.getassignProffesional[a].process_type?"Registartion Enquiry":"PROJECT_ALT_ONLINE"==e.getassignProffesional[a].process_type?"Alteration Enquiry":"PROJECT_EXT_ONLINE"==e.getassignProffesional[a].process_type?"Extension Enquiry":"QTR","ACCEPTED"==e.getassignProffesional[a].f1_status||e.regArray.push({documentType:"Form 1",applicationOn:r,formId:e.getassignProffesional[a].form_one_id,status:e.getassignProffesional[a].f1_status,dateofAllocation:e.getassignProffesional[a].f1_assigned_on,professionlName:e.getassignProffesional[a].f1_assigned_user_name}),"ACCEPTED"==e.getassignProffesional[a].f2_status||e.regArray.push({documentType:"Form 2",applicationOn:r,formId:e.getassignProffesional[a].form_two_id,status:e.getassignProffesional[a].f2_status,dateofAllocation:e.getassignProffesional[a].f2_assigned_on,professionlName:e.getassignProffesional[a].f2_assigned_user_name}),"ACCEPTED"==e.getassignProffesional[a].f3_status||e.regArray.push({documentType:"Form 3",applicationOn:r,formId:e.getassignProffesional[a].form_three_id,status:e.getassignProffesional[a].f3_status,dateofAllocation:e.getassignProffesional[a].f3_assigned_on,professionlName:e.getassignProffesional[a].f3_assigned_user_name})}}}),(function(t){e.loadingSpinner=!1,console.log(t)}))}},{key:"getFormFive",value:function(t){var e=this;this._serviceCall.getFormFiveData(t).subscribe((function(t){"200"==t.status&&e.formFiveArray.push({documentType:"Form 5",applicationOn:"Form 5",formId:t.data.formFiveId,status:t.data.status,dateofAllocation:t.data.lastUpdatedOn,professionlName:t.data.caName})}),(function(t){console.log(t)}))}},{key:"getQuater",value:function(t){var e=this;this._serviceCall.getQuaterData(t).subscribe((function(t){"200"==t.status?e.quaterList=t.data:e.quaterList=[]}),(function(t){e.quaterList=[],console.log(t)}))}},{key:"quaterPage",value:function(t){this._router.navigate(["qtr/enquiry"]),sessionStorage.setItem("quarterId",t)}},{key:"profileChangeRedirect",value:function(t,e){var a,r;if(sessionStorage.removeItem("profileId"),sessionStorage.removeItem("pfView"),"BCR_ALT"==this.currentInProgressType&&("INPROGRESS"==this.currentInStatusType||"INPROGRESS_REJECTED"==this.currentInStatusType||"REJECTED_FOR_BCR"==this.currentInStatusType)){var n,i="";if("INPROGRESS_REJECTED"==this.currentInStatusType)n="Your Bank A/c correction request process is rejected by authority. Please check authority remarks and submit the form accordingly for further processing.",i="bcr-without-fee/apply-for-changes";else{if("REJECTED_FOR_BCR"==this.currentInStatusType)return sessionStorage.setItem("paymentModeForBCR","WithPayment"),!1;n="Bank A/c correction request process is pending from authority. You can not apply further process until approval.",i=""}return this.inputJson.next({popShow:!0,popMsg:n,popClass:"alert alert-danger",popRoute:i}),!1}if("SAVED"==this.currentInStatusType||"INPROGRESS"==this.currentInStatusType||"DEFAULT"==this.currentInStatusType)return r="QUARTER_DEF"==this.currentInProgressType.substring(0,this.currentInProgressType.indexOf(" "))?" process is default. You can not apply Profile Change request before completion of pending process.":" process is still in progress. You can not apply Profile Change request before completion / discard of pending process.",this.inputJson.next({popShow:!0,popMsg:this.currentInProgressType+r,popClass:"alert alert-danger",popRoute:""}),!1;a=2==t?"project-profile-change/legal-profile-select":"project-profile-change/Tpchange",sessionStorage.setItem("pfcType",e),this._router.navigate([a])}},{key:"slideNav",value:function(t){document.getElementById("slideNav").classList.toggle("active")}},{key:"prChangeMenu",value:function(t){document.getElementById("prChangeMenu").classList.toggle("active")}},{key:"prChangeMenuWF",value:function(t){document.getElementById("prChangeMenuWF").classList.toggle("active")}},{key:"getWithFeeLockingStatus",value:function(t){var e=this;this.loadingSpinner=!0,this._serviceCall.lockingWithFee(t).subscribe((function(t){e.loadingSpinner=!1,console.log(t),"200"==t.code&&Object.keys(t.data).length>0&&(e.isTpInProcess="TP"==t.data.tp,e.isLegalInProcess="LEGAL"==t.data.legal,e.isBCRInProcess="BCR"==t.data.bcr)}),(function(t){e.loadingSpinner=!1,console.log(t)}))}},{key:"getEofficeForDashboard",value:function(t){var e=this;this._serviceCall.getEofficeData(t).subscribe((function(t){console.log("----eoffice data----------"),console.log(t),"200"==t.status?e.setEofficedata=t.data:e.setEofficedata=[]}),(function(t){e.setEofficedata=[],console.log(t)}))}},{key:"printAvailability",value:function(t){return"Alteration"==t||"Registration"==t||"Extension"==t||"Alteration-15"==t||"tPProfileChange"==t||"legalProfileChange"==t}},{key:"printApplication",value:function(t){var e=t.application,a=t.wfoId,r=t.viewProcessId,n=t.ackNo;console.log(t),sessionStorage.setItem("wfoId",a),"Registration"==e?this._router.navigate(["registration/print-project"]):"Alteration"==e?(sessionStorage.setItem("projectAckNO",n),sessionStorage.setItem("projectAltrId",r),this._router.navigate(["alteration/project-print"])):"Extension"==e?(sessionStorage.setItem("projectAckNO",n),sessionStorage.setItem("extId",r),this._router.navigate(["extension-p/print-extension"])):"Alteration-15"==e?(sessionStorage.setItem("projectAltrId",r),sessionStorage.setItem("projectAckNO",n),this._router.navigate(["alterationsec15stageone/project-print"])):"legalProfileChange"==e?(sessionStorage.setItem("legalId",r),sessionStorage.setItem("profileId",r),sessionStorage.setItem("printSummary","printSummary"),sessionStorage.setItem("pfView","authority"),sessionStorage.setItem("printAcklegal",n),this._router.navigate(["legal-detail/legal-detail-print"])):"tPProfileChange"==e&&(sessionStorage.setItem("printSummary","printSummary"),sessionStorage.setItem("profileId",r),sessionStorage.setItem("Projectname",t.submittedOn),sessionStorage.setItem("Authsign",t.initiatedOn),sessionStorage.setItem("pfView","authority"),sessionStorage.setItem("printAcklegal",n),this._router.navigate(["tp-detail/tp-detail-print"]))}},{key:"getCurrentInProgressData",value:function(t){var e=this;this.loadingSpinner=!0,this._serviceCall.getCurrentInProgressData(t).subscribe((function(t){e.loadingSpinner=!1,"201"==t.status&&(Object.keys(t.data).length>0?(e.currentInProgressType=t.data.type,e.currentInStatusType=t.data.status):(e.currentInProgressType="",e.currentInStatusType=""))}),(function(t){e.loadingSpinner=!1,console.log(t)}))}},{key:"popupOk",value:function(){1==this.popupVal?this._router.navigate(["project-alteration/promoter-detail"]):2==this.popupVal?this._router.navigate(["section15/promoter-detail"]):3==this.popupVal&&this._router.navigate(["extension/apply-extension"]),sessionStorage.removeItem("returnFullView"),sessionStorage.removeItem("projectAltrId"),this.applyPopup=!1}},{key:"popupCheckClose",value:function(){this.applyPopup=!1}},{key:"toDiscardThis",value:function(t,e){var a=this;this.loadingSpinner=!0,this._serviceCall.discardThisProcess(t,e).subscribe((function(t){a.loadingSpinner=!1,a.viewMasterProjectPromoter=[],a.viewMasterProjectAuthority=[],a.viewMasterProjectSummary=[],a.currentInProgressType="",a.currentInStatusType="",a.getRegProjectProfessionalsDetails(),a.getAltProjectProfessionalsDetails(),a.fetchAlterationDetails(),a.getCurrentStatusofProject(),a.getBCR(),a.citySUrvey(a.projectId),a.getRegistrationDetailsOfProject(a.projectId),a.getListOfTotalAlterationOfProjects(a.projectId),a.getListOfTotalExtensionOfProjects(a.projectId),a.getListOfTotalEnquiryOfProjects(a.projectId),a.getListData(a.projectId),a.getFormFive(a.projectId),a.getQuater(a.projectId),a.getListOfProfileChangeOfProjects(a.projectId),a.getListOfProfileChangeOfProjectsAuth(a.projectId),a.getListOfProfileChangeLegalOfProjects(a.projectId),a.getListOfProfileChangeLegalOfProjectsAuth(a.projectId),a.listAlterationSection15OfProjects(a.projectId),a.getWithFeeLockingStatus(a.projectId),a.getQPRenquiriesList(a.projectId),a.getEofficeForDashboard(a.projectId),a.getCurrentInProgressData(a.projectId),console.log(t),a.inputJson.next({popShow:!0,popMsg:"This process has been discarded.",popClass:"alert alert-success",popRoute:""})}),(function(t){a.loadingSpinner=!1,console.log(t),a.inputJson.next({popShow:!0,popMsg:"Error "+t.status+": Something went Wrong.",popClass:"alert alert-danger",popRoute:""})}))}},{key:"showConfirmation",value:function(t,e){console.log(t),t&&(this.returnIdForDisacrd=t,this.processName=e,this.confirmationEventB.next({flag:!0,messageV:"Are you sure want to discard this process? This can not be undone!"}))}},{key:"confirmationEvent",value:function(t){console.log(t),"OK"==t?"BCR"==this.isPopClickedFor?(sessionStorage.removeItem("paymentModeForBCR"),this._router.navigate(["bcr-without-fee/bcr-initiate"])):(this.toDiscardThis(this.returnIdForDisacrd,this.processName),sessionStorage.removeItem("projectAltrId"),sessionStorage.removeItem("extId")):"CANCEL"!=t&&"Cancel"!=t||(console.log("this.isPopClickedFor",this.isPopClickedFor),"BCR"==this.isPopClickedFor&&(sessionStorage.setItem("paymentModeForBCR","WithPayment"),this._router.navigate(["bcr/bcr-request"])))}},{key:"getAuthSign",value:function(t){this._workflowService.authSign(t).subscribe((function(t){console.log(t),sessionStorage.setItem("projectAuthSigId",t.data)}),(function(t){console.log(t)}))}},{key:"createTicketFunction",value:function(t,e,a){sessionStorage.setItem("editDetailsTicket",a),sessionStorage.setItem("ticketProcessId",t),sessionStorage.setItem("ticketProcessType",e),this.tabfir=!0,this.tabsec=!1,this.tabTicket=!1,this.ticketPopUp.next({popUpEnable:!0,porjEdit:!0})}},{key:"setTotalFetchable",value:function(t,e){console.log(e,"valueeee"),sessionStorage.setItem("previousDetailCheck","false"),sessionStorage.setItem("projectHeadCheck","false"),sessionStorage.setItem("reraDetailsCheck","false"),sessionStorage.setItem("associateVendorCheck","false"),sessionStorage.setItem("financialDocscheck","false"),1==e&&(sessionStorage.removeItem("previousDetailCheck"),sessionStorage.setItem("previousDetailCheck","true")),4==e&&(sessionStorage.removeItem("associateVendorCheck"),sessionStorage.setItem("associateVendorCheck","true")),5==e&&(sessionStorage.removeItem("financialDocscheck"),sessionStorage.setItem("financialDocscheck","true")),this._router.navigate(["/project-profile-change/pf-detail-without-fees"])}}]),t}();m.ctorParameters=function(){return[{type:u.a},{type:o.e},{type:c},{type:l.a},{type:d.a},{type:i.e}]},m=r.b([Object(n.n)({selector:"app-project-dashboard",template:r.c(a("P9oO")).default,styles:[r.c(a("q9cf")).default]})],m);var g=a("vp6C"),h=a("s7LF"),f=function(){function t(e,a,r,n,i){var o=this;_classCallCheck(this,t),this.fb=e,this.promoterFormFiveService=a,this.api=r,this.route=n,this._date=i,this.initiateFormData={status:""},this.verifyResponse={firstName:"",emailId:"",mobileNo:""},this.inputJson=new p.a({}),this.dataDisplayCA=[],this.tooltipJson=new p.a({}),this.inq=!1,this.history=!1,this.defaulterFiveData=[],this.confirmationEventB=new p.a({}),this.actionType="",this.tempHolding={},this.rejectByPromoter=function(){o.initiateFormData.status=null,o.initiateFormData.financialYearStatus="ACTIVE",o.initiateFormData.pdfUId=null,o.initiateFormData.eSignedOn=null,o.initiateFormData.caNumber=null,o.initiateFormData.promoterRemarks=null,o.initiateFormData.caName=null,o.initiateFormData.caMobileNo=null,o.initiateFormData.caEmailId=null,o.initiateFormData.question_1=null,o.initiateFormData.question_1_1=null,o.initiateFormData.formFiveBankList=[],o.initiateFormData.question_3=null,o.initiateFormData.question_4=null,o.initiateFormData.formFiveQ4_1List=[],o.initiateFormData.question_5=null,o.initiateFormData.formFiveQ5_1List=[],o.initiateFormData.question_6=null,o.initiateFormData.question_6_1=null,o.initiateFormData.question_7=null,o.initiateFormData.projectFormFiveQ7_1List=[],o.initiateFormData.question_8=null,o.initiateFormData.question_8_1=null,o.initiateFormData.question_8_2=null,o.initiateFormData.question_9=null,o.initiateFormData.projectFormFiveQ9_1List=[],o.initiateFormData.question_10=null,o.initiateFormData.estimatedCostOfProject=null,o.initiateFormData.question_10_2=null,o.initiateFormData.question_10_3=null,o.initiateFormData.question_11=null,o.initiateFormData.question_12=null,o.initiateFormData.formFiveQ6_2Model=null,o.initiateFormData.projectFormFiveQ11_1List=[],o.initiateFormData.caFrmNo=null,o.initiateFormData.caFrmName=null,o.initiateFormData.caUdinNumber=null,o.initiateFormData.caDesignation=null,o.initiateFormData.projectFormFiveQ10_1List=[],o.initiateFormData.projectFormFiveQ11_1List=[],o.initiateFormData.formFiveDocModel=null,o.initiateFormData.formFiveOtherDocList=[],o.initiateFormData.cWithdrawSepAc=null,console.log(o.initiateFormData),o.showConfirmation("ASSIGN"),o.promoterFormFiveService.rejectedByPromoter(o.initiateFormData).subscribe((function(t){o.verifyResponse=t,o.showConfirmation("ASSIGN"),console.log(o.verifyResponse)}),(function(t){console.log(t),o.inputJson.next({popShow:!0,popMsg:"Unable to reject form 5 submission.",popClass:"alert alert-danger",popRoute:""})}))},this.assignObjectFunction=function(){console.log("login variable",o.tempHolding),o.initiateFormData.caNumber=o.tempHolding.caNumber,o.initiateFormData.promoterRemarks=o.tempHolding.promoterRemarks,o.initiateFormData.caName=o.tempHolding.caName,o.initiateFormData.caMobileNo=o.tempHolding.caMobileNo,o.initiateFormData.caEmailId=o.tempHolding.caEmailId,o.initiateFormData.status="ASSIGNED",o.initiateFormData.acceptedOn=null,o.initiateFormData.assignedOn=null,o.initiateFormData.defaultActiveCount=null,o.initiateFormData.lastUpdatedOn=null,o.initiateFormData.modifiedOn=null,o.initiateFormData.cumulativeWithdrawalFrom=null,o.initiateFormData.cumulativeWithdrawalLimit=null,o.initiateFormData.suoMotoFlag=null,console.log("final variable",o.initiateFormData),o.promoterFormFiveService.assignCANewService(o.initiateFormData).subscribe((function(t){o.verifyResponse=t,o.route.navigate(["/project-dashboard/project-view/list-view"]),console.log(o.verifyResponse)}),(function(t){console.error("CA initiation error",t),o.inputJson.next({popShow:!0,popMsg:"Something went wrong.",popClass:"alert alert-danger",popRoute:""})}))}}return _createClass(t,[{key:"ngOnInit",value:function(){this.formFiveId=sessionStorage.getItem("formFiveId"),this.userType=sessionStorage.getItem("userType"),this.getlistData(),this.getFormFiveLog(),this.getDefaulerData(),this.remarkGroup=this.fb.group({remark:["",h.h.required]}),this.formFiveCaVerify=new h.d({caYear:new h.c("",[h.h.required]),caStartDate:new h.c("",[h.h.required]),caEndDate:new h.c("",[h.h.required]),panNumber:new h.c("",[h.h.required])}),this.formFiveCaSend=new h.d({promoterRemarks:new h.c("",h.h.required),caName:new h.c("",[h.h.required]),caEmail:new h.c("",[h.h.required]),caMobile:new h.c("",[h.h.required]),caNumber:new h.c("",[h.h.required])})}},{key:"getlistData",value:function(){var t=this;this.promoterFormFiveService.formFive(this.formFiveId).subscribe((function(e){var a;a=e.data,t.initiateFormData=e.data,t.tempHolding={caNumber:a.caNumber,promoterRemarks:a.promoterRemarks,caName:a.caName,caMobileNo:a.caMobileNo,caEmailId:a.caEmailId}}),(function(t){console.log(t)}))}},{key:"onCASubmit",value:function(){var t=this;this.projectId=sessionStorage.getItem("projectId");var e=this.formFiveCaSend.value.caNumber;this.promoterFormFiveService.checkFormThree(e,this.projectId).subscribe((function(a){if(console.log(a),"300"==a.status)t.verifyCa(e);else{for(var r=0,n=0;n<a.data.length;n++){var i=a.data[n].createdOn.substr(0,10);console.log("date",i);var o=new Date(i);console.log(o),(new Date).getFullYear();var s=t.initiateFormData.certFromDate.substr(6,4),l=new Date(s,3,1),c=t.initiateFormData.certToDate.substr(6,4),p=new Date(c,2,1);o>l&&o<p&&r++}r>0?t.inputJson.next({popShow:!0,popMsg:"This CA has submitted Form 3 in this FY hence Form 5 can not be assigned to the same CA",popClass:"alert alert-danger",popRoute:""}):t.verifyCa(e)}}),(function(e){console.log(e),t.inputJson.next({popShow:!0,popMsg:"Invalid CA",popClass:"alert alert-danger",popRoute:""})}))}},{key:"verifyCa",value:function(t){var e=this;this.promoterFormFiveService.verifyCaNumber(t).subscribe((function(t){e.verifyResponse=t,console.log(e.verifyResponse)}),(function(t){console.log(t),e.inputJson.next({popShow:!0,popMsg:"Invalid CA",popClass:"alert alert-danger",popRoute:""})}))}},{key:"onFormSend",value:function(){var t=this;this.onCASubmit(),console.log(this.formFiveCaSend.value),this.initiateFormData.caNumber=this.formFiveCaSend.value.caNumber,this.initiateFormData.promoterRemarks=this.formFiveCaSend.value.promoterRemarks,this.initiateFormData.caName=this.formFiveCaSend.value.caName,this.initiateFormData.caMobileNo=this.formFiveCaSend.value.caMobile,this.initiateFormData.caEmailId=this.formFiveCaSend.value.caEmail,this.initiateFormData.status="ASSIGNED",console.log("befor "),console.log(this.initiateFormData),this.promoterFormFiveService.assigned(this.initiateFormData).subscribe((function(e){t.verifyResponse=e,t.route.navigate(["/project-dashboard/project-view/list-view"]),console.log(t.verifyResponse)}),(function(e){console.log(e),t.inputJson.next({popShow:!0,popMsg:"CA not Initiate",popClass:"alert alert-danger",popRoute:""})}))}},{key:"reasign",value:function(){var t=this;this.initiateFormData.status=null,this.initiateFormData.financialYearStatus="ACTIVE",this.initiateFormData.caNumber=null,this.initiateFormData.promoterRemarks=null,this.initiateFormData.caName=null,this.initiateFormData.caMobileNo=null,this.initiateFormData.caEmailId=null,this.initiateFormData.question_1=null,this.initiateFormData.question_1_1=null,this.initiateFormData.formFiveBankList=[],this.initiateFormData.question_3=null,this.initiateFormData.question_4=null,this.initiateFormData.formFiveQ4_1List=[],this.initiateFormData.question_5=null,this.initiateFormData.formFiveQ5_1List=[],this.initiateFormData.question_6=null,this.initiateFormData.question_6_1=null,this.initiateFormData.question_7=null,this.initiateFormData.projectFormFiveQ7_1List=[],this.initiateFormData.question_8=null,this.initiateFormData.question_8_1=null,this.initiateFormData.question_8_2=null,this.initiateFormData.question_9=null,this.initiateFormData.projectFormFiveQ9_1List=[],this.initiateFormData.question_10=null,this.initiateFormData.estimatedCostOfProject=null,this.initiateFormData.question_10_2=null,this.initiateFormData.question_10_3=null,this.initiateFormData.question_11=null,this.initiateFormData.question_12=null,this.initiateFormData.formFiveQ6_2Model=null,this.initiateFormData.projectFormFiveQ11_1List=[],this.initiateFormData.caFrmNo=null,this.initiateFormData.caFrmName=null,this.initiateFormData.caUdinNumber=null,this.initiateFormData.caDesignation=null,this.initiateFormData.projectFormFiveQ10_1List=[],this.initiateFormData.projectFormFiveQ11_1List=[],this.initiateFormData.formFiveDocModel=null,this.initiateFormData.formFiveOtherDocList=[],this.initiateFormData.cWithdrawSepAc=null,console.log(this.initiateFormData),this.promoterFormFiveService.assigned(this.initiateFormData).subscribe((function(e){t.verifyResponse=e,t.inputJson.next({popShow:!0,popMsg:"Form 5 has been rejected successfully.",popClass:"alert alert-danger",popRoute:"project-dashboard/project-view/initiate-form-five"}),console.log(t.verifyResponse)}),(function(e){console.log(e),t.inputJson.next({popShow:!0,popMsg:"Unable to reject form 5 submission.",popClass:"alert alert-danger",popRoute:""})}))}},{key:"prmoterAccept",value:function(){var t=this;this.initiateFormData.promoterStatus="ACCEPTED",console.log(this.initiateFormData),this.promoterFormFiveService.assigned(this.initiateFormData).subscribe((function(e){t.inputJson.next({popShow:!0,popMsg:"Form 5 has been Accepted successfully.",popClass:"alert alert-success",popRoute:"project-dashboard/project-view/initiate-form-five"}),console.log(t.verifyResponse)}),(function(e){console.log(e),t.inputJson.next({popShow:!0,popMsg:"CA not Initiate",popClass:"alert alert-danger",popRoute:""})}))}},{key:"getFormFiveLog",value:function(){this.promoterFormFiveService.getFormFiveLog(this.formFiveId).subscribe((function(t){console.log("history"),console.log(t.data)}),(function(t){console.log(t)}))}},{key:"searchcaByPAN",value:function(t){var e=this;console.log(t),this.promoterFormFiveService.searchByPanCard(t,"CA_USER").subscribe((function(t){if(console.log(t),"200"==t.status&&t&&"CA_USER"==t.data.type){console.log(t);var a={id:t.data.id,firstName:t.data.firstName,middleName:null!=t.data.middleName?t.data.middleName:"",lastName:t.data.lastName,emailId:t.data.emailId,mobileNo:t.data.mobileNo,caMemberShipNumber:t.data.profNO};e.disableAssignTabCA=!0,e.dataDisplayCA=[a],console.log(e.dataDisplayCA),e.assignCATable=!0,e.loadFromSearchCA=!0,e.errorSetCA=!1}else e.inputJson.next({popShow:!0,popMsg:"Please enter valid CA Membership Number.",popClass:"alert alert-danger",popRoute:""})}),(function(t){e.errorSetCA=!1,e.dataDisplayCA=[],e.inputJson.next({popShow:!0,popMsg:"Please enter valid CA PAN Number.",popClass:"alert alert-danger",popRoute:""})}))}},{key:"DeleteFromAssignedCA",value:function(){this.dataDisplayCA=[],this.disableAssignTabCA=!1,this.assignCATable=!1}},{key:"openToolTip",value:function(t,e){this.tooltipJson.next({pageX:t.pageX,pageY:t.pageY,code:e})}},{key:"openModal",value:function(){this.inq=!0}},{key:"cancelModal",value:function(){this.inq=!1,this.history=!1}},{key:"onReject",value:function(){var t=this,e=this.remarkGroup.value.remark.trim();if(""!=e&&null!=e){var a={enqId:this.initiateFormData.enquiryList[this.initiateFormData.enquiryList.length-1].enqId,userRemark:e};console.log(a),this.promoterFormFiveService.replyService(a).subscribe((function(e){console.log(e),t.inq=!1,t.route.navigate(["/project-dashboard/project-view/list-view"])}),(function(e){console.log(e),t.inputJson.next({popShow:!0,popMsg:"Please try again",popClass:"alert alert-danger",popRoute:""})}))}else this.inputJson.next({popShow:!0,popMsg:"Please enter remark",popClass:"alert alert-danger",popRoute:""})}},{key:"showModal",value:function(){this.history=!0,this.getHistory(this.initiateFormData.formFiveId)}},{key:"getHistory",value:function(t){var e=this;this.promoterFormFiveService.getHistory(t).subscribe((function(t){console.log(t),e.historyData=t.data}),(function(t){console.log(t),e.inputJson.next({popShow:!0,popMsg:"Please try again",popClass:"alert alert-danger",popRoute:""})}))}},{key:"getDefaulerData",value:function(){var t=this;this.promoterFormFiveService.getFormFiveDefaulterData(this.formFiveId).subscribe((function(e){t.defaulterFiveData=e.data,console.log("new service"),console.log(e)}),(function(t){console.log(t)}))}},{key:"fORM5AcceptAndReject",value:function(t){var e,a=this;console.log("this.initiateFormData",this.initiateFormData),e=this.initiateFormData.formFiveId;var r="";if("ACCEPTED"==t){var n=this._date.transform(new Date,"dd-MM-yyyy H:mm:ss");r="Form 5 has been Accepted successfully on "+n+"."}else r="Form 5 has been Rejected successfully.";this.promoterFormFiveService.statusUpdateData(t,e).subscribe((function(t){a.inputJson.next({popShow:!0,popMsg:r,popClass:"alert alert-success",popRoute:"project-dashboard/project-view/initiate-form-five"}),console.log(a.verifyResponse)}),(function(t){console.error("error",t),a.inputJson.next({popShow:!0,popMsg:"something went wrong.",popClass:"alert alert-danger",popRoute:""})}))}},{key:"showConfirmation",value:function(t){"REJECT"==t?(this.actionType="REJECT",this.confirmationEventB.next({flag:!0,messageV:"Are you sure want to reject this submitted Form-5?"})):"ASSIGN"==t&&(this.actionType="ASSIGN",this.confirmationEventB.next({flag:!0,messageV:"Form 5 has been rejected successfully.<br /> Do you want to re-assign previous CA to fill this Form-5 again?"}))}},{key:"confirmationEvent",value:function(t){"OK"==t?"REJECT"==this.actionType?this.rejectByPromoter():"ASSIGN"==this.actionType&&(console.log("assign login"),this.assignObjectFunction()):"CANCEL"==t&&"ASSIGN"==this.actionType&&this.route.navigate(["project-dashboard/project-view/initiate-form-five"])}},{key:"vcsPaymentNavigate",value:function(){this.route.navigate(["project-dashboard/vcs/payment"])}}]),t}();f.ctorParameters=function(){return[{type:h.b},{type:g.a},{type:l.a},{type:o.e},{type:i.e}]},f=r.b([Object(n.n)({selector:"app-form-five-view",template:r.c(a("QK1p")).default,styles:[r.c(a("bM3u")).default]})],f);var v=function(){function t(e,a,r,n,i){var o=this;_classCallCheck(this,t),this.fb=e,this.promoterFormFiveService=a,this.api=r,this.route=n,this._apiUrl=i,this.initiateFormData={status:""},this.verifyResponse={firstName:"",emailId:"",mobileNo:""},this.inputJson=new p.a({}),this.dataDisplayCA=[],this.tooltipJson=new p.a({}),this.inq=!1,this.history=!1,this.caNumberForVerify="",this.defaulterFiveData=[],this.sendInBehaviou=new p.a([]),this.showPaymentReceipt=!1,this.checkingBeforeSearch=function(){o.projectId=sessionStorage.getItem("projectId"),o.promoterFormFiveService.checkFormThree(o.caNumberForVerify,o.projectId).subscribe((function(t){if(console.log(t),"300"==t.status)o.verifyCa();else{o.temp=0;for(var e=0;e<t.data.length;e++){var a=t.data[e].createdOn.substr(0,10);console.log("date",a);var r=new Date(a);console.log(r);var n=o.initiateFormData.certFromDate.substr(6,4),i=new Date(n,3,1),s=o.initiateFormData.certToDate.substr(6,4),l=new Date(s,2,1);r>i&&r<l&&o.temp++}if(o.temp>0)return void o.inputJson.next({popShow:!0,popMsg:"This CA has submitted Form 3 in this FY hence Form 5 can not be assigned to the same CA.",popClass:"alert alert-danger",popRoute:""});o.searchcaByPAN(o.caNumberForVerify)}}),(function(t){console.log(t),o.inputJson.next({popShow:!0,popMsg:"Invalid CA",popClass:"alert alert-danger",popRoute:""})}))},this.amountChange=function(t){if(null!=t)return Number(t).toLocaleString("en-IN")},this.showDetails=function(t){console.log(t),o.showPaymentReceipt=!0,o.getPaymentDetails(t,0)},this.popupClose=function(){o.showPaymentReceipt=!1},this.getPaymentDetails=function(t,e){var a=new Array;o.promoterFormFiveService.getPaymentRefence(t).subscribe((function(t){console.log("aaaaaa"),null!=t.data&&(a[e]=t.data,o.sendInBehaviou.next(a))}),(function(t){console.log(t)}))}}return _createClass(t,[{key:"ngOnInit",value:function(){this.downloadReciept=this._apiUrl.paymentDownload+"downloadPatmentReciept/",this.formFiveId=sessionStorage.getItem("formFiveId"),this.userType=sessionStorage.getItem("userType"),this.getlistData(),this.getFormFiveLog(),this.getDefaulerData(),this.remarkGroup=this.fb.group({remark:["",h.h.required]}),this.formFiveCaVerify=new h.d({caYear:new h.c("",[h.h.required]),caStartDate:new h.c("",[h.h.required]),caEndDate:new h.c("",[h.h.required]),panNumber:new h.c("",[h.h.required])}),this.formFiveCaSend=new h.d({promoterRemarks:new h.c("",h.h.required),caName:new h.c("",[h.h.required]),caEmail:new h.c("",[h.h.required]),caMobile:new h.c("",[h.h.required]),caNumber:new h.c("",[h.h.required])})}},{key:"getlistData",value:function(){var t=this;this.promoterFormFiveService.formFive(this.formFiveId).subscribe((function(e){t.initiateFormData=e.data,console.log(t.initiateFormData)}),(function(t){console.log(t)}))}},{key:"onCASubmit",value:function(){var t=this;this.projectId=sessionStorage.getItem("projectId"),this.promoterFormFiveService.checkFormThree(this.caNumberForVerify,this.projectId).subscribe((function(e){if(console.log(e),"300"==e.status)t.verifyCa();else{t.temp=0;for(var a=0;a<e.data.length;a++){var r=e.data[a].createdOn.substr(0,10);console.log("date",r);var n=new Date(r);console.log(n);var i=t.initiateFormData.certFromDate.substr(6,4),o=new Date(i,3,1),s=t.initiateFormData.certToDate.substr(6,4),l=new Date(s,2,1);n>o&&n<l&&t.temp++}if(t.temp>0)return void t.inputJson.next({popShow:!0,popMsg:"This CA has submitted Form 3 in this FY hence Form 5 can not be assigned to the same CA",popClass:"alert alert-danger",popRoute:""});t.verifyCa()}}),(function(e){console.log(e),t.inputJson.next({popShow:!0,popMsg:"Invalid CA",popClass:"alert alert-danger",popRoute:""})}))}},{key:"verifyCa",value:function(){var t=this;this.promoterFormFiveService.verifyCaNumber(this.caNumberForVerify).subscribe((function(e){t.verifyResponse=e,t.searchcaByPAN(t.caNumberForVerify),console.log(t.verifyResponse)}),(function(e){console.log(e),t.inputJson.next({popShow:!0,popMsg:"Invalid CA",popClass:"alert alert-danger",popRoute:""})}))}},{key:"onFormSend",value:function(){var t=this;console.log(this.formFiveCaSend.value),this.initiateFormData.caNumber=this.formFiveCaSend.value.caNumber,this.initiateFormData.promoterRemarks=this.formFiveCaSend.value.promoterRemarks,this.initiateFormData.caName=this.formFiveCaSend.value.caName,this.initiateFormData.caMobileNo=this.formFiveCaSend.value.caMobile,this.initiateFormData.caEmailId=this.formFiveCaSend.value.caEmail,this.initiateFormData.status="ASSIGNED",console.log("befor "),console.log(this.initiateFormData),this.promoterFormFiveService.assignCANewService(this.initiateFormData).subscribe((function(e){t.verifyResponse=e,t.route.navigate(["/project-dashboard/project-view/list-view"]),console.log(t.verifyResponse)}),(function(e){console.error("CA initiation error",e),t.inputJson.next({popShow:!0,popMsg:"Something went wrong.",popClass:"alert alert-danger",popRoute:""})}))}},{key:"reasign",value:function(){var t=this;this.initiateFormData.status=null,this.initiateFormData.caNumber=null,this.initiateFormData.promoterRemarks=null,this.initiateFormData.caName=null,this.initiateFormData.caMobileNo=null,this.initiateFormData.caEmailId=null,this.initiateFormData.question_1=null,this.initiateFormData.question_1_1=null,this.initiateFormData.formFiveBankList=[],this.initiateFormData.question_3=null,this.initiateFormData.question_4=null,this.initiateFormData.formFiveQ4_1List=[],this.initiateFormData.question_5=null,this.initiateFormData.formFiveQ5_1List=[],this.initiateFormData.question_6=null,this.initiateFormData.question_6_1=null,this.initiateFormData.question_7=null,this.initiateFormData.projectFormFiveQ7_1List=[],this.initiateFormData.question_8=null,this.initiateFormData.question_8_1=null,this.initiateFormData.question_8_2=null,this.initiateFormData.question_9=null,this.initiateFormData.projectFormFiveQ9_1List=[],this.initiateFormData.question_10=null,this.initiateFormData.estimatedCostOfProject=null,this.initiateFormData.question_10_2=null,this.initiateFormData.question_10_3=null,this.initiateFormData.question_11=null,this.initiateFormData.question_12=null,this.initiateFormData.formFiveQ6_2Model=null,this.initiateFormData.projectFormFiveQ11_1List=[],this.initiateFormData.caFrmNo=null,this.initiateFormData.caFrmName=null,this.initiateFormData.caUdinNumber=null,this.initiateFormData.caDesignation=null,this.initiateFormData.projectFormFiveQ10_1List=[],this.initiateFormData.projectFormFiveQ11_1List=[],this.initiateFormData.formFiveDocModel=null,this.initiateFormData.formFiveOtherDocList=[],this.initiateFormData.cWithdrawSepAc=null,console.log(this.initiateFormData),this.promoterFormFiveService.assignCANewService(this.initiateFormData).subscribe((function(e){t.verifyResponse=e,t.getlistData(),console.log(t.verifyResponse)}),(function(e){console.log(e),t.inputJson.next({popShow:!0,popMsg:"CA not Initiate",popClass:"alert alert-danger",popRoute:""})}))}},{key:"prmoterAccept",value:function(){var t=this;this.initiateFormData.promoterStatus="ACCEPTED",console.log(this.initiateFormData),this.promoterFormFiveService.assigned(this.initiateFormData).subscribe((function(e){t.route.navigate(["/project-dashboard/project-view/list-view"]),console.log(t.verifyResponse)}),(function(e){console.log(e),t.inputJson.next({popShow:!0,popMsg:"CA not Initiate",popClass:"alert alert-danger",popRoute:""})}))}},{key:"getFormFiveLog",value:function(){this.promoterFormFiveService.getFormFiveLog(this.formFiveId).subscribe((function(t){console.log("history"),console.log(t.data)}),(function(t){console.log(t)}))}},{key:"searchcaByPAN",value:function(t){var e=this;console.log(t),this.promoterFormFiveService.searchByPanCard(t,"CA_USER").subscribe((function(t){if(console.log(t),"200"==t.status&&t&&"CA_USER"==t.data.type){console.log(t);var a={id:t.data.id,firstName:t.data.firstName,middleName:null!=t.data.middleName?t.data.middleName:"",lastName:t.data.lastName,emailId:t.data.emailId,mobileNo:t.data.mobileNo,caMemberShipNumber:t.data.profNO};e.disableAssignTabCA=!0,e.dataDisplayCA=[a],console.log(e.dataDisplayCA),e.assignCATable=!0,e.loadFromSearchCA=!0,e.errorSetCA=!1}else e.inputJson.next({popShow:!0,popMsg:"Please enter valid CA Membership Number.",popClass:"alert alert-danger",popRoute:""})}),(function(t){e.errorSetCA=!1,e.dataDisplayCA=[],e.inputJson.next({popShow:!0,popMsg:"Please enter valid CA PAN Number.",popClass:"alert alert-danger",popRoute:""})}))}},{key:"DeleteFromAssignedCA",value:function(){this.dataDisplayCA=[],this.disableAssignTabCA=!1,this.assignCATable=!1}},{key:"openToolTip",value:function(t,e){this.tooltipJson.next({pageX:t.pageX,pageY:t.pageY,code:e})}},{key:"openModal",value:function(){this.inq=!0}},{key:"cancelModal",value:function(){this.inq=!1,this.history=!1}},{key:"onReject",value:function(){var t=this,e=this.remarkGroup.value.remark.trim();if(""!=e&&null!=e){var a={enqId:this.initiateFormData.enquiryList[this.initiateFormData.enquiryList.length-1].enqId,userRemark:e};console.log(a),this.promoterFormFiveService.replyService(a).subscribe((function(e){console.log(e),t.inq=!1,t.route.navigate(["/project-dashboard/project-view/list-view"])}),(function(e){console.log(e),t.inputJson.next({popShow:!0,popMsg:"Please try again",popClass:"alert alert-danger",popRoute:""})}))}else this.inputJson.next({popShow:!0,popMsg:"Please enter remark",popClass:"alert alert-danger",popRoute:""})}},{key:"showModal",value:function(){this.history=!0,this.getHistory(this.initiateFormData.formFiveId)}},{key:"getHistory",value:function(t){var e=this;this.promoterFormFiveService.getHistory(t).subscribe((function(t){console.log(t),e.historyData=t.data}),(function(t){console.log(t),e.inputJson.next({popShow:!0,popMsg:"Please try again",popClass:"alert alert-danger",popRoute:""})}))}},{key:"getDefaulerData",value:function(){var t=this;this.promoterFormFiveService.getFormFiveDefaulterData(this.formFiveId).subscribe((function(e){t.defaulterFiveData=e.data,console.log("new service"),console.log(e)}),(function(t){console.log(t)}))}}]),t}();v.ctorParameters=function(){return[{type:h.b},{type:g.a},{type:l.a},{type:o.e},{type:l.a}]},v=r.b([Object(n.n)({selector:"app-initiate-form-five",template:r.c(a("IWC0")).default,styles:[r.c(a("8TBm")).default]})],v);var b=function(){function t(e,a,r){_classCallCheck(this,t),this.promoterFormFiveService=e,this.api=a,this._router=r,this.formFiveDetail={formFiveList:[]},this.inputJson=new p.a({}),this.form5ColorClass=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return("ACTIVE"==t&&"ACTIVE"==e||"ACTIVE"==t&&"ASSIGNED"==e||"ACTIVE"==t&&"INPROGRESS"==e||"ACTIVE"==t&&null==e)&&"ACTIVE"==a||("ACTIVE"==t&&"ESIGNED"==e||"SUBMITTED"==t&&"ESIGNED"==e)&&"ESIGNED"==a||"ACTIVE"==t&&"SUBMITTED"==e&&"SUBMITTED"==a||"INACTIVE"==t&&"INACTIVE"==a||"EXEMPT"==t&&"EXEMPT"==a||"DEFAULT"==t&&"DEFAULT"==a||"DEFAULT-ACTIVE"==t&&"DEFAULT-ACTIVE"==a||"ACTIVE"==t&&"VCS_INITIATED"==a}}return _createClass(t,[{key:"ngOnInit",value:function(){this.getListData()}},{key:"getListData",value:function(){var t=this;this.projectId=sessionStorage.getItem("projectId"),console.log(this.projectId),this.promoterFormFiveService.getProjectFormFiveDetailAdditional(this.projectId).subscribe((function(e){t.formFiveDetail=e.data,console.log(t.formFiveDetail),t.getDefaultStatus(t.formFiveDetail.projectId)}),(function(t){console.log(t)}))}},{key:"setData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(sessionStorage.setItem("formFiveId",t),console.log("current fy clicked",e),!["ACTIVE","ESIGNED","DEFAULT-ACTIVE","SUBMITTED"].includes(e))return!1;this._router.navigate(["project-dashboard/project-view/initiate-form-five"])}},{key:"getDefaultStatus",value:function(t){var e=this;t&&this.promoterFormFiveService.getStatusData(t).subscribe((function(t){e.defaultFormDetails=t[0]}),(function(t){e.defaultFormDetails=null}))}},{key:"goto",value:function(t){var e=this;t&&this.promoterFormFiveService.activateVcs24(t).subscribe((function(a){sessionStorage.setItem("formFiveId",t),e._router.navigate(["project-dashboard/project-view/initiate-form-five"])}),(function(t){e.inputJson.next({popShow:!0,popMsg:"Please Try Again",popClass:"alert alert-danger",popRoute:""})}))}}]),t}();b.ctorParameters=function(){return[{type:g.a},{type:l.a},{type:o.e}]},b=r.b([Object(n.n)({selector:"app-list-view-form-five",template:r.c(a("0n3D")).default,styles:[r.c(a("BD22")).default]})],b);var y=a("R/mc"),P=function(){function t(e,a,r){var n=this;_classCallCheck(this,t),this._router=e,this.promoterFormFiveService=a,this._securePayment=r,this.showVerification=!1,this.errorMsg=!1,this.successMsg=!1,this.chllanData={},this.counter=0,this.checkPayment=!0,this.openGatewayPop=new p.a({}),this.challanId_doubleVeri="",this.challanpaymentId_doubleVeri="",this.transactionalData=new p.a({}),this.loadingSpinner=!1,this.loader=!1,this.paymentFailed=!1,this.inputJson=new p.a({}),this.setObserVableValue=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";n.transactionalData.next({registrationType:e,processName:t,processId:n.challanId_doubleVeri,paymentId:n.challanpaymentId_doubleVeri,redirectUrl:a}),n.showVerification=!0}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.generateForm(),this.getFormFiveChallan(),this.promoterFormFiveService.vcsPaymentFaild.subscribe((function(e){console.log(e),t.loadingSpinner=!1,t.paymentFailed=e.show,t.paymentMsg=e.message}))}},{key:"generateForm",value:function(){this.paymentForm=new h.d({paymentTokenNo:new h.c(null,[h.h.required]),reqAmount:new h.c(null,[h.h.required]),reqPenaltyAmount:new h.c(0),reqTotalAmount:new h.c(null),processName:new h.c("VCS-24"),registraionType:new h.c("VCS-24"),processId:new h.c(null),redirectUrl:new h.c("/project-dashboard/vcs/payment-result"),userName:new h.c(null),mobileNo:new h.c(null),emailId:new h.c(null),paymentRemarks:new h.c(null),paymentGateway:new h.c(null),encData:new h.c(null),encData_SBI:new h.c(null),vcsId:new h.c(null),paymentId:new h.c(null)})}},{key:"checkValue",value:function(t){!0===t.target.checked?this.counter++:this.counter--,4!=this.counter||this.paymentForm.invalid?document.getElementById("paymentBtn").setAttribute("disabled","disabled"):document.getElementById("paymentBtn").removeAttribute("disabled")}},{key:"navigatePrev",value:function(){this._router.navigate(["/project-dashboard/project-view/list-view"])}},{key:"postPaymentDetails",value:function(){this.openGatewayPop.next({openPop:!0})}},{key:"getFormFiveChallan",value:function(){var t=this,e=sessionStorage.getItem("projectId"),a=sessionStorage.getItem("formFiveId");this.promoterFormFiveService.getFormFiveVcsChallan(e,a).subscribe((function(e){t.chllanData=e.data,t.chllanData.processName="VCS-24",t.chllanData.registraionType="VSC-24",sessionStorage.setItem("vcsChallanpaymentId",e.data.paymentId),sessionStorage.setItem("vcsId",e.data.processId),t.challanpaymentId_doubleVeri=e.data.paymentId,t.paymentForm.patchValue({vcsId:e.data.processId,paymentId:e.data.paymentId}),null==e.data.transactionNo?t.setObserVableValue("VCS-24","VCS-24","project-dashboard/project-view"):t.checkPayment=!1,console.log(e),setTimeout((function(){t.encDataForSecurePay()}),1e3)}),(function(e){t.checkPayment=!0,console.log(e)}))}},{key:"encDataForSecurePay",value:function(){var t=this;this.paymentForm.patchValue({processId:this.chllanData.processId,reqAmount:this.chllanData.amount,reqPenaltyAmount:this.chllanData.totalProjectAmount,reqTotalAmount:this.chllanData.totalProjectAmount,userName:this.chllanData.userName,mobileNo:this.chllanData.mobileNo,emailId:this.chllanData.emailId}),this.promoterFormFiveService.encPaymentDetailsService(this.paymentForm.value).subscribe((function(e){t.loadingSpinner=!1,t.encDataValue=e.data.encData,t.encDataValue_SBI=e.data.encData_SBI}))}},{key:"selectGatewayConfirm",value:function(t){var e=this;this.loadingSpinner=!0,this.paymentGatewayValue=t,this.paymentForm.patchValue({paymentGateway:this.paymentGatewayValue}),console.log(this.paymentForm.value),setTimeout((function(){e.savePaymentDetails()}),1e3)}},{key:"savePaymentDetails",value:function(){var t=this;this.promoterFormFiveService.vcsPostPayment(this.paymentForm.value).subscribe((function(e){t._securePayment.secureData.next(e),t._router.navigate(["secure-payment"])}),(function(e){t.inputJson.next({popShow:!0,popMsg:e.error.message,popClass:"alert alert-danger",popRoute:""}),console.log(e)}))}}]),t}();P.ctorParameters=function(){return[{type:o.e},{type:g.a},{type:y.a}]},P=r.b([Object(n.n)({selector:"app-vcs-payment-page",template:r.c(a("QTqu")).default,styles:[r.c(a("crBA")).default]})],P);var I=a("dkfh"),D=function(){function t(e,a,r,n,i){_classCallCheck(this,t),this._apiURL=e,this._payConfirm=a,this._router=r,this.promoterFormFiveService=n,this._date=i,this.inputJson=new p.a({})}return _createClass(t,[{key:"ngOnInit",value:function(){this.projectId=parseInt(sessionStorage.getItem("projectId")),this.vcsPaymentId=parseInt(sessionStorage.getItem("vcsChallanpaymentId")),this.vcsId=parseInt(sessionStorage.getItem("vcsId")),this.postPaymentResult()}},{key:"postPaymentResult",value:function(){var t=this;this._payConfirm.setData.subscribe((function(e){var a={amount:e.reqAmount,paymentMode:e.payMode,status:e.status,tokenNo:e.paymentTokenNo,penaltyAmount:e.reqPenaltyAmount,remarks:"",sbiReferanceNo:e.sbiReferenceNo,totalAmount:e.reqTotalAmount,transactionNo:e.resTransactionNo,paymentId:t.vcsPaymentId,vcsId:t.vcsId};t.downloadReciept=t._apiURL.formFiveApi+"/vcs/payment/generateVCSPaymentPDF/"+t.vcsId,t.promoterFormFiveService.vcsPostPaymentDetailResultService(a).subscribe((function(e){200==e.status&&(sessionStorage.setItem("printAckVcs24",e.data.aknowledgementNo),t.updateFormFiveAcceptStatus()),"SUCCESS"==e.data.paymentStatus||"BOOKED"==e.data.paymentStatus?t.allData={message:e.message,class:"alert alert-success"}:"PENDING"==e.data.paymentStatus?t.allData={message:e.message,class:"alert alert-warning"}:(t.promoterFormFiveService.vcsPaymentFaild.next({show:!0,message:e.message}),t._router.navigate(["project-dashboard/vcs/payment"]))}),(function(a){t.promoterFormFiveService.vcsPaymentFaild.next({show:!0,message:e.message}),t._router.navigate(["project-dashboard/vcs/payment"])}))}))}},{key:"printNavigation",value:function(){this._router.navigate(["printbcr/print-bcr"])}},{key:"updateFormFiveAcceptStatus",value:function(){var t=this,e=sessionStorage.getItem("formFiveId"),a=this._date.transform(new Date,"dd-MM-yyyy H:mm:ss");this.promoterFormFiveService.statusUpdateData("ACCEPTED",e).subscribe((function(e){t.inputJson.next({popShow:!0,popMsg:"Form 5 has been Accepted successfully on "+a+".",popClass:"alert alert-success",popRoute:""})}),(function(e){console.error("error",e),t.inputJson.next({popShow:!0,popMsg:"something went wrong.",popClass:"alert alert-danger",popRoute:""})}))}},{key:"goToListView",value:function(){this._router.navigate(["/project-dashboard/project-view/list-view"])}},{key:"pdfDownload",value:function(){window.open(this._apiURL.vcs24paymentDownload+"pdf/generateVCSPaymentPDF/"+this.vcsId)}}]),t}();D.ctorParameters=function(){return[{type:l.a},{type:I.a},{type:o.e},{type:g.a},{type:i.e}]},D=r.b([Object(n.n)({selector:"app-vcs-payment-result",template:r.c(a("AkS2")).default,styles:[r.c(a("Z4li")).default]})],D);var S=a("yfuv"),C=[{path:"project-view/initiate-form-five",component:v,canActivate:[S.a]},{path:"project-view/list-view",component:b,canActivate:[S.a]},{path:"project-view",component:m},{path:"project-view/form5/view",component:f,canActivate:[S.a]},{path:"vcs/payment",component:P,canActivate:[S.a]},{path:"vcs/payment-result",component:D,canActivate:[S.a]}],A=function t(){_classCallCheck(this,t)};A=r.b([Object(n.J)({imports:[o.f.forChild(C)],exports:[o.f]})],A);var R=a("UPf0"),F=a("kdZ/"),E=a("xkgV"),_=a("5c4+"),k=a("T9Jj"),T=a("4nBV"),j=a("NSbh"),w=a("6Lj3"),N=a("JUyF"),x=a("dTlI"),O=a("mE01"),L=a("ybvR"),M=a("C75N"),q=a("KAPe"),B=a("PjcS"),V=a("SBiz"),U=a("L7/k"),G=function(){function t(e,a){_classCallCheck(this,t),this._http=e,this._apiURL=a}return _createClass(t,[{key:"getProfileDetails",value:function(){return this._http.securepost(this._apiURL.registrationAPI+"secure/profile",null)}},{key:"getTopic",value:function(t){return this._http.secureget(this._apiURL.citizenApi+"secure/project-id"+t)}},{key:"submitTopic",value:function(t){return this._http.securepost(this._apiURL.citizenApi+"secure/allottee/save",t)}},{key:"getAllLikeService",value:function(t){return this._http.secureget(this._apiURL.citizenApi+"secure/likes/all-likes"+t)}},{key:"submitLikeService",value:function(t){return this._http.securepost(this._apiURL.citizenApi+"secure/likes/save",t)}},{key:"getAllReplyService",value:function(t){return this._http.secureget(this._apiURL.citizenApi+"secure/reply/all-reply"+t)}},{key:"submitReplyService",value:function(t){return this._http.securepost(this._apiURL.citizenApi+"secure/reply/save",t)}}]),t}();G.ctorParameters=function(){return[{type:s.a},{type:l.a}]},G=r.b([Object(n.B)({providedIn:"root"})],G);var J=a("HDdC"),Y=function(){function t(e,a){_classCallCheck(this,t),this.fb=e,this.formService=a,this.project_id=new J.a,this.getAllotieTopic={allotteeTopicList:[]},this.likeObject={topicId:"",likedByEmailId:"",likedByName:"",likedByType:"",likedByMobileNo:""},this.topicIniate={topicName:"",createrEmailId:"",createrName:"",createrType:" ",projectId:"",projectForumId:""},this.replyText=!1,this.replyObject={topicId:"",replierEmail:"",replierName:"",replierType:"",replyedText:""},this.citizenImage=""}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.project_id.subscribe((function(e){e&&(t.projectBasicDetail=e.project_id_value,t.getTopic(t.projectBasicDetail))})),this.newTopicGroup=this.fb.group({newTopic:[""]}),this.replyGroup=this.fb.group({replyTopic:[""]})}},{key:"getTopic",value:function(t){var e=this;this.formService.getTopic(t).subscribe((function(t){console.log(t.data),e.getAllotieTopic=t.data}),(function(t){console.log(t)}))}},{key:"submitTopic",value:function(){var t=this;console.log(this.newTopicGroup.value),this.formService.getProfileDetails().subscribe((function(e){console.log(e),t.topicIniate.topicName=t.newTopicGroup.value.newTopic,t.topicIniate.createrEmailId=e.emailId,t.topicIniate.createrName=e.name,t.topicIniate.createrType=sessionStorage.getItem("userType"),t.topicIniate.projectId=t.projectBasicDetail,t.topicIniate.projectForumId=t.getAllotieTopic.projectForumId,console.log(t.topicIniate),t.formService.submitTopic(t.topicIniate).subscribe((function(e){console.log(e.data),t.newTopicGroup.reset(),t.getTopic(t.projectBasicDetail)}),(function(t){console.log(t)}))}),(function(t){console.log(t)}))}},{key:"onLike",value:function(t){var e=this;this.formService.getProfileDetails().subscribe((function(a){console.log(a),e.likeObject.likedByEmailId=a.emailId,e.likeObject.likedById=a.id,e.likeObject.likedByType=sessionStorage.getItem("userType"),e.likeObject.likedByName=a.name,e.likeObject.likedByMobileNo=a.phoneNumber,e.likeObject.topicId=t,e.formService.submitLikeService(e.likeObject).subscribe((function(t){console.log(t.data),e.getTopic(e.projectBasicDetail)}),(function(t){console.log(t)}))}),(function(t){console.log(t)}))}},{key:"onReplyModal",value:function(t){this.replyText=!0,this.replyBoxId=t}},{key:"replySubmit",value:function(t){var e=this;console.log(this.replyGroup.value),console.log(t),this.formService.getProfileDetails().subscribe((function(a){console.log(a),e.replyObject.replierEmail=a.emailId,e.replyObject.replierType=sessionStorage.getItem("userType"),e.replyObject.replierName=a.name,e.replyObject.topicId=t,e.replyObject.replyedText=e.replyGroup.value.replyTopic,console.log(e.replyObject),e.formService.submitReplyService(e.replyObject).subscribe((function(t){console.log(t.data),e.getTopic(e.projectBasicDetail),e.replyGroup.reset()}),(function(t){console.log(t)}))}),(function(t){console.log(t)}))}}]),t}();Y.ctorParameters=function(){return[{type:h.b},{type:G}]},r.b([Object(n.E)()],Y.prototype,"project_id",void 0),Y=r.b([Object(n.n)({selector:"app-forum",template:r.c(a("pXoz")).default,styles:[r.c(a("dF3W")).default]})],Y);var W=function(){function t(e,a){_classCallCheck(this,t),this._http=e,this._apiURL=a}return _createClass(t,[{key:"getData",value:function(t){return this._http.secureget(this._apiURL.reraCompRegistrationAPI+"agent_reg/secure/agent/work/get-agent-work-status-by-prjid/"+t)}},{key:"vefifyDetails",value:function(t,e){return this._http.secureput(this._apiURL.reraCompRegistrationAPI+"agent_reg/secure/agent/work/update-prm-status/"+t+"/"+e,null)}}]),t}();W.ctorParameters=function(){return[{type:s.a},{type:l.a}]},W=r.b([Object(n.B)({providedIn:"root"})],W);var Q=function(){function t(e,a){_classCallCheck(this,t),this._apiURL=e,this._httpServ=a,this.yearlyDetailsList=[],this.loader=!1,this.errorMsg=!1,this.successMsg=!1,this.popMsg=!1,this.inputJson=new p.a({}),this.allListData=1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.project_id.subscribe((function(e){t.projectId=e.project_id_value})),this.getData(this.projectId)}},{key:"getData",value:function(t){var e=this;this.yearlyDetailsList=[],this._httpServ.getData(t).subscribe((function(t){e.yearlyDetailsList=t.data,console.log("yearly data"),console.log(e.yearlyDetailsList)}))}},{key:"vefifyDetails",value:function(t,e){var a=this;this._httpServ.vefifyDetails(t,e).subscribe((function(t){console.log(t),a.getData(a.projectId),a.inputJson.next({popShow:!0,popMsg:"Details Verified!",popClass:"alert alert-success",popRoute:""})}),(function(t){console.log(t),a.loader=!1,a.successMsg=!1,a.errorMsg=!0,a.inputJson.next({popShow:!0,popMsg:t.error.message,popClass:"alert alert-danger",popRoute:""})}))}}]),t}();Q.ctorParameters=function(){return[{type:l.a},{type:W}]},r.b([Object(n.E)()],Q.prototype,"project_id",void 0),Q=r.b([Object(n.n)({selector:"app-agent-yearly-details",template:r.c(a("f/PK")).default,styles:[r.c(a("sTOc")).default]})],Q);var H=a("Sh7B"),z=function(){function t(e,a){_classCallCheck(this,t),this._apiURL=e,this._http=a}return _createClass(t,[{key:"getTotalListOfPaymentFromProject",value:function(t){return this._http.secureget(this._apiURL.projectRegAPI+"project-app/alldatabyprojectid/"+t)}},{key:"getPaymentRefence",value:function(t){return this._http.secureget(this._apiURL.payment+"secure/getPaymentByTrxNo/"+t)}},{key:"getSec15PaymentData",value:function(t){return this._http.secureget(this._apiURL.projectAltFtnAPI+"secure/get-payment-dtl-byprojectid/"+t)}},{key:"getProjectPaymentData",value:function(t){return this._http.secureget(this._apiURL.projectRegAPI+"secure/project-payment?project_id="+t)}}]),t}();z.ctorParameters=function(){return[{type:l.a},{type:s.a}]},z=r.b([Object(n.B)({providedIn:"root"})],z);var X=a("EUZL"),K=function(){function t(e,a){_classCallCheck(this,t),this._http=e,this._apiUrl=a,this.loadingSpinner=!1,this.listingResponse=new Array,this.summarizedPaymentList=new Array,this.paymentlistingResponse=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=sessionStorage.getItem("projectId");this.downloadReciept=this._apiUrl.paymentDownload+"downloadPatmentReciept/",this.getPaymentList(t),this.paymentHistoryList(t)}},{key:"getSec15PaymentData",value:function(t,e){var a=this;this._http.getSec15PaymentData(t).subscribe((function(t){if(console.log(t),"200"==t.status&&t.data){var r=e;t.data.forEach((function(t){null!=t.transactionNo&&""!=t.transactionNo&&"SUCCESS"==t.status&&a.paymentRefrence(t.transactionNo,r),r++}))}}),(function(t){console.log(t)}))}},{key:"getPaymentList",value:function(t){var e=this;this.loadingSpinner=!0,this._http.getTotalListOfPaymentFromProject(t).subscribe((function(a){if(e.loadingSpinner=!1,"200"==a.status){var r=a.data.paymentDetailsModel,n=0;null!=r&&r.paymentDetailsList.forEach((function(t){null!=t.transactionNo&&""!=t.transactionNo?e.paymentRefrence(t.transactionNo,n):e.listingResponse[n]={registraionType:t.feeType,paymentTokenNo:t.tokenNo,transactionNo:t.transactionNo,processName:t.feeType,reqAmount:t.amount,reqPenaltyAmount:t.penaltyAmount,reqTotalAmount:t.totalProjectAmount,createdOn:"",status:t.status},n++})),e.length=n,e.getSec15PaymentData(t,e.length)}}),(function(t){console.log(t),e.loadingSpinner=!1}))}},{key:"paymentRefrence",value:function(t,e){var a=this;this._http.getPaymentRefence(t).subscribe((function(t){t?null!=t.data&&(a.listingResponse[e]=t.data):a.listingResponse[e]=[]}),(function(t){console.log(t)}))}},{key:"exportToExcel",value:function(){var t=X.utils.table_to_sheet(this.listing.nativeElement),e=X.utils.book_new();X.utils.book_append_sheet(e,t,"Sheet1"),X.writeFile(e,"Payment_List.xlsx")}},{key:"transformAmount",value:function(t){if(t)return Number(t).toLocaleString("en-IN")}},{key:"paymentHistoryList",value:function(t){var e=this;this._http.getProjectPaymentData(t).subscribe((function(t){e.paymentlistingResponse=t.data,console.log(t)}),(function(t){e.paymentlistingResponse=[]}))}}]),t}();K.ctorParameters=function(){return[{type:z},{type:l.a}]},r.b([Object(n.kb)("listing",{static:!1})],K.prototype,"listing",void 0),K=r.b([Object(n.n)({selector:"app-payment-aggregate",template:r.c(a("NnOs")).default,styles:[r.c(a("fuFu")).default]})],K);var $=a("Y/lY"),Z=a("zUfl"),tt=a("/qIY"),et=a("5Hd9"),at=a("KD8B");a.d(e,"ProjectDashboardModule",(function(){return rt}));var rt=function t(){_classCallCheck(this,t)};rt=r.b([Object(n.J)({declarations:[v,b,m,f,Y,Q,K,P,D],imports:[i.b,A,R.a,F.a,E.a,h.g,h.e,_.a,k.a,T.a,j.a,w.a,N.a,x.a,O.b,L.a,M.a,q.a,B.a,V.a,U.a,H.a,$.a,Z.AuthorityFormFivePreviewModule,tt.a,et.a,at.a],exports:[Q]})],rt)},"8TBm":function(t,e,a){"use strict";a.r(e),e.default=""},AkS2:function(t,e,a){"use strict";a.r(e),e.default='<div class="{{allData.class}}">\r\n    {{allData.message}}\r\n</div>\r\n\r\n<div class="text-right">\r\n    <a href="javascript:void(0)" class="btn btn-small btn-success mr-4" (click)="goToListView()"><u>FormFive\r\n            Dashboard</u></a>\r\n    <a href="javascript:void(0)" (click)="pdfDownload()" class="btn btn-small btn-success mr-4" download><u>Print\r\n            Reciept</u></a>\r\n</div>\r\n<app-validation-message [message]="inputJson"></app-validation-message>'},BD22:function(t,e,a){"use strict";a.r(e),e.default=".active {\n  background-color: #32a761;\n}\n\n.submitted {\n  background-color: #404dad;\n}\n\n.inactive {\n  background-color: #828282;\n}\n\n.exempt {\n  background-color: #ec7b0d;\n}\n\n.defaulter {\n  background-color: #e31e25;\n}\n\n.defaultactive {\n  background-color: #04bdc5;\n}\n\n.essigned {\n  background-color: #b32194;\n}\n\n.active, .submitted, .inactive, .exempt, .defaultactive, .defaulter, .essigned, .vcsActive {\n  color: white;\n  padding: 5px 30px 5px 30px;\n  height: 68px;\n}\n\n.vcsActive {\n  background-color: #83d583;\n}"},IWC0:function(t,e,a){"use strict";a.r(e),e.default='<app-tooltip [tooltipEvent]="tooltipJson"></app-tooltip>\r\n\r\n\r\n<div id="labels" class="card shadow mb-4">\r\n\r\n  <div class="card-header"><b>Initiate Form 5 Audit Request</b></div>\r\n  <div class="card-body asd">\r\n    <div class="row">\r\n      <div class="col-md-12">\r\n\r\n        <form [formGroup]="formFiveCaVerify" id="validateFoem" (ngSubmit)="onCASubmit()">\r\n          <div class="row">\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label">Financial Year<sup>*</sup></label>\r\n              <input type="text" name="financeyear" readonly class="form-control" placeholder=""\r\n                [(ngModel)]="initiateFormData.financialYear" formControlName="caYear">\r\n            </div>\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label">From Date<sup>*</sup></label>\r\n              <input type="text" name="castartdate" class="form-control" placeholder="" readonly\r\n                [(ngModel)]="initiateFormData.certFromDate" formControlName="caStartDate">\r\n            </div>\r\n            <div class="form-group col-md-4">\r\n              <label class="control-label">To Date<sup>*</sup></label>\r\n              <input type="text" name="caenddate" class="form-control" readonly placeholder=""\r\n                [(ngModel)]="initiateFormData.certToDate" formControlName="caEndDate">\r\n            </div>\r\n\r\n\r\n            <div class="alert alert-danger" *ngIf="errorSetCA">\r\n              <strong>Error!</strong> No any CA found on this number.\r\n            </div>\r\n            <div\r\n              *ngIf="initiateFormData.status != \'ASSIGNED\' && initiateFormData.status != \'INPROGRESS\' &&  initiateFormData.status != \'SUBMITTED\' &&  initiateFormData.status != \'ESIGNED\'">\r\n\r\n              <div *ngIf="!disableAssignTabCA">\r\n                <div class="form-group col-md-9"\r\n                  *ngIf="(initiateFormData.financialYearStatus !==\'DEFAULT\' || initiateFormData.vcsStatus == \'VCS_INITIATED\') && initiateFormData.financialYearStatus !==\'EXEMPT\' && initiateFormData.financialYearStatus !==\'DEFAULT-ACTIVE\'">\r\n                  <label class="control-label">Search CA<sup>*</sup><span class="tooltip-open"\r\n                      (click)="openToolTip($event,\'ASSIGN_PROF_F3_SRCH\')">?</span></label>\r\n                  <input type="text" class="form-control" #caVal placeholder="CA Memebership No."\r\n                    formControlName="panNumber" [(ngModel)]="caNumberForVerify"\r\n                    onKeyPress="if(this.value.length==6) return false;">\r\n\r\n                </div>\r\n                <div class=" col-md-3">\r\n                  <div class="form-group mt-5">\r\n\r\n                    <button type="button" class="btn btn-small btn-primary mt-4"\r\n                      *ngIf="(initiateFormData.financialYearStatus !==\'DEFAULT\'  || initiateFormData.vcsStatus == \'VCS_INITIATED\') && initiateFormData.financialYearStatus !==\'EXEMPT\' && initiateFormData.financialYearStatus !==\'DEFAULT-ACTIVE\'"\r\n                      (click)="checkingBeforeSearch()">Search</button>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n\r\n\r\n            </div>\r\n          </div>\r\n        \r\n\r\n        </form>\r\n\r\n        <div class="card-header mt-2" *ngIf="dataDisplayCA.length>0"><b>CA Details</b></div>\r\n        <div class="card-body asd "\r\n          *ngIf="initiateFormData.status != \'ASSIGNED\' && initiateFormData.status != \'INPROGRESS\'">\r\n          <form [formGroup]="formFiveCaSend" id="validateFoem" (ngSubmit)="onFormSend()">\r\n            <div class="row" *ngFor="let caDetail of dataDisplayCA">\r\n              <div class="form-group col-md-4">\r\n                <label class="control-label">CA Membership Number<sup>*</sup></label>\r\n                <input type="text" class="form-control" name="caName" placeholder="" readonly\r\n                  [(ngModel)]="caDetail.caMemberShipNumber" formControlName="caNumber">\r\n              </div>\r\n              <div class="form-group col-md-4">\r\n                <label class="control-label">CA Name<sup>*</sup></label>\r\n                <input type="text" class="form-control" name="caName" placeholder="" readonly\r\n                  [(ngModel)]="caDetail.firstName" formControlName="caName">\r\n              </div>\r\n              <div class="form-group col-md-4">\r\n                <label class="control-label">Email ID<sup>*</sup></label>\r\n                <input type="text" class="form-control" name="caemail" placeholder="" readonly\r\n                  [(ngModel)]="caDetail.emailId" formControlName="caEmail">\r\n              </div>\r\n              <div class="form-group col-md-4">\r\n                <label class="control-label">CA Mobile No<sup>*</sup></label>\r\n                <input type="text" class="form-control" name="camobile" readonly placeholder=""\r\n                  [(ngModel)]="caDetail.mobileNo" formControlName="caMobile">\r\n              </div>\r\n              <div class="form-group col-md-4">\r\n                <label class="control-label">Remarks<sup>*</sup> <span class="tooltip-open"\r\n                    (click)="openToolTip($event,\'REMARK_CA_FORM_FIVE\')">?</span></label>\r\n                <textarea class="form-control" name="caRemarks" name="promoterRemarks" formControlName="promoterRemarks"\r\n                  placeholder=""></textarea>\r\n              </div>\r\n\r\n\r\n            </div>\r\n\r\n            <div class="text-center">\r\n              <button type="submit" class="btn btn-primary" *ngIf="dataDisplayCA.length>0"\r\n                [disabled]="formFiveCaSend.invalid"> Submit</button>\r\n\r\n              <button type="button" class="btn btn-primary" *ngIf="dataDisplayCA.length>0"\r\n                (click)="DeleteFromAssignedCA()"> Remove</button>\r\n\r\n            </div>\r\n\r\n\r\n          </form>\r\n        </div>\r\n\r\n        <div class=""\r\n          *ngIf="initiateFormData.status == \'ASSIGNED\' || initiateFormData.status == \'INPROGRESS\' || initiateFormData.status == \'SUBMITTED\'  || initiateFormData.status == \'ESIGNED\'">\r\n          <form>\r\n            <div class="row">\r\n              <div class="form-group col-md-4">\r\n                <label class="control-label">CA Membership Number <sup>*</sup></label>\r\n                <input type="text" class="form-control" name="caName1" placeholder="" readonly\r\n                  [value]="initiateFormData.caNumber">\r\n              </div>\r\n              <div class="form-group col-md-4">\r\n                <label class="control-label">CA Name<sup>*</sup></label>\r\n                <input type="text" class="form-control" name="caName1" placeholder="" readonly\r\n                  [value]="initiateFormData.caName">\r\n              </div>\r\n              <div class="form-group col-md-4">\r\n                <label class="control-label">Email ID<sup>*</sup></label>\r\n                <input type="text" class="form-control" name="caemail1" placeholder="" readonly\r\n                  [value]="initiateFormData.caEmailId">\r\n              </div>\r\n              <div class="form-group col-md-4">\r\n                <label class="control-label">CA Mobile No<sup>*</sup></label>\r\n                <input type="text" class="form-control" name="camobile1" readonly placeholder=""\r\n                  [value]="initiateFormData.caMobileNo">\r\n              </div>\r\n              <div class="form-group col-md-4">\r\n                <label class="control-label">Remarks<sup>*</sup></label>\r\n                <textarea class="form-control" name="caRemarks1" readonly [(ngModel)]="initiateFormData.promoterRemarks"\r\n                  placeholder=""></textarea>\r\n              </div>\r\n\r\n\r\n            </div>\r\n\r\n            <div class="text-center" *ngIf="((initiateFormData.status == \'ASSIGNED\' || initiateFormData.status == \'INPROGRESS\'))">\r\n              <button (click)="reasign()" class="btn btn-primary">Re-assign</button>\r\n            </div>\r\n\r\n          </form>\r\n        </div>\r\n\r\n\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div *ngIf="(initiateFormData.status == \'ESIGNED\')">\r\n  \x3c!-- <app-form-five-preview></app-form-five-preview> --\x3e\r\n\r\n\r\n\r\n   <b> View Submitted Form </b> <button  class="btn bg-primary mr-2 btn-small text-white ml-4"  type="button" routerLink=\'../form5/view\'>View</button>\r\n  </div>\r\n\r\n\r\n\x3c!-- <div *ngIf="initiateFormData.status == \'SUBMITTED\'">\r\n    <div class="row">\r\n      <div class="col-md-12">\r\n        <div class="text-center">\r\n          <button  type="button"  class="btn btn-danger"  (click)="reasign()" *ngIf="initiateFormData.promoterStatus != \'ACCEPTED\'" > Reject</button>\r\n          <button  type="button" [disabled]="initiateFormData.promoterStatus == \'ACCEPTED\'"  class="btn btn-success ml-3"  (click)="prmoterAccept()" > Accept</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</div> --\x3e\r\n\r\n\r\n\r\n\x3c!--- modalPopupShowClauseHistory---\x3e\r\n\r\n<div class="modal show" *ngIf="history">\r\n  <div class="modal-dialog modal-lg modal-dialog-centered">\r\n    <div class="modal-content">\r\n\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n        <h3 class="modal-title"><b>Show History</b></h3>\r\n        <button type="button" class="close" (click)="cancelModal()">&times;</button>\r\n      </div>\r\n      \x3c!-- Modal body --\x3e\r\n      <div class="modal-body">\r\n        <table class="table table-bordered text-center">\r\n\r\n          <thead>\r\n            <tr class="bg-gray text-dark">\r\n              <th class="w-20">Authority Status</th>\r\n              <th class="w-20">Authority Remark</th>\r\n              <th class="w-20">Promoter Remark</th>\r\n\r\n\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr *ngFor="let data of  historyData">\r\n              <td>{{data.authStatus}}</td>\r\n              <td>{{data.authRemark}}</td>\r\n              <td>{{data.userRemark}}</td>\r\n            </tr>\r\n\r\n\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      \x3c!-- Modal footer --\x3e\r\n\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\x3c!--- modalPopupShowClauseHistory---\x3e\r\n\r\n\r\n\x3c!--- modalPopupshowPromoterDetail---\x3e\r\n<div class="modal show" *ngIf="inq">\r\n  <div class="modal-dialog modal-xl modal-dialog-centered">\r\n    <div class="modal-content">\r\n\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n        <h4 class="modal-title"><b>Add Reply for Enquiry</b> </h4>\r\n        \x3c!-- <button type="button" class="close" data-dismiss="modal">&times;</button> --\x3e\r\n      </div>\r\n\r\n      \x3c!-- Modal body --\x3e\r\n      <form [formGroup]="remarkGroup" id="validateFoem">\r\n        <div class="modal-body ">\r\n\r\n\r\n\r\n\r\n          <div class="col-md-12">\r\n            \x3c!-- <img alt="#" src="assets/images/top_bar.png" class="w-75"> --\x3e\r\n            <textarea rows="5" cols="1" class="form-control" placeholder="Please Enter Remarks" name="remark"\r\n              formControlName="remark"></textarea>\r\n            <div class="error-box"><small class="error">Please enter remarks</small>\r\n            </div>\r\n          </div>\r\n          <div class="col-md-12 text-center mt-3 mb-2"><button class="btn btn-small bg-success text-white"\r\n              [disabled]="remarkGroup.invalid" (click)="onReject()">Submit</button> <button\r\n              class="btn btn-small bg-danger text-white " id="cancel" (click)="cancelModal()">Cancel</button> </div>\r\n\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\x3c!--- modalPopupshowPromoterDetail---\x3e\r\n\r\n\r\n<div class="card-body">\r\n  <div class="card-header"><b>Form 5 Default List</b></div>\r\n  <div class="row">\r\n    <div class=" col-md-12 table-responsive mb-4">\r\n      <table class="table table-bordered">\r\n        <thead>\r\n          <tr class="text-center bg-light  text-size-small">\r\n\r\n            <td>Sr.No.</td>\r\n            <td>Defaulter Id</td>\r\n            <td>Authority Remark</td>\r\n            <td>Extended Date</td>\r\n            <td>Additional Amount</td>\r\n            <td>Date of Opening</td>\r\n            <td>Status</td>\r\n            <td>Payment</td>\r\n            <td>Transaction No</td>\r\n\r\n\r\n          </tr>\r\n        </thead>\r\n        <ng-container *ngIf="defaulterFiveData.length > 0;else defaulterFiveData_na">\r\n          <tbody>\r\n            <tr class="text-center" *ngFor=" let defaultData of defaulterFiveData; let i=  index">\r\n\r\n              <td>\r\n\r\n                {{i+1}}\r\n              </td>\r\n              <td>{{defaultData.defaulterId}}</td>\r\n              <td>{{defaultData.authRemark}}</td>\r\n              <td class="text-nowrap">{{defaultData.extendedDate | date:\'dd-MM-yyyy\' }}</td>\r\n              <td>{{amountChange(defaultData.penaltyAmount)}}</td>\r\n              <td class="text-nowrap">{{defaultData.dateOfOpening| date : \'dd-MM-yyyy\'}}</td>\r\n              <td>{{defaultData.status}}</td>\r\n              <td>\r\n                \r\n                <span *ngIf="(defaultData.paymentStatus != \'SUCCESS\' && defaultData.penaltyAmount != 0 && initiateFormData.status != \'ESIGNED\' && defaultData.status != \'DISCARDED\'); else _DonePayment">\r\n                  <button class="btn btn-primary" type="button" [routerLink]="\'/form-five/challan/payment\'">Pay Now</button>\r\n                </span>\r\n                \r\n                <ng-template #_DonePayment>\r\n                  <ng-container  *ngIf="defaultData.penaltyAmount != 0; else _withoutPayment">\r\n                  Done</ng-container>\r\n                </ng-template>\r\n\r\n                <ng-template #_withoutPayment> \r\n                  Without Processing Fee\r\n                </ng-template>\r\n\r\n              </td>\r\n\r\n\r\n              <td>\r\n                <span *ngIf="defaultData.paymentStatus == \'SUCCESS\'; else _notDonePaymentLink">\r\n                  <u>\r\n                    <a href="javascript:void(0)" class="link-text"\r\n                      (click)="showDetails(defaultData.trxNo)">{{defaultData.trxNo}}</a>\r\n                  </u>\r\n                  &nbsp;&nbsp;\r\n                  <u>\r\n                    <a href="{{downloadReciept}}{{defaultData.trxNo}}" title="Download Payment Receipt"><i\r\n                        class="icon icon-download red"></i>\r\n                    </a>\r\n                  </u>\r\n                </span>\r\n                <ng-template #_notDonePaymentLink>\r\n                  --\r\n                </ng-template>\r\n              </td>\r\n\r\n\r\n            </tr>\r\n          </tbody>\r\n        </ng-container>\r\n        <ng-template #defaulterFiveData_na>\r\n          <tbody>\r\n            <tr class="text-center">\r\n              <td colspan="9">Data Not Available</td>\r\n            </tr>\r\n          </tbody>\r\n        </ng-template>\r\n      </table>\r\n\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n\r\n<app-tooltip [tooltipEvent]="tooltipJson"></app-tooltip>\r\n\r\n\r\n\r\n\r\n\r\n<div class="modal show" id="myModal" *ngIf="showPaymentReceipt">\r\n  <div class="modal-dialog modal-lg">\r\n    <div class="modal-content">\r\n\r\n\r\n      <div class="modal-header">\r\n        <h4 class="modal-title">Payment</h4>\r\n        <button type="button" class="close" (click)="popupClose()">&times;</button>\r\n      </div>\r\n\r\n\r\n\r\n\r\n      <div class="modal-body">\r\n\r\n        <div class="row mt-4">\r\n          <div class="col-md-12">\r\n            <app-payment-view [paymentDataArray]="sendInBehaviou"></app-payment-view>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n'},NnOs:function(t,e,a){"use strict";a.r(e),e.default='\x3c!-- <h2>{{requestListCategoryLabel}}- ({{listingResponse?.length}})</h2> --\x3e\r\n<div class="row">\r\n  <div class=" col-md-12 table-responsive">\r\n    <div #listing class="text-right">\r\n      <button (click)="exportToExcel()" class="mb-2 btn btn-success">Export To Excel</button>\r\n      <table class="table table-bordered text-left misDashTable text-left">\r\n        <thead>\r\n          <tr class="bg-light  text-size-small">\r\n            <th>Sr.No.</th>\r\n            <th>Heads</th>\r\n            <th>Token No.</th>\r\n            <th>Transaction No.</th>\r\n            <th>Registration Type</th>\r\n            <th>Amount (INR)</th>\r\n            <th>Additional Amount (INR)</th>\r\n            <th>Total Amount (INR)</th>\r\n            <th>Payment Date</th>\r\n            <th>Status</th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor="let data of paymentlistingResponse; let i = index">\r\n            <td>{{i+1}}</td>\r\n            <td>{{data?.paymentHead}}</td>\r\n            <td>{{data?.tokenNo}}</td>\r\n            <td>{{data?.onlineTransactionNo}}</td>\r\n            <td>{{data?.processName}}</td>\r\n            <td>{{transformAmount(data?.amount)}}</td>\r\n            <td>{{transformAmount(data?.penaltyAmount)}}</td>\r\n            <td>{{transformAmount(data?.totalAmount)}}</td>\r\n            <td>{{data?.paymentDate | date: "dd-MM-yyyy"}}</td>\r\n            <td>{{data?.payment_status}}</td>\r\n            <td>\r\n              <u>\r\n               <a href="{{downloadReciept}}{{data?.onlineTransactionNo}}" title="Download Payment Receipt"><i class="icon icon-download red"></i></a>\r\n             </u>\r\n\r\n             \x3c!-- <a href="javascript:void(0)" (click)="takeActionOnData(data)"> <img alt="#" src="/assets/images/673585-200.png"> </a> --\x3e\r\n           </td>\r\n          </tr>\r\n          <tr *ngIf="paymentlistingResponse.length==0">\r\n            <td> Data Not Availble.</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\x3c!-- <div class="row">\r\n    <div class="col-md-12 text-center"> <a href="{{\'#/mis/payment-dashboard\'}}" title="Back"><button class="btn btn-primary"> Back</button></a></div>\r\n</div> --\x3e'},P9oO:function(t,e,a){"use strict";a.r(e),e.default='<div class="row">\r\n\r\n\r\n\r\n\r\n  <div class="container-fluid">\r\n\r\n    <div class="col-md-12 ">\r\n      <nav aria-label="Page navigation example">\r\n        <nav aria-label="Page navigation example">\r\n          <div class="breadcrumb flat">\r\n            <a routerLink="/dashboard/promoter" class="active">Dashboard</a>\r\n            <a routerLink="/project-dashboard/project-view" class="active">Project Summary</a>\r\n          </div>\r\n        </nav>\r\n      </nav>\r\n    </div>\r\n    <div class="col-md-12 mb-1 ">\r\n      <ul class="nav nav-tabs" style="padding:14px; background:#fff; border-radius: 5px;">\r\n        <li class="active ">\r\n          <a data-toggle="tab" href="javascript:void(0)"\r\n            class=" bg-dark text-black  pr-3 pb-2 pt-2 pl-3  m-1">{{ projectName }}\r\n            \x3c!-- <span class="badge bg-dark text-white font-weight-bold ml-2">{{ status }}</span> --\x3e\r\n            <span class="badge bg-dark text-white font-weight-bold ml-2 cursor-pointer"\r\n              (click)="ViewCurrentFormStatusInnerSide()">\r\n              <u>(View)</u>\r\n            </span>\r\n          </a>\r\n        </li>\r\n        &nbsp;\r\n        <li class="active ">\r\n          <a download href="{{recieptDownload}}"\r\n            class=" bg-dark text-black  pr-3 pb-2 pt-2 pl-3  m-1 cursor-pointer">Project Certificate <i\r\n              class="icon icon-download"></i>\r\n          </a>\r\n        </li>\r\n        <li class="">\r\n          <span class="badge bg-dark text-white font-weight-bold ml-2">Registration No - {{ registrationNo }}</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class="col-md-12">\r\n      <div>\r\n        \x3c!-- .card-body --\x3e\r\n\r\n        <div class="tab-content">\r\n\r\n          <div>\r\n            <div *ngIf="noActive" class="customizer slideNav" id="slideNav"> <a href="javascript:void(0);" class="service-panel-toggle" (click)="slideNav($event)"> Apply </a>\r\n              <div class="customizer-body ps-container ps-theme-default"\r\n                data-ps-id="ca360c72-0fcd-5255-8197-ce41a6d409ad">\r\n                <div class="tab-content" id="pills-tabContent">\r\n                  \x3c!-- Tab 1 --\x3e\r\n                  <div class="tab-pane fade show active" id="pills-home" role="tabpanel">\r\n                    <div class="p-3 border-bottom">\r\n                      \x3c!-- Sidebar --\x3e\r\n                      <div class="title bg-dark btn-small btn-block text-white"> {{ projectName }}</div>\r\n                      <a href="javascript:void(0)" (click)="alterationAction(\'Section-14\')"\r\n                        class=" bg-dark-50 text-dark btn-small btn-block">\r\n                        &bull; Section 14 (Alteration)</a>\r\n                        <a href="javascript:void(0)" (click)="alterationAction(\'Mini Alteration\')"\r\n                        class=" bg-dark-50 text-dark btn-small btn-block">\r\n                        &bull; Data Correction</a>\r\n                      <a href="javascript:void(0)" (click)="alterationSec15Action()"\r\n                        class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Section\r\n                        15</a> \r\n                        <a href="javascript:void(0)" (click)="applyForExtension()"\r\n                        class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Project Extension </a>\r\n                      \r\n                      \r\n                      \r\n                        <a href="javascript:void(0)" (click)="openBcr()"\r\n                        class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Bank Change Request </a>\r\n\r\n                        <a href="javascript:void(0)" (click)="getListingOfBankCorrection()"\r\n                        class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Bank Change Request (Correction) </a>\r\n\r\n\r\n                      <div class="dropdown profChange mt-2" >\r\n                      <div class="title bg-dark btn-small btn-block text-white dropdown-toggle mb-0"  (click)="prChangeMenu($event)"> Profile Change Request</div>\r\n                      <div class="downMenu border" id="prChangeMenu">\r\n                      <a href="javascript:void(0)" (click)="profileChangeRedirect(1, \'TP_PCWF\')"\r\n                        class=" bg-dark-50 text-dark btn-small btn-block"> &bull; TP </a>\r\n                        <a href="javascript:void(0)" (click)="profileChangeRedirect(2, \'LEGAL_PCWF\')"\r\n                          class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Legal </a>\r\n                          <a href="javascript:void(0)" (click)="profileChangeRedirect(3, \'TP_LEGAL_PCWF\')"\r\n                          class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Both (TP and Legal) </a>\r\n                        </div>\r\n                      </div>\r\n                      <div class="dropdown profChange mt-2" >\r\n                        <div class="title bg-dark btn-small btn-block text-white dropdown-toggle mb-0"  (click)="prChangeMenuWF($event)"> Profile Change Without Fees Request</div>\r\n                        <div class="downMenu border" id="prChangeMenuWF">\r\n                        <a href="javascript:void(0)" (click)="setTotalFetchable($event,1)"\r\n                          class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Previous Project Details </a>\r\n                            <a href="javascript:void(0)" (click)="setTotalFetchable($event,4)"\r\n                            class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Associated Vendor Details </a>\r\n                            <a href="javascript:void(0)" (click)="setTotalFetchable($event,5)"\r\n                            class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Financial Documents </a>\r\n                          </div>\r\n                        </div>\r\n                      <a [routerLink]="[\'list-view\']" class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Form 5\r\n                      </a>\r\n                      <a href="javascript:void(0)" (click)="openQPR()" class=" bg-dark-50 text-dark btn-small btn-block"> &bull; QPR </a>\r\n                      \x3c!-- <a href="#/seal-trust-promoter" class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Seal For\r\n                        Trust </a>\r\n                      <a href="#/execute-afs" class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Execute Seal For\r\n                        Trust </a> --\x3e\r\n                      \x3c!-- <a href="javascript:void(0)" (click)="createTicketFunction()" class=" bg-dark-50 text-dark btn-small btn-block"> &bull; Create Ticket </a> --\x3e\r\n\r\n                    </div>\r\n                  </div>\r\n                  \x3c!-- End Tab 1 --\x3e\r\n\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <hr class="mb-3 mt-3">\r\n            <div class="col-md-12 mb-3  progressShow">\r\n              <ul class="nav nav-tabs mt-4">\r\n                <li class="active">\r\n                  <a   href="#pendingPrm"\r\n                    class="bg-dark text-black btn btn-primary "><span class="text">Pending on Promoter</span>&nbsp;<span class="badge badge-light">{{viewMasterProjectPromoter.length}}</span></a>&nbsp;&nbsp;\r\n                    <a    href="#pendingAuth"\r\n                      class="bg-dark text-black btn btn-primary  "><span class="text">Pending on Authority</span>&nbsp;<span class="badge badge-light">{{viewMasterProjectAuthority.length}}</span></a>&nbsp;&nbsp;\r\n                      <a    href="#summary"\r\n                        class="bg-dark text-black btn btn-primary  "><span class="text">Summary</span>&nbsp;<span class="badge badge-light">{{viewMasterProjectSummary.length}}</span></a>&nbsp;&nbsp;\r\n                          <a    href="#penOnProf"\r\n                            class="bg-dark text-black btn btn-primary  "><span class="text">Pending on Professional</span>&nbsp;<span class="badge badge-light">{{regArray.length}}</span></a>&nbsp;&nbsp;\r\n                            <a    href="#bankReq"\r\n                              class="bg-dark text-black btn btn-primary  "><span class="text">Bank Change Request</span>&nbsp;<span class="badge badge-light">{{bcrData.length}}</span></a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n\r\n\r\n            <hr class="mb-3 mt-3">\r\n            <div class="col-md-12 mb-3" *ngIf="showCurrentBankAccount">\r\n              \r\n                <div class="active text-center">\r\n\r\n                 \r\n                  <h3 *ngIf="!projectStatusResind">Current Bank Details for the project is : Account No - {{currentBankAccount.accountNumber}} and Bank Name - {{currentBankAccount.bankName}}. In case this is not your current bank detail, <a href="javascript:void(0)" (click)="clickToRedirectOnDC()" class="link-text">Click Here </a>\r\n                  </h3>  \r\n                  <h3 *ngIf="projectStatusResind">Current Bank Details for the project is : Account No - {{currentBankAccount.accountNumber}} and Bank Name - {{currentBankAccount.bankName}}.\r\n                  </h3>                \r\n                </div>\r\n              \r\n            </div>\r\n\r\n\r\n\r\n            <div class="mt-3">\r\n              <div class="row mb-4">\r\n                <div class="col-md-6">\r\n                  <div class="card ">\r\n                    <div class="card-header text-center" id="pendingPrm"><b>Pending on Promoter</b></div>\r\n                    <div class="card-body card_body_fix_height">\r\n                      <div class="table-responsive pb-2">\r\n                        <table class="table table-bordered text-center">\r\n                          <thead>\r\n                            <tr class="bg-gray text-dark">\r\n                              <td>Application</td>\r\n                              <td>Project Name</td>\r\n                              <td>Type</td>\r\n                              <td>Ack. No. </td>\r\n                              <td>Status</td>\r\n                              <td colspan="2">Action</td>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody *ngIf="noActive && viewMasterProjectPromoter?.length > 0; else noRecordFoundPromoter">\r\n                            <tr *ngFor="let promPending of viewMasterProjectPromoter">\r\n                              <td>\r\n                                <span> {{showProcessType(promPending?.application, promPending?.profileType)}}</span>\r\n                                \x3c!-- <span *ngIf="promPending?.application == \'tPProfileChange\'">\r\n                                  TP Profile Change\r\n                                </span>\r\n\r\n                                <span *ngIf="promPending?.application == \'legalProfileChange\'"> Legal Profile\r\n                                  Change</span>\r\n\r\n                                <span\r\n                                  *ngIf="promPending?.application == \'Alteration\' || promPending?.application == \'Extension\' || promPending?.application == \'Alteration-15\' || promPending?.application == \'QPR\'">\r\n                                  {{ promPending?.application }}\r\n                                </span>\r\n                                <span *ngIf="promPending?.application == \'sealForTrust\'"> Seal For Trust\r\n                                </span> --\x3e\r\n                              </td>\r\n\r\n\r\n                              <td>\r\n                                <u>\r\n                                  <span\r\n                                    *ngIf="promPending?.application == \'Alteration\' || promPending?.application == \'Extension\' || promPending?.application == \'tPProfileChange\' || promPending?.application == \'legalProfileChange\' || promPending?.application == \'Alteration-15\' || promPending?.application ==\'QPR\' && promPending?.status != \'ENQUIRY\'">\r\n                                    <a href="javascript:void(0)"\r\n                                      (click)="navigationManagment(promPending?.viewProcessId,promPending?.viewProjectId,promPending?.application,\'oldRedirect\',promPending?.wfoId,promPending?.alterationType,promPending?.profileType)">{{ promPending?.projectName }}</a>\r\n                                  </span>\r\n                                </u>\r\n\r\n                                <span\r\n                                  *ngIf="promPending?.application != \'Alteration\' && promPending?.application != \'Extension\' && promPending?.application != \'tPProfileChange\' && promPending?.application != \'legalProfileChange\' && promPending?.application !=\'Alteration-15\' && promPending?.application !=\'QPR\'&& promPending?.status == \'ENQUIRY\'">\r\n                                  {{ promPending?.projectName }}</span>\r\n\r\n                              </td>\r\n\r\n\r\n                              <td>{{ promPending?.projectType }}</td>\r\n                              <td><span class="badge badge-dark">{{ promPending?.ackNo }}</span></td>\r\n                              <td>\r\n                                <span class="badge badge-dark">\r\n\r\n                                  {{showStatusForPromoter(promPending?.status, promPending?.application)}}\r\n                                \r\n                                </span>\r\n                              </td>\r\n\r\n\r\n\r\n                              <td\r\n                                *ngIf="(promPending?.application == \'Alteration\' || promPending?.application == \'Extension\' || promPending?.application == \'tPProfileChange\' || promPending?.application == \'legalProfileChange\' || promPending?.application ==\'Alteration-15\' || promPending?.application ==\'QPR\')  && promPending?.stateCode == \'AWAITIGCOMP\'">\r\n                                <a href="javascript:void(0)" class="btn btn-small bg-warning"\r\n                                  (click)="projectEnquiries(promPending?.application,promPending?.viewProcessId)">Reply</a>\r\n                              </td>\r\n\r\n                              <td\r\n                                *ngIf="promPending?.status != \'Saved As Draft\' && (promPending?.application == \'Alteration\' || promPending?.application == \'Extension\') && promPending?.status != \'REVIEW\'">\r\n                                <a href="javascript:void(0)" class="btn btn-small btn-warning"\r\n                                  (click)="ProjectWithdraw(null,promPending?.application,promPending?.viewProjectId,promPending?.viewProcessId)">Withdraw</a>\r\n                              </td>\r\n\r\n\r\n                              \x3c!-- <td *ngIf="promPending?.status == \'Saved As Draft\' || promPending?.application == \'BCR\'">--\r\n                              </td> --\x3e\r\n                              <td *ngIf="promPending?.status == \'REVIEW\'">\r\n                                <a href="javascript:void(0)" class="btn btn-small btn-warning"\r\n                                  (click)="ProjectSurvey()">Open</a>\r\n                              </td>\r\n\r\n\r\n                              <td\r\n                                *ngIf="promPending?.cahngeLandAreaFlag == \'Yes\' && promPending?.application==\'Alteration\'">\r\n                                <a href="javascript:void(0)" class="btn btn-small btn-info"\r\n                                  (click)="payChangeLandArea(promPending?.viewProcessId,\'PROJECT_ALT\')">Pay</a>\r\n                              </td>\r\n                              \x3c!-- <td *ngIf="promPending?.cahngeLandAreaFlag == \'No\'">--</td> --\x3e\r\n                              <td>\r\n\r\n                                    <u>\r\n                                      <a href="javascript:void(0);" *ngIf="((promPending.status==\'Saved As Draft\' && (promPending?.application == \'Alteration\' || promPending?.application == \'Extension\' || promPending?.application == \'Alteration-15\')) || (promPending.status==\'INPROGRESS\' && (promPending?.application  == \'tPProfileChange\' || promPending?.application  == \'legalProfileChange\')));" (click)="showConfirmation(promPending?.viewProcessId,promPending?.application)">Discard\r\n                                      </a>\r\n                                    </u>\r\n\r\n                              </td>\r\n                            </tr>\r\n                          </tbody>\r\n\r\n                          <ng-template #noRecordFoundPromoter>\r\n                            <tbody>\r\n                              <tr>\r\n\r\n                                <td colspan="8"><span class="error">No record found!</span></td>\r\n\r\n\r\n                              </tr>\r\n                            </tbody>\r\n                          </ng-template>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                    <div class="card-footer text-right"></div>\r\n                  </div>\r\n                </div>\r\n\r\n\r\n\r\n\r\n\r\n                <div class="col-md-6">\r\n                  <div class="card ">\r\n                    <div class="card-header text-center" id="pendingAuth"><b>Pending on Authority </b></div>\r\n                    <div class="card-body card_body_fix_height">\r\n                      <div class="table-responsive pb-2">\r\n                        <table class="table table-bordered text-center">\r\n                          <thead>\r\n                            <tr class="bg-gray text-dark">\r\n                              <td>Application</td>\r\n                              <td>Project Name</td>\r\n                              \x3c!-- <td>Alteration Type</td> --\x3e\r\n                              <td>Type</td>\r\n                              <td>Ack. No. </td>\r\n                              <td>Status</td>\r\n                              \x3c!-- <td>Submited On</td>\r\n                              <td>Initiated On</td> --\x3e\r\n                              <td colspan="2">Action</td>\r\n                              \x3c!-- <td>Discard</td> --\x3e\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody *ngIf="noActive && viewMasterProjectAuthority?.length > 0; else noRecordFoundAuthority">\r\n                            <tr *ngFor="let authPending of viewMasterProjectAuthority">\r\n                              <td>\r\n                                <span *ngIf="authPending?.application == \'tPProfileChange\'"> TP Profile Change</span>\r\n\r\n                                <span *ngIf="authPending?.application == \'legalProfileChange\'"> Legal Profile Change\r\n                                </span>\r\n\r\n                                <span\r\n                                  *ngIf="authPending?.application == \'Alteration\' || authPending?.application == \'Extension\' || authPending?.application ==\'Alteration-15\'">\r\n                                  {{ authPending?.application }}\r\n                                </span>\r\n                                <span *ngIf="authPending?.application == \'sealForTrust\'"> Seal For Trust\r\n                                </span>\r\n                              </td>\r\n\r\n                              <td\r\n                                *ngIf="authPending?.application == \'Alteration\' || authPending?.application == \'Extension\' || authPending?.application == \'tPProfileChange\' || authPending?.application == \'legalProfileChange\' || authPending?.application ==\'Alteration-15\'">\r\n                                <u>\r\n                                  <a href="javascript:void(0)"\r\n                                    (click)="navigationManagment(authPending?.viewProcessId,authPending?.viewProjectId,authPending?.application,\'oldRedirect\',authPending?.wfoId,\'Authority\',\'\')">{{ authPending?.projectName }}</a>\r\n                                </u>\r\n                              </td>\r\n\x3c!-- promPending?.viewProcessId,promPending?.viewProjectId,promPending?.application,\'oldRedirect\',promPending?.wfoId,promPending?.alterationType --\x3e\r\n                              <td\r\n                                *ngIf="authPending?.application != \'Alteration\' && authPending?.application != \'Extension\' && authPending?.application != \'tPProfileChange\' && authPending?.application != \'legalProfileChange\' && authPending?.application !=\'Alteration-15\'">\r\n                                {{ authPending?.projectName }}\r\n                              </td>\r\n\r\n\r\n                              \x3c!-- <td\r\n                               *ngIf="(authPending?.alterationType == \'SECTION-15\' &&  authPending?.application== \'Alteration\')">\r\n                               <span class="badge badge-dark">Alt-Sec-15</span></td>\r\n                             <td\r\n                               *ngIf="(authPending?.alterationType != \'SECTION-15\' &&  authPending?.application== \'Alteration\')">\r\n                               <span class="badge badge-dark">Alt-Sec-14</span></td> --\x3e\r\n                              \x3c!-- <td *ngIf="(authPending?.application!= \'Alteration\')">--</td> --\x3e\r\n                              <td>{{ authPending?.projectType }}</td>\r\n                              <td><span class="badge badge-dark">{{ authPending?.ackNo }}</span></td>\r\n                              <td>\r\n\r\n                                <span class="badge badge-dark"\r\n                                *ngIf="authPending?.status != \'SECRETRY\' ; else _otherStatus">{{ authPending?.status }}\r\n                              </span>\r\n\r\n                              <ng-template #_otherStatus>\r\n                                <span class="badge badge-dark" *ngIf="authPending?.status == \'SECRETRY\'">\r\n                                  SECRETARY\r\n                                </span>\r\n                              </ng-template>\r\n\r\n \r\n\r\n\r\n                              </td>\r\n\r\n\r\n\r\n                              <td\r\n                                *ngIf="authPending?.status != \'Saved As Draft\' && authPending?.application != \'tPProfileChange\' && authPending?.application != \'legalProfileChange\' && authPending?.status != \'PENDING_WITH_AUTH\'">\r\n                                <a href="javascript:void(0)" class="btn btn-small btn-warning"\r\n                                  (click)="ProjectWithdraw(null,authPending?.application,authPending?.viewProjectId,authPending?.viewProcessId)">Withdraw</a>&nbsp;&nbsp;\r\n\r\n                                  <span  *ngIf="authPending?.application == \'Alteration\' ">\r\n                                    <a href="javascript:void(0)" class="btn btn-small btn-warning"\r\n                                    (click)="createTicketFunction(authPending?.viewProcessId, \'PROJECT_ALT\', \'YES\')">Create Ticket</a>\r\n                                  </span>\r\n                                  <span *ngIf="authPending?.application == \'Extension\' ">\r\n                                    <a href="javascript:void(0)"  class="btn btn-small btn-warning"\r\n                                    (click)="createTicketFunction(authPending?.viewProcessId, \'PROJECT_EXT\', \'YES\')">Create Ticket</a>\r\n                                  </span>\r\n                                  <span *ngIf="authPending?.application == \'Alteration-15\' ">\r\n                                    <a href="javascript:void(0)"  class="btn btn-small btn-warning"\r\n                                    (click)="createTicketFunction(authPending?.viewProcessId, \'PROJECT_ALT_15\', \'YES\')">Create Ticket</a>\r\n                                  </span>\r\n                              </td>\r\n                              <td\r\n                                *ngIf="authPending?.status == \'Saved As Draft\' || authPending?.application == \'tPProfileChange\' || authPending?.application == \'legalProfileChange\' || authPending?.application ==\'Alteration-15\'">\r\n                                --</td>\r\n                              <td *ngIf="authPending?.status == \'PENDING_WITH_AUTH\'">\r\n                                <a href="javascript:void(0)" class="btn btn-small btn-warning"\r\n                                  (click)="ProjectSurvey()">Open</a>\r\n                              </td>\r\n\r\n\r\n\r\n                              \x3c!-- <td>\r\n\r\n                                    <u>\r\n                                      <a href="javascript:void(0);" *ngIf="(authPending.status!=\'DISCARDED\' && (authPending?.application == \'Alteration\' || authPending?.application == \'Extension\')); else _no_found" (click)="showConfirmation(authPending?.viewProcessId,authPending?.application)">Discard\r\n                                      </a>\r\n                                    </u>\r\n                                    <ng-template #_no_found>--</ng-template>\r\n\r\n                              </td> --\x3e\r\n                            </tr>\r\n                          </tbody>\r\n\r\n                          <ng-template #noRecordFoundAuthority>\r\n                            <tbody>\r\n                              <tr>\r\n                                <td colspan="6"><span class="error">No record found!</span></td>\r\n                              </tr>\r\n                            </tbody>\r\n                          </ng-template>\r\n\r\n\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                    <div class="card-footer text-right">\r\n                      \x3c!-- <a href="javascript:void(0)" class="badge  text-dark" ><i class="icon icon-calendar"></i> Communication</a> | <a href="javascript:void(0)" class="badge  text-dark"><i class="icon icon-folder-open-empty"></i> History</a>  --\x3e\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class="row mb-4">\r\n                <div class="col-md-6">\r\n                  <div class="card ">\r\n                    <div class="card-header text-center" id="summary"><b>Summary</b></div>\r\n                    <div class="card-body card_body_fix_height">\r\n                      <div class="table-responsive pb-2">\r\n                        <table class="table table-bordered text-center">\r\n                          <thead>\r\n                            <tr class="bg-gray text-dark">\r\n                              <td>Application</td>\r\n                              <td>Project Name</td>\r\n                              <td>Type</td>\r\n                              <td>Ack. No. </td>\r\n                              <td>Status</td>\r\n                              \x3c!-- <td>Submited On</td>\r\n                              <td>Initiated On</td> --\x3e\r\n                              <td>Certificate</td>\r\n                              <td>Action</td>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody *ngIf="viewMasterProjectSummary?.length > 0; else noRecordFoundsUMMARY">\r\n                            <tr *ngFor="let projSummary of viewMasterProjectSummary">\r\n\r\n                              <td *ngIf="projSummary?.application == \'Enquiry\'; else notEnquiry">\r\n                                {{ projSummary?.application }} - {{ projSummary?.processName }}</td>\r\n\r\n                              <ng-template #notEnquiry>\r\n                                <td>\r\n                                  <span *ngIf="projSummary?.application == \'tPProfileChange\'"> TP Profile Change </span>\r\n\r\n                                  <span *ngIf="projSummary?.application == \'legalProfileChange\'"> Legal Profile Change\r\n                                  </span>\r\n\r\n                                  <span\r\n                                    *ngIf="projSummary?.application == \'Alteration\' || projSummary?.application == \'Extension\' || projSummary?.application ==\'Alteration-15\' || projSummary?.application ==\'Registration\'">\r\n                                    {{ projSummary?.application }}\r\n                                  </span>\r\n                                </td>\r\n                              </ng-template>\r\n\r\n\r\n                              <td>{{ projSummary?.projectName }}</td>\r\n\r\n                              <td>{{ projSummary?.projectType }}</td>\r\n\r\n\r\n\r\n                              <td\r\n                                *ngIf="projSummary?.application == \'Alteration\' || projSummary?.application == \'Extension\' || projSummary?.application == \'tPProfileChange\' || projSummary?.application == \'legalProfileChange\' || projSummary?.application ==\'Alteration-15\' || projSummary?.application ==\'Registration\'">\r\n                                <u><a href="javascript:void(0)" (click)="navigationManagment(projSummary?.viewProcessId,projSummary?.viewProjectId,projSummary?.application,\'newRedirect\',projSummary?.wfoId,\'Authority\',\'\')">{{ projSummary?.ackNo }}</a></u>\r\n                              </td>\r\n\r\n                              <td *ngIf="projSummary?.stateCode == \'EnquiryView\'">\r\n                                <u><a href="javascript:void(0)"\r\n                                    (click)="projectEnquiriesView(projSummary?.processName,projSummary?.viewProcessId)">{{ projSummary?.ackNo }}</a></u>\r\n                              </td>\r\n\r\n\r\n                              <td *ngIf="projSummary?.stateCode!=\'WITHDRAWAL\'">\r\n                                <span class="badge badge-dark textUpperCase">{{ projSummary?.status }}</span>\r\n                              </td>\r\n\r\n                                <td  *ngIf="projSummary?.stateCode==\'WITHDRAWAL\'">\r\n                                  <a href="javascript:void(0)" class=""\r\n                                  (click)="ProjectWithdraw(null,projSummary?.application,projSummary?.viewProjectId,projSummary?.viewProcessId)"><span class="badge badge-dark">WITHDRAWN</span></a>\r\n                                </td>\r\n                              <td>\r\n                                <a href="{{fileDownlod}}{{projSummary?.certificate}}" download target="_blank" title="Download Certificate"\r\n                                    *ngIf="((projSummary?.application == \'Alteration\' || projSummary?.application == \'Extension\' || projSummary?.application ==\'Alteration-15\' || projSummary?.application ==\'Registration\') && projSummary?.stateCode!=\'WITHDRAWAL\'); else noCertificate">\r\n                                    <i class="icon icon-download red"></i>\r\n                              </a>\r\n                              <ng-template #noCertificate>\r\n                                  <span >--</span>\r\n                                </ng-template>\r\n                              </td>\r\n                              <td>\r\n\r\n                                <a *ngIf="printAvailability(projSummary?.application); else _notAvailable" href="javascript:void(0);" (click)="printApplication(projSummary)" title="Print Application"><i class="icon icon-download red"></i></a>\r\n\r\n                                <ng-template #_notAvailable>--</ng-template>\r\n\r\n                                \x3c!-- |\r\n                                <span *ngIf="printAvailability(projSummary?.application);" (click)="printApplication(projSummary?.application,projSummary?.wfoId)">\r\n                                  <i class="fa fa-file-pdf-o" aria-hidden="true"></i>\r\n                                </span> --\x3e\r\n\r\n\r\n                              </td>\r\n\r\n                            </tr>\r\n                          </tbody>\r\n\r\n                          <ng-template #noRecordFoundsUMMARY>\r\n                            <tbody>\r\n                              <tr>\r\n                                <td colspan="6"><span class="error">No record found!</span></td>\r\n                              </tr>\r\n                            </tbody>\r\n                          </ng-template>\r\n\r\n\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                    <div class="card-footer text-right p-3">\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n\r\n\r\n\r\n                <div class="col-md-6">\r\n                  <div class="card ">\r\n                    <div class="card-header text-center" id="forms5"><b>Form 5</b></div>\r\n                    <div class="card-body card_body_fix_height">\r\n\r\n\r\n                      <div class="">\r\n\r\n                        <div class="row">\r\n                          <div class=" col-md-12 table-responsive mb-4">\r\n                            <table class="table table-bordered">\r\n                              <thead>\r\n                                <tr class="text-center bg-light  text-size-small">\r\n                                  <td>Project Name</td>\r\n                                  <td>Promoter name</td>\r\n                                  <td>Promoter Email</td>\r\n                                </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                                <tr class="text-center">\r\n                                  <td>{{formFiveDetail.projectName}}</td>\r\n                                  <td>{{formFiveDetail.promoterName}}</td>\r\n                                  <td>{{formFiveDetail.promoterEmailId}}</td>\r\n                                </tr>\r\n                              </tbody>\r\n                            </table>\r\n\r\n\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class="row text_class">\r\n                        <div class ="col-md-12">\r\n                        <div class="d-flex justify-content-between mt-4">\r\n                            <div class="water-box d-flex align-items-center level9"><span></span>  ACTIVE</div>\r\n                            <div class="water-box d-flex align-items-center level10"><span></span> SUBMITTED</div>\r\n                            <div class="water-box d-flex align-items-center level0"><span></span> ESIGNED</div>\r\n                            <div class="water-box d-flex align-items-center level11"><span></span> INACTIVE</div>\r\n                            <div class="water-box d-flex align-items-center level12"><span></span> EXEMPT</div>\r\n                            <div class="water-box d-flex align-items-center level13"><span></span> DEFAULTER</div>\r\n                            <div class="water-box d-flex align-items-center level14"><span></span> DEFAULT-ACTIVE</div>\r\n                          </div>\r\n                          </div>\r\n                    </div>\r\n                      <div class="card-header mt-4"><b> Financial Year</b></div>\r\n                      <div class="card-body" *ngIf="noActive">\r\n                        <div class="row">\r\n\r\n                          <div class="form-group col-md-3" class="button-box"\r\n                            *ngFor="let financeYear of formFiveDetail.formFiveListSorted; let last = last">\r\n                            \r\n                              <div class="">\r\n                                <button type="button"   (click)="setData(financeYear.formFiveId, financeYear.financialYearStatus)" \r\n                                [ngClass]="{\r\n                                \'active\':form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'ACTIVE\'),\r\n                                 \'submitted\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'SUBMITTED\'),\r\n                                \'essigned\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'ESIGNED\'),\r\n                                \r\n                                \'inactive\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'INACTIVE\'), \r\n                                \'exempt\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'EXEMPT\'), \r\n                                \'defaulter\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'DEFAULT\'), \r\n                                \'defaultactive\': form5ColorClass(financeYear.financialYearStatus,financeYear.status,\'DEFAULT-ACTIVE\')\r\n                              }" [disabled]="financeYear.financialYearStatus == \'INACTIVE\'">{{financeYear.financialYear}}<strong *ngIf="last"> Q-E</strong></button>\r\n                            </div>\r\n\r\n\r\n\r\n\r\n\r\n                          </div>\r\n\r\n                        </div>\r\n                      </div>\r\n\r\n\r\n                    </div>\r\n                    <div class="card-footer text-right p-3">\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n\r\n\r\n              <div class="row mb-4 d-none">\r\n                <div class="col-md-12">\r\n                  <div class="card ">\r\n                    <div class="card-header text-center" id="penOnProf"><b>Pending on Professional</b></div>\r\n                    <div class="card-body card_body_fix_height">\r\n                      <div class="table-responsive pb-2">\r\n                        <table class="table table-bordered text-center">\r\n                          <thead>\r\n                            <tr class="bg-gray text-dark">\r\n                              <td>Document</td>\r\n                              <td>Name Of Professional </td>\r\n                              <td> Type</td>\r\n                              <td>Date of Allocation</td>\r\n\r\n                              <td>Status</td>\r\n                              \x3c!-- <td>Date of Submission</td> --\x3e\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <tr *ngFor="let data of regArray">\r\n                              <td>{{data.documentType}}</td>\r\n                              <td>{{data.professionlName}}</td>\r\n                              <td>{{data.applicationOn}}</td>\r\n                              <td>{{data.dateofAllocation  | date : \'dd-MM-yyyy\'}}</td>\r\n                              <td\r\n                                [ngClass]="data.status == \'ASSIGNED\' ? \'badge badge-danger text-white\' : data.status == \'UPLOADED\' ? \'badge badge-success text-white\'  : \'badge badge-primary text-white\'">\r\n                                {{data.status}}</td>\r\n                            </tr>\r\n                            <tr *ngFor="let data of formFiveArray">\r\n                              <td>{{data.documentType}}</td>\r\n                              <td>{{data.professionlName}}</td>\r\n                              <td>{{data.applicationOn}}</td>\r\n                              <td>{{data.dateofAllocation  | date : \'dd-MM-yyyy\'}}</td>\r\n                              <td\r\n                                [ngClass]="data.status == \'ASSIGNED\' ? \'badge badge-danger text-white\' : data.status == \'UPLOADED\' ? \'badge badge-success text-white\'  : \'badge badge-primary text-white\'">\r\n                                {{data.status}}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class="row mb-4">\r\n\r\n                <div class="col-md-12">\r\n                  <div class="card ">\r\n                    <div class="card-header text-center" id="bankReq"><b>Bank Change Request</b></div>\r\n                    <div class="card-body card_body_fix_height">\r\n                      <div class="table-responsive pb-2">\r\n                        <table class="table table-bordered text-center">\r\n                          <thead>\r\n                            <tr class="bg-gray text-dark">\r\n                              <th>Ack No.</th>\r\n                              <th>Account Holder Name</th>\r\n                              <th>Bank Name</th>\r\n                              <th>Account Number </th>\r\n                              <th>Account Type</th>\r\n                              \x3c!-- <th>IFSC Code</th> --\x3e\r\n                              <th>Type</th>\r\n                              <th> Status</th>\r\n                              <th> Approved On</th>\r\n                              <th>Action</th>\r\n                              <th>Discard</th>\r\n                              <th>View</th>\r\n                              \x3c!-- <td>Current Status</td> --\x3e\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody *ngIf="noActive && bcrData?.length > 0; else bcrNorecordFound">\r\n                            <tr *ngFor="let bcrData of bcrData">\r\n                              <td>\r\n                                <span *ngIf="this.bcrData.status == \'INPROGRESS\'; else showAck">\r\n                                  --\r\n                                </span>\r\n\r\n                                <ng-template #showAck>\r\n                                  <span>\r\n                                    {{bcrData?.changeReqNum}}\r\n                                  </span>\r\n                                </ng-template>\r\n\r\n\r\n\r\n                              </td>\r\n                              <td>{{bcrData?.bcrRa1Ra2IdFk?.accountHolderName}}</td>\r\n                              <td>{{bcrData?.bcrRa1Ra2IdFk?.bankName}}</td>\r\n                              <td> {{bcrData?.bcrRa1Ra2IdFk?.accountNumber }}</td>\r\n                              <td>{{bcrData?.bcrRa1Ra2IdFk?.accountType}}</td>\r\n                              \x3c!-- <td>{{bcrData?.bcrRa1Ra2IdFk?.ifscCode}}</td> --\x3e\r\n                              <td>\r\n                                <p\r\n                                  *ngIf="this.bcrData.status == \'INPROGRESS\' || this.bcrData.status == \'PENDING_FINANCE_RA1_RA2\' || this.bcrData.status == \'PENDING_CONTROLLER_RA1_RA2\' || this.bcrData.status == \'APPROVED_CONTROLLER_RA1_RA2\' || this.bcrData.bcrRa3Ra4IdFk == null ">\r\n                                  <span class="badge badge-dark">RA1RA2 </span></p>\r\n\r\n                                <p\r\n                                  *ngIf="this.bcrData.status == \'PENDING_FINANCE_RA3_RA4\' || this.bcrData.status == \'PENDING_CONTROLLER_RA3_RA4\' || this.bcrData.status == \'APPROVED_CONTROLLER_RA3_RA4\' || this.bcrData.bcrRa3Ra4IdFk != null || (this.bcrData.status == \'APPROVED\' && this.bcrData.paymentMode != \'WithoutPayment\')">\r\n                                  <span class="badge badge-dark">RA3RA4</span></p>\r\n                              </td>\r\n\r\n                              <td>\r\n                                <p *ngIf="this.bcrData.status == \'PENDING_FINANCE_RA1_RA2\' || this.bcrData.status == \'PENDING_FINANCE_RA3_RA4\'">\r\n                                  <span class="badge badge-dark">Pending Scrutiny</span></p>\r\n                                <p *ngIf="this.bcrData.status == \'PENDING_CONTROLLER_RA1_RA2\' || this.bcrData.status == \'PENDING_CONTROLLER_RA3_RA4\'">\r\n                                  <span class="badge badge-dark">Pending Scrutiny</span></p>\r\n                                <p *ngIf="this.bcrData.status == \'APPROVED_CONTROLLER_RA1_RA2\'"><span\r\n                                    class="badge badge-dark">Approved RA1RA2</span></p>\r\n                                <p *ngIf="this.bcrData.status == \'APPROVED_CONTROLLER_RA3_RA4\' || this.bcrData.status == \'APPROVED\'">\r\n                                  <span class="badge badge-dark">Approved</span></p>\r\n\r\n                                <p *ngIf="this.bcrData.status == \'REJECTED\'"><span\r\n                                    class="badge badge-danger">Rejected</span></p>\r\n                                <p *ngIf="this.bcrData.status == \'INPROGRESS\'"><span class="badge badge-dark">SAVE AS DRAFT</span></p>\r\n                                <p *ngIf="this.bcrData.status == \'BCR_ENQUIRY\'"><span\r\n                                    class="badge badge-dark">Raised Inquiry</span></p>\r\n                                <p *ngIf="this.bcrData.status == \'DISCARDED\'">\r\n                                  <span class="badge badge-dark">DISCARDED</span>\r\n                                </p>\r\n                              </td>\r\n\r\n\r\n\r\n\r\n                              <td>\r\n                                <ng-container *ngIf="bcrData.status == \'APPROVED_CONTROLLER_RA3_RA4\'; else _otherDatashow">\r\n                                  {{bcrData.updatedOn | date : \'dd-MM-yyyy h:mm:ss\'}}\r\n                                </ng-container>\r\n                                <ng-template #_otherDatashow>\r\n                                  --\r\n                                </ng-template>\r\n                              </td>\r\n\r\n\r\n\r\n\r\n                              <td *ngIf="bcrData?.status == \'INPROGRESS\'|| bcrData?.status == \'PENDING_FINANCE_RA1_RA2\' || bcrData?.status == \'PENDING_CONTROLLER_RA1_RA2\'"\r\n                                (click)="getFullBCRData(bcrData?.id,1)"> <a href="javascript:void(0)"\r\n                                  class="badge badge-success mr-2">View</a>\r\n                              </td>\r\n\r\n                              <td *ngIf="bcrData?.status == \'BCR_ENQUIRY\' && bcrData?.bcrRa3Ra4IdFk != null">\r\n                                <a href="javascript:void(0)" class="badge badge-warning mr-2"\r\n                                  (click)="getFullBCRData(bcrData?.id,2)">Reply</a>\r\n                              </td>\r\n\r\n                              <td *ngIf="bcrData?.status == \'BCR_ENQUIRY\' && bcrData?.bcrRa3Ra4IdFk == null && (bcrData?.paymentMode==\'WithPayment\' || bcrData?.paymentMode==null  || bcrData?.paymentMode==\'null\')">\r\n                                <a href="javascript:void(0)" class="badge badge-warning mr-2"\r\n                                  (click)="getFullBCRData(bcrData?.id,1)">Reply</a>\r\n                              </td>\r\n\r\n                              <td *ngIf="bcrData?.status == \'BCR_ENQUIRY\' && bcrData?.bcrRa3Ra4IdFk == null && (bcrData?.paymentMode==\'WithoutPayment\')">\r\n                                <a href="javascript:void(0)" class="badge badge-warning mr-2"\r\n                                  (click)="getFullBCRData(bcrData?.id,4)">Reply</a>\r\n                              </td>\r\n\r\n                              <td *ngIf="bcrData?.status == \'APPROVED_CONTROLLER_RA1_RA2\' || bcrData?.status == \'PENDING_FINANCE_RA3_RA4\' || bcrData?.status == \'PENDING_CONTROLLER_RA3_RA4\'"\r\n                                (click)="getFullBCRData(bcrData?.id,2)">\r\n                                <a href="javascript:void(0)" class="badge badge-success mr-2">View</a>\r\n                              </td>\r\n\r\n                              <td *ngIf="bcrData?.status == \'APPROVED_CONTROLLER_RA3_RA4\' || bcrData?.status == \'REJECTED\' || bcrData?.status == \'APPROVED\' || bcrData?.status == \'DISCARDED\'" (click)="getFullBCRData(bcrData?.id,3)">\r\n                                <a href="javascript:void(0)" class="badge badge-success mr-2">View</a>\r\n                              </td>\r\n\r\n\r\n                              <td>\r\n\r\n                                <u>\r\n                                  <a href="javascript:void(0);" *ngIf="(bcrData.status!=\'DISCARDED\' && bcrData.status!=\'REJECTED\' && ( bcrData.status==\'Saved As Draft\' || bcrData.status == \'INPROGRESS\')); else _no_found" (click)="showConfirmation(bcrData?.id,\'BCR\')">Discard\r\n                                  </a>\r\n                                </u>\r\n                                <ng-template #_no_found>--</ng-template>\r\n\r\n                              </td>\r\n\r\n                              <td>\r\n\r\n                                <u>\r\n                                  <a href="javascript:void(0);" *ngIf="(bcrData.status!=\'DISCARDED\' &&  bcrData.status!=\'Saved As Draft\' && bcrData.status != \'INPROGRESS\'); else _no_found_pay" title="Print Application" (click)="getFullBCRData(bcrData?.id,3)">Print\r\n                                  </a>\r\n                                </u>\r\n                                <ng-template #_no_found_pay>--</ng-template>\r\n                                |\r\n                                <a href="{{downloadReciept}}{{bcrData?.paymentDetailsFk?.transactionNo}}" class="cursor-pointer" title="Download Payment Receipt" *ngIf="bcrData?.paymentDetailsFk?.transactionNo; else _no_trx">\r\n                                  <i class="icon icon-download green" aria-hidden="true"></i>\r\n                                </a>\r\n                                <ng-template #_no_trx>--</ng-template>\r\n\r\n\r\n                              </td>\r\n\r\n\r\n\r\n\r\n                            </tr>\r\n                          </tbody>\r\n\r\n                          <ng-template #bcrNorecordFound>\r\n                            <tbody>\r\n                              <tr>\r\n                                <td colspan="11"><span class="error">No record found!</span></td>\r\n                              </tr>\r\n                            </tbody>\r\n                          </ng-template>\r\n\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class="col-md-6 d-none">\r\n                  <app-forum [project_id]="projectIdValue"></app-forum>\r\n\r\n                  \x3c!-- <div class="card ">\r\n<div class="card-header text-center"><b>Forum</b></div>\r\n<div class="card-body card_body_fix_height">\r\n<div class="table-responsive pb-2">\r\n\r\n</div>\r\n</div>\r\n</div> --\x3e\r\n                </div>\r\n              </div>\r\n              <div class="row mb-4">\r\n                <div class="col-md-6">\r\n                  <app-agent-yearly-details [project_id]="projectIdValue"></app-agent-yearly-details>\r\n                </div>\r\n\r\n\r\n\r\n                <div class="col-md-6">\r\n                  <div class="card ">\r\n                    <div class="card-header text-center"><b>E-Office </b></div>\r\n                    <div class="card-body card_body_fix_height">\r\n                      <div class="table-responsive pb-2">\r\n                        <table class="table table-bordered text-center">\r\n                          <thead>\r\n                            <tr class="bg-gray text-dark">\r\n                              <td>Sr.No</td>\r\n                              <td>Outward No.</td>\r\n                              <td>E-Office Document</td>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody  *ngIf="noActive && setEofficedata?.length>0 else noEoffice">\r\n                            <tr *ngFor="let data of setEofficedata; let i=index">\r\n                              <td>{{i+1}}</td>\r\n                              <td>{{data.outwordNo}}</td>\r\n                              <td>\r\n                                <span *ngFor="let doclistFile of data?.docAssociateLists">\r\n                                  <app-multi-file-view [Uid]="doclistFile?.docUID"></app-multi-file-view>\r\n                               </span></td>\r\n\r\n\r\n                            </tr>\r\n\r\n                          </tbody>\r\n                          <ng-template #noEoffice>\r\n                            <tbody>\r\n                              <tr>\r\n                                <td colspan="3"><span class="error">No record Found.</span></td>\r\n                              </tr>\r\n                            </tbody>  \r\n                          </ng-template>\r\n                        </table>\r\n                        \r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n\r\n\r\n              <div class="row mb-4">\r\n                <div class="col-md-12">\r\n                  <div class="card ">\r\n                    <div class="card-header text-center"><b>Payments </b></div>\r\n                    <div class="card-body card_body_fix_height">\r\n\r\n\r\n                      <app-payment-aggregate></app-payment-aggregate>\r\n\r\n\r\n\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n\r\n\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n\r\n<div class="popup-overlay" *ngIf="modalPopup"></div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\x3c!-- Withdraw Start --\x3e\r\n<div class="popup-overlay" *ngIf="WithdrawPopup"></div>\r\n<div class="modal show" *ngIf="WithdrawPopup">\r\n  <div class="modal-dialog modal-xl">\r\n    <div class="modal-content">\r\n\r\n      \x3c!-- Modal Header --\x3e\r\n      <div class="modal-header">\r\n        <h4 class="modal-title">Withdraw Project</h4>\r\n        <button type="button" class="close" (click)="closePopupWithdraw()">&times;</button>\r\n      </div>\r\n\r\n      \x3c!-- Modal body --\x3e\r\n      <div class="modal-body">\r\n\r\n\r\n        <app-project-withdraw [projectRegId]="projectRegIdForSelector"  (myOutput) ="GetChildData($event)"></app-project-withdraw>\r\n\r\n\r\n\r\n        \x3c!-- Modal footer --\x3e\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div> \r\n\x3c!-- Withdraw End --\x3e\r\n\r\n<div class="modal show" *ngIf="applyPopup">\r\n  <div class="modal-dialog modal-lg">\r\n    <div class="modal-content">\r\n      <div class="modal-header">\r\n        <h4 class="modal-title">Checklist</h4>\r\n        <button type="button" class="close" (click)="popupCheckClose()">&times;</button>\r\n      </div>\r\n      <div class="modal-body">\r\n        <p class="mb-3">To ensure quick application submission, please go through below checklist and keep them ready before filling application online</p>\r\n        <p>A. Checklist of Key Information Required - <a class="link-color" href="/resources/staticpage/checklistDoc1.pdf" download>Download</a></p>\r\n        <p>B. Checklist of Key Documents Required - <a class="link-color" href="/resources/staticpage/checklistDoc2.pdf" download>Download</a></p>\r\n        <p>C. Project Document Index - <a class="link-color" href="/resources/staticpage/checklistDoc3.pdf" download>Download</a></p>\r\n        <p class="errorMsg text-center mt-3">(Please bring hard copy of Affidavits at the time of hard copy submission of your application)</p>\r\n      </div>\r\n      <div class="modal-footer">\r\n        <button value="Submit"  class="btn btn-primary" (click)="popupOk()">OK</button>\r\n          </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="popup-overlay" *ngIf="applyPopup"></div>\r\n<div id="alt_int_f" *ngIf="tabTicket" class=" tab-pane active">\r\n\r\n\r\n  <div class="card-body card_body_fix_height">\r\n    <div class="table-responsive pb-2">\r\n      \x3c!-- <app-ticket-view [callableTicket]="callBackTicket"></app-ticket-view> --\x3e\r\n    </div>\r\n  </div>\r\n  \x3c!-- <div class="card-footer text-right"><a href="#" class="badge  text-dark"><i\r\n        class="icon icon-calendar"></i> Communication</a> | <a href="#" class="badge  text-dark"><i\r\n        class="icon icon-folder-open-empty"></i> History</a> </div> --\x3e\r\n\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n<div class="modal show" *ngIf="applyForBCRNotificationPop">\r\n  <div class="modal-dialog modal-lg">\r\n    <div class="modal-content">\r\n      <div class="modal-header">\r\n        <h4 class="modal-title">Bank Change Request</h4>\r\n        <button type="button" class="close" (click)="bcrPopupClose()">&times;</button>\r\n      </div>\r\n      <div class="modal-body">\r\n        <span>\r\n          Is your bank account as per RERA banking directions, 2018?\r\n        </span>\r\n        \r\n      </div>\r\n      <div class="modal-footer">\r\n        <button value="Submit"  class="btn btn-primary" (click)="bcrPopupOk(\'YES\')">Yes</button>\r\n        <button value="Submit"  class="btn btn-primary" (click)="bcrPopupOk(\'NO\')">No</button>\r\n          </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="popup-overlay" *ngIf="applyForBCRNotificationPop"></div>\r\n\r\n\r\n\r\n\r\n<div class="modal show" *ngIf="applyForBCRNotificationPopSecond">\r\n  <div class="modal-dialog modal-lg">\r\n    <div class="modal-content">\r\n      <div class="modal-header">\r\n        <h4 class="modal-title">Bank Change Request</h4>\r\n        <button type="button" class="close" (click)="bcrPopupClose2()">&times;</button>\r\n      </div>\r\n      <div class="modal-body">\r\n        <span>\r\n          Do you want to proceed with BCR or Data Correction?\r\n        </span>\r\n        \r\n      </div>\r\n      <div class="modal-footer">\r\n        <button value="Submit"  class="btn btn-primary" (click)="bcrPopupOk2(\'YES\')">BCR</button>\r\n        <button value="Submit"  class="btn btn-primary" (click)="bcrPopupOk2(\'NO\')">Data Correction</button>\r\n          </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="popup-overlay" *ngIf="applyForBCRNotificationPopSecond"></div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n<app-create-ticket [createTicket]="ticketPopUp"></app-create-ticket>\r\n<app-change-land-detail></app-change-land-detail>\r\n<app-loader *ngIf="loadingSpinner"></app-loader>\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n<app-confirmation-box (outEm)="confirmationEvent($event)" [showMessage]="confirmationEventB"></app-confirmation-box>'},QK1p:function(t,e,a){"use strict";a.r(e),e.default='\x3c!-- <app-form-five-preview></app-form-five-preview> --\x3e\r\n<app-authority-form-five-preview></app-authority-form-five-preview>\r\n\r\n<div>\r\n    <div class="row">\r\n      <div class="col-md-12">\r\n        <div class="text-center">\r\n\r\n          \x3c!-- <button  type="button" [disabled]="initiateFormData.promoterStatus == \'ACCEPTED\'"  class="btn btn-success ml-4"  (click)="prmoterAccept()" > Accept</button>\r\n          <button  type="button"  class="btn btn-danger ml-4"  (click)="reasign()" *ngIf="initiateFormData.promoterStatus != \'ACCEPTED\'" > Reject</button> --\x3e\r\n\r\n\r\n\r\n          <button  type="button" *ngIf="(initiateFormData.financialYearStatus == \'ACTIVE\' && initiateFormData.status == \'ESIGNED\' && initiateFormData.vcsStatus ==null)" class="btn btn-success ml-4"  (click)="fORM5AcceptAndReject(\'ACCEPTED\')" > Accept</button>\r\n          <button  type="button" *ngIf="(initiateFormData.financialYearStatus == \'ACTIVE\' && initiateFormData.status == \'ESIGNED\' && initiateFormData.vcsStatus ==\'VCS_INITIATED\')" class="btn btn-success ml-4"  (click)="vcsPaymentNavigate()" > Pay and Accept</button>\r\n          \x3c!-- <button  type="button"  class="btn btn-danger ml-4"  (click)="rejectByPromoter()" *ngIf="(initiateFormData.financialYearStatus == \'ACTIVE\' && initiateFormData.status == \'ESIGNED\')" > Reject</button> --\x3e\r\n\r\n          <button  type="button"  class="btn btn-danger ml-4"  (click)="showConfirmation(\'REJECT\')" *ngIf="(initiateFormData.financialYearStatus == \'ACTIVE\' && initiateFormData.status == \'ESIGNED\')" > Reject</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</div>\r\n<app-validation-message [message]="inputJson"></app-validation-message>\r\n<app-confirmation-box (outEm)="confirmationEvent($event)" [showMessage]="confirmationEventB"></app-confirmation-box>'},QTqu:function(t,e,a){"use strict";a.r(e),e.default='<div class="row" *ngIf="showVerification">\r\n    <div class="col-md-12">\r\n        <app-payment-verification [transactional]="transactionalData"\r\n            (buttonStatus)="outPutHandle($event)"></app-payment-verification>\r\n    </div>\r\n</div>\r\n\r\n<div class="card shadow">\r\n    <div class="alert alert-danger" *ngIf="errorMsg">\r\n        <strong>Error!</strong> Please Fill All Valid Values.\r\n    </div>\r\n    <div class="alert alert-success" *ngIf="successMsg">\r\n        <strong>Success!</strong> Submitted Successfully.\r\n    </div>\r\n    <div class="card-header"><b>Payment</b></div>\r\n\r\n    <form [formGroup]="paymentForm" id="validateFoem">\r\n\r\n        <input type="hidden" class="form-control" [(ngModel)]="encDataValue" formControlName="encData">\r\n        <input type="hidden" class="form-control" [(ngModel)]="encDataValue_SBI" formControlName="encData_SBI">\r\n        <input type="hidden" class="form-control" [(ngModel)]="paymentGatewayValue" formControlName="paymentGateway">\r\n        <div class="card-body">\r\n            <div class="alert alert-danger text-center" *ngIf="paymentFailed">\r\n                {{paymentMsg}}\r\n            </div>\r\n            <div class="alert alert-danger font-weight-bold text-center">\r\n                <h2 class="text-danger text-big mb-0">\u201cPLEASE DO NOT PRESS BACK OR REFRESH\u201d FROM THIS POINT ONWARDS.\r\n                </h2>\r\n            </div>\r\n\r\n            <div class="row">\r\n                <div class="col-md-4">\r\n                    <div class="title col-md-12  mt-2 mb-1 Title_y">Payment Details</div>\r\n                    <div class="col-md-12 pt-4 pb-4 bg-light">\r\n                        <div class="form-group">\r\n\r\n                            <label class="control-label"> Payment head </label>\r\n\r\n                            <input type="text" class="form-control" readonly value="{{chllanData.registraionType}}"\r\n                                placeholder="">\r\n\r\n\r\n                        </div>\r\n                        <div class="form-group">\r\n\r\n                            <label class="control-label">GujRERA Unique Token Number</label>\r\n                            <input type="text" class="form-control" disabled placeholder=""\r\n                                formControlName="paymentTokenNo" [(ngModel)]="chllanData.tokenNo">\r\n                        </div>\r\n                        <div class="form-group">\r\n                            <label class="control-label">Amount (<i class="fa fa-inr" aria-hidden="true"></i>)\r\n                                <sup>*</sup></label>\r\n                            <input type="text" class="form-control" readonly placeholder="" formControlName="reqAmount"\r\n                                [(ngModel)]="chllanData.amount">\r\n                        </div>\r\n\r\n\r\n                        \r\n\r\n                        <div class="form-group">\r\n                            <label class="control-label">Total Amount (<i class="fa fa-inr" aria-hidden="true"></i>)\r\n                                <sup>*</sup></label>\r\n                            <input type="text" class="form-control" readonly [(ngModel)]="chllanData.totalProjectAmount"\r\n                                placeholder="" formControlName="reqTotalAmount">\r\n                        </div>\r\n\r\n\r\n\r\n\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="col-md-8 customPaymentList">\r\n                    <app-payment-description></app-payment-description>\r\n\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-md-12">\r\n                    <div class="title col-md-12  mt-2 mb-4 Title_y">Terms & Conditions</div>\r\n                    <div class="form-group mr-3 ml-4 mt-1">\r\n                        <p><input type="checkbox" (change)="checkValue($event)" name="checkPenalty"\r\n                                class="requiredValFld" name="affirm" id="affirm">\r\n                            I agree to all Terms and Condition defined by GUJRERA For using Online Payment Gateway\r\n                            Facility using this Portal. The detailed T&amp;C can be found <b>\u201dTerms &amp;\r\n                                Conditions\u201d</b> Section on this website.\r\n                            <span class="requiredValFldMsg">Please accept Terms and Conditions.</span>\r\n                        </p>\r\n                    </div>\r\n                    <div class="form-group mr-3 ml-4 mt-1">\r\n                        <p><input type="checkbox" (change)="checkValue($event)" class="requiredValFld" name="affirm"\r\n                                id="affirm"> The required information as per the RERA act will be displayed in public\r\n                            domain\r\n                            <span class="requiredValFldMsg"> Please affirm the declarations.</span>\r\n                        </p>\r\n                    </div>\r\n                    <div class="form-group mr-3 ml-4 mt-1">\r\n                        <p>\r\n                            <input type="checkbox" (change)="checkValue($event)" class="requiredValFld" name="affirm"\r\n                                id="affirm"> [I/We] solemnly affirm and declare that the particulars given in herein are\r\n                            correct to [my /our] knowledge and belief and nothing material has been concealed by [me/us]\r\n                            therefrom\r\n                            <span class="requiredValFldMsg"> Please affirm the declarations.</span>\r\n\r\n                        </p>\r\n                    </div>\r\n                    <div class="form-group mr-3 ml-4 mt-1">\r\n                        <p>\r\n                            <input type="checkbox" (click)="checkValue($event)" class="requiredValFld" name="agree"> I\r\n                            agree to all Terms and Condition defined by GUJRERA for using Online Payment Gateway\r\n                            facility using this Portal <a\r\n                                href="/resources/staticpage/Gujrera_User_Manual_Grievance_Redressal_v1_External_Users.pdf"\r\n                                target="_blank" title="Click Here" class="text-danger font-weight-bold"> (here)</a>. I\r\n                            also agree to all Terms and Condition defined by <strong>Payment Gateway Service provider\r\n                                (SBI ePay or HDFC Payment Gateway - as may be applicable)</strong> for performing the\r\n                            payment transaction as you will experience in subsequent steps after this page.\r\n                            <span class="requiredValFldMsg"> Please accept Terms and Conditions.</span>\r\n\r\n                        </p>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n            <div class="text-center">\r\n                <button type="button" class="btn btn-primary" value="previous" (click)="navigatePrev()">\r\n                    Previous</button>\r\n                <button type="button" *ngIf="checkPayment" class="btn btn-primary" value="next" disabled id="paymentBtn"\r\n                    (click)="postPaymentDetails()"><i class="fa fa-spinner fa-spin text-white" *ngIf="loader"\r\n                        aria-hidden="true"></i> Pay</button>\r\n            </div>\r\n        </div>\r\n\r\n    </form>\r\n</div>\r\n\r\n<app-gateway-selection (gatewayOutput)="selectGatewayConfirm($event)"\r\n    [gatewayInput]="openGatewayPop"></app-gateway-selection>\r\n<app-validation-message [message]="inputJson"></app-validation-message>'},Z4li:function(t,e,a){"use strict";a.r(e),e.default=""},bM3u:function(t,e,a){"use strict";a.r(e),e.default=""},crBA:function(t,e,a){"use strict";a.r(e),e.default=""},dF3W:function(t,e,a){"use strict";a.r(e),e.default=""},"f/PK":function(t,e,a){"use strict";a.r(e),e.default='<div class="card ">\r\n  <div class="card-header text-center"><b>Agent yearly Details</b></div>\r\n  <div class="card-body card_body_fix_height">\r\n    <div class="table-responsive pb-2">\r\n      <table class="table table-bordered text-center">\r\n        <thead>\r\n          <tr class="bg-gray text-dark">\r\n            <th>Sr. No.</th>\r\n            <th>Agent Name</th>\r\n            <th>Agent Type</th>\r\n            <th>Registration No.</th>\r\n            <th>Unit List</th>\r\n            \x3c!-- <th>Status/Action</th> --\x3e\r\n          </tr>\r\n        </thead>\r\n        <tbody *ngIf="yearlyDetailsList?.length > 0; else noyearlydata">\r\n          <tr *ngFor="let data of yearlyDetailsList, let ip = index">\r\n            <td>{{ip+1}}</td>\r\n            <td>{{data?.agentName}}</td>\r\n            <td>{{data?.agentType}}</td>\r\n            <td>{{data?.agentRegNo}}</td>\r\n            <td>\r\n              <span class="mr-2 pr-1" *ngFor="let unit of data?.unitsList">{{unit?.flatNo}} - {{unit.blockName}}</span>\r\n            </td>\r\n            \x3c!-- <td>\r\n              <ng-container *ngIf="data?.promoterStatus === \'VERIFIED\' || data?.promoterStatus === \'REJECTED\';else verifyit">{{data?.promoterStatus}}</ng-container>\r\n              <ng-template #verifyit>\r\n                <p><button class="btn btn-small bg-warning mr-1" (click)="vefifyDetails(data?.workStatusId, \'VERIFIED\')">Verify</button></p>\r\n                <p><button class="btn btn-small bg-warning mr-1" (click)="vefifyDetails(data?.workStatusId, \'REJECTED\')">Reject</button></p>\r\n              </ng-template>\r\n            </td> --\x3e\r\n          </tr>\r\n        </tbody>\r\n\r\n        <ng-template #noyearlydata>\r\n          <tbody>\r\n            <tr>\r\n              <td colspan="5"><span class="error">No record Found.</span></td>\r\n            </tr>\r\n          </tbody>\r\n        </ng-template>\r\n\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n'},fuFu:function(t,e,a){"use strict";a.r(e),e.default=""},pXoz:function(t,e,a){"use strict";a.r(e),e.default='<div class="card shadow ">\r\n    <div class="card-header text-center"><b>Allotee Interaction Forum </b></div>\r\n    <div class=" card_body_fix_height p-4 ">\r\n<div class="productPage projectDashBox">\r\n    <div class="prodtabContent">\r\n        <div class="aif">\r\n            <div class="aifBox">\r\n                <div class="qaWrap w-100">\r\n                    <div *ngFor="let data of getAllotieTopic.allotteeTopicList">\r\n                        \x3c!-- <div class="com_img"><img alt="#" src="http://i.imgur.com/alhW9dj.png"> </div> --\x3e\r\n                        <div class="que">\r\n                            <div class="img"><img class="img-fluid" src="{{citizenImage}}" alt=""></div>\r\n                            <div class="text">\r\n                              <p class="msg"> {{data.topicName}} </p>\r\n                              <p class="name">{{data.createrName}} \x3c!--<span>13:11:39</span>--\x3e</p>\r\n                            </div>\r\n                          </div>\r\n\r\n                        \x3c!-- <div class="com_text"> <span\r\n                                class="badge bg-warning text-dark">{{data.createrName}} -\r\n                            </span> {{data.topicName}} </div> --\x3e\r\n                        <div class="com_btn"><button type="button"\r\n                                (click)="onLike(data.allotteeForumId)"><i\r\n                                    class="icon icon-thumbs-up mr-2"></i>Like\r\n                                {{data.topicLikesList?.length}}</button> &nbsp;\r\n                            <button type="button" (click)="onReplyModal(data.allotteeForumId)"><i\r\n                                    class="icon icon-paper-plane mr-2"></i>Reply</button>\r\n                        </div>\r\n                        <div *ngIf="data.topicReplyList.length != 0">\r\n                           \r\n                                <div class="mb-4"\r\n                                    *ngFor="let abc of data.topicReplyList ">\r\n                                    <div class="ans">\r\n                                        <div class="text">\r\n                                          <p class="msg">{{abc.replyedText}}</p>\r\n                                            <p class="name">{{abc.replierName}} \x3c!--<span>13:11:39</span>--\x3e</p>\r\n                                        </div>\r\n                                        \x3c!-- <div class="img"><img class="img-fluid" src="{{fileDownlod}}{{twitterResponse?.individualPhotoDocUId}}" alt=""></div> --\x3e\r\n                                      </div>\r\n\r\n                                    \x3c!-- <div class="comment_reply">\r\n                                        <div class="com_img_reply"> </div>\r\n                                        <div class="com_text_reply"> <span\r\n                                                class="badge bg_blue">{{abc.replierName}}</span>\r\n                                            {{abc.replyedText}}\r\n\r\n                                        </div>\r\n\r\n                                    </div> --\x3e\r\n\r\n\r\n                                </div>\r\n\r\n                           \r\n\r\n                        </div>\r\n\r\n\r\n\r\n\r\n                        <div class="com_input"\r\n                            *ngIf="replyText && data.allotteeForumId === replyBoxId">\r\n                            <div class="input-group input-group-sm ">\r\n                                <form [formGroup]="replyGroup"\r\n                                    (submit)="replySubmit(data.allotteeForumId)" class="form-inline replayArea">\r\n                                    <input type="text" class="form-control"\r\n                                        formControlName="replyTopic" name="replyTopic">\r\n                                    <div class="input-group-append"> <span class="input-group-text">\r\n                                            <button type="submit" class="btn sprite"> send</button> </span> </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n    </div>\r\n</div>\r\n\r\n<div class="input-group input-group-sm mt-4 bg-white">\r\n    <form [formGroup]="newTopicGroup" (submit)="submitTopic()" class="form-inline replayArea">\r\n        <div class="input-group-append"> </div>\r\n        <input type="text" class="form-control" formControlName="newTopic" name="newTopic"> &nbsp;\r\n        <button  type="submit" class="input-group-append btn sprite">\r\n            Send</button>\r\n    </form>\r\n</div>\r\n</div>\r\n</div>\r\n\r\n\r\n    </div>\r\n\r\n\r\n</div>\r\n'},q9cf:function(t,e,a){"use strict";a.r(e),e.default=".button-box button {\n  font-size: 12px;\n  padding: 6px;\n  margin: 6px;\n}\n\n.text_class div {\n  font-size: 10px;\n  margin-left: 4px;\n}\n\n.button-box .active {\n  background-color: #32a761;\n}\n\n.button-box .submitted {\n  background-color: #404dad;\n}\n\n.button-box .inactive {\n  background-color: #828282;\n}\n\n.button-box .exempt {\n  background-color: #ec7b0d;\n}\n\n.button-box .defaulter {\n  background-color: #e31e25;\n}\n\n.button-box .defaultactive {\n  background-color: #04bdc5;\n}\n\n.button-box .essigned {\n  background-color: #b32194;\n}\n\n.button-box .active, .button-box .submitted, .button-box .inactive, .button-box .exempt, .button-box .defaultactive, .button-box .defaulter {\n  color: white;\n}"},sTOc:function(t,e,a){"use strict";a.r(e),e.default=""},vp6C:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var r=a("mrSG"),n=a("8Y7J"),i=a("vTBr"),o=a("FvaC"),s=a("2Vo4"),l=function(){function t(e,a){var r=this;_classCallCheck(this,t),this._http=e,this._apiURL=a,this.shareData=new s.a(null),this.vcsPaymentFaild=new s.a({}),this.paymentFaild=new s.a({}),this.rejectedByPromoter=function(t){return r._http.securepost(r._apiURL.formFiveApi+"secure/form-five/rejectFormFive",t)}}return _createClass(t,[{key:"getProjectFormFiveDetailAdditional",value:function(t){return this._http.secureget(this._apiURL.formFiveApi+"secure/financial-year/list"+t)}},{key:"getProjectFormFiveDetail",value:function(t){return this.data=this._http.secureget(this._apiURL.formFiveApi+"secure/form-five/get-qe-dtl"+t),this.data}},{key:"verifyCaNumber",value:function(t){return this._http.get(this._apiURL.registrationAPI+"ca/ca-detail/no/"+t)}},{key:"formFive",value:function(t){return this._http.secureget(this._apiURL.formFiveApi+"secure/form-five/getFormFiveById"+t)}},{key:"assigned",value:function(t){return this._http.securepost(this._apiURL.formFiveApi+"secure/form-five/updateFormFive",t)}},{key:"assignCANewService",value:function(t){return this._http.securepost(this._apiURL.formFiveApi+"secure/form-five/asignedFormFive-to-ca",t)}},{key:"getParentDetail",value:function(t){return this._http.secureget(this._apiURL.formFiveApi+"secure/project-dtl"+t)}},{key:"checkFormThree",value:function(t,e){return this._http.secureget(this._apiURL.formThreeApi+"secure/getform-three-by-ca-number/"+t+"/"+e)}},{key:"getFormFiveLog",value:function(t){return this._http.secureget(this._apiURL.formFiveApi+"secure/log/get-log-by-form-five-id"+t)}},{key:"searchByPanCard",value:function(t,e){return this._http.secureget(this._apiURL.registrationAPI+"secure/user_details_by_pan_and_type/"+t+"/"+e)}},{key:"replyService",value:function(t){return this._http.securepost(this._apiURL.formFiveApi+"secure/enquiry/promoter-reply",t)}},{key:"getHistory",value:function(t){return this._http.secureget(this._apiURL.formFiveApi+"secure/enquiry/get-by-form-five-id/"+t)}},{key:"getChallanDetails",value:function(t){return this._http.secureget(this._apiURL.formFiveApi+"secure/challan/payment/details/challan/"+t)}},{key:"postPaymentDetailsService",value:function(t){return this._http.securepost(this._apiURL.payment+"secure/savePaymentDetail",t)}},{key:"postPaymentDetailResultService",value:function(t){return this._http.securepost(this._apiURL.formFiveApi+"secure/challan/payment/modify",t)}},{key:"getFormFiveChallanService",value:function(t){return this._http.secureget(this._apiURL.formFiveApi+"secure/challan/get-challans-by-project-id/"+t)}},{key:"getFormFiveDefaulterData",value:function(t){return this._http.secureget(this._apiURL.formFiveApi+"secure/defaulter-log/get-by-form-five-id/"+t)}},{key:"getPaymentRefence",value:function(t){return this._http.secureget(this._apiURL.payment+"secure/getPaymentByTrxNo/"+t)}},{key:"statusUpdateData",value:function(t,e){return this._http.securepost(this._apiURL.formFiveApi+"secure/form-five/update-statusById/"+e+"/"+t,null)}},{key:"encPaymentDetailsService",value:function(t){return this._http.post(this._apiURL.payment+"encDataForSecurePay",t)}},{key:"getStatusData",value:function(t){return this._http.secureget(this._apiURL.formFiveApi+"secure/vcs/payment/getDefaultStatusFormFive/"+t)}},{key:"getFormFiveVcsChallan",value:function(t,e){return this._http.secureget("".concat(this._apiURL.formFiveApi,"secure/vcs/payment/initiateVCSPayment/").concat(t,"/").concat(e))}},{key:"vcsPostPaymentDetailResultService",value:function(t){return this._http.securepost(this._apiURL.formFiveApi+"secure/vcs/payment/modify",t)}},{key:"activateVcs24",value:function(t){return this._http.securepost(this._apiURL.formFiveApi+"secure/vcs/payment/activateVCSStatus/"+t,null)}},{key:"vcsAmount",value:function(t){return this._http.secureget("".concat(this._apiURL.formFiveApi,"secure/vcs/payment/getDefaultFFPayAmount/").concat(t))}},{key:"vcsPostPayment",value:function(t){return this._http.post(this._apiURL.payment+"savePaymentDetail",t)}}]),t}();l.ctorParameters=function(){return[{type:i.a},{type:o.a}]},l=r.b([Object(n.B)({providedIn:"root"})],l)}}]);